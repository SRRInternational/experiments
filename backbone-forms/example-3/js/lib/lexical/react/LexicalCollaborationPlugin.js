/*! For license information please see LexicalCollaborationPlugin.js.LICENSE.txt */
define((()=>(()=>{"use strict";var e={2551:(e,t,n)=>{var r=n(6540),i=n(9982);function l(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function a(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,l,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,_);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var z=Symbol.iterator;function F(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}var I,A=Object.assign;function R(e){if(void 0===I)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var W=!1;function B(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),l=r.stack.split("\n"),o=i.length-1,s=l.length-1;1<=o&&0<=s&&i[o]!==l[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==l[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==l[s]){var a="\n"+i[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}}while(1<=o&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function U(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return B(e.type,!1);case 11:return B(e.type.render,!1);case 1:return B(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case x:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return j(e(t))}catch(e){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function G(e,t){X(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(l(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(l(92));if(te(n)){if(1<n.length)throw Error(l(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function le(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(l(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(l(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(l(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(l(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,xe=null,Se=null;function Ce(e){if(e=mi(e)){if("function"!=typeof we)throw Error(l(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Ee(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ne(e,t){return e(t)}function Pe(){}var Le=!1;function Oe(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ne(e,t,n)}finally{Le=!1,(null!==xe||null!==Se)&&(Pe(),Te())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(l(231,t,typeof n));return n}var De=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){De=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ce){De=!1}function Fe(e,t,n,r,i,l,o,s,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Ie=!1,Ae=null,Re=!1,We=null,Be={onError:function(e){Ie=!0,Ae=e}};function Ue(e,t,n,r,i,l,o,s,a){Ie=!1,Ae=null,Fe.apply(Be,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(l(188))}function Ke(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(l(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ve(i),e;if(o===r)return Ve(i),t;o=o.sibling}throw Error(l(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(l(189))}}if(n.alternate!==r)throw Error(l(190))}if(3!==n.tag)throw Error(l(188));return n.stateNode.current===n?e:t}(e),null!==e?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Ge=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,lt=null,ot=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(st(e)/at|0)|0},st=Math.log,at=Math.LN2,ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!=(l&=o)&&(r=dt(l))}else 0!=(o=n&~i)?r=dt(o):0!==l&&(r=dt(l));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(l=t&-t)||16===i&&4194240&l))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function vt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var bt,kt,wt,xt,St,Ct=!1,Et=[],Tt=null,Nt=null,Pt=null,Lt=new Map,Ot=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Ft(e,t,n,r,i,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},null!==t&&null!==(t=mi(t))&&kt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=gi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void St(e.priority,(function(){wt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function At(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Rt(e,t,n){At(e)&&n.delete(t)}function Wt(){Ct=!1,null!==Tt&&At(Tt)&&(Tt=null),null!==Nt&&At(Nt)&&(Nt=null),null!==Pt&&At(Pt)&&(Pt=null),Lt.forEach(Rt),Ot.forEach(Rt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Wt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Bt(Tt,e),null!==Nt&&Bt(Nt,e),null!==Pt&&Bt(Pt,e),Lt.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)It(n),null===n.blockedOn&&Mt.shift()}var jt=b.ReactCurrentBatchConfig,$t=!0;function Vt(e,t,n,r){var i=_t,l=jt.transition;jt.transition=null;try{_t=1,Ht(e,t,n,r)}finally{_t=i,jt.transition=l}}function Kt(e,t,n,r){var i=_t,l=jt.transition;jt.transition=null;try{_t=4,Ht(e,t,n,r)}finally{_t=i,jt.transition=l}}function Ht(e,t,n,r){if($t){var i=Yt(e,t,n,r);if(null===i)Ur(e,t,r,Qt,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ft(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Ft(Nt,e,t,n,r,i),!0;case"mouseover":return Pt=Ft(Pt,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Lt.set(l,Ft(Lt.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Ot.set(l,Ft(Ot.get(l)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var l=mi(i);if(null!==l&&bt(l),null===(l=Yt(e,t,n,r))&&Ur(e,t,r,Qt,n),l===i)break;i=l}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=ke(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ge()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Gt=null;function Zt(){if(Gt)return Gt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,l=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[l-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function en(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function tn(){return!0}function nn(){return!1}function rn(e){function t(t,n,r,i,l){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?tn:nn,this.isPropagationStopped=nn,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=tn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=tn)},persist:function(){},isPersistent:tn}),t}var ln,on,sn,an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(an),cn=A({},an,{view:0,detail:0}),dn=rn(cn),fn=A({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(ln=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=ln=0,sn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:on}}),hn=rn(fn),pn=rn(A({},fn,{dataTransfer:0})),gn=rn(A({},cn,{relatedTarget:0})),mn=rn(A({},an,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=rn(A({},an,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=rn(A({},an,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function xn(){return wn}var Sn=A({},cn,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=en(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?en(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?en(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=rn(Sn),En=rn(A({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=rn(A({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Nn=rn(A({},an,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=rn(A({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ln=[9,13,27,32],On=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Mn,zn=c&&(!On||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),In=!1;function An(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function jn(e,t,n,r){Ee(r),0<(t=$r(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Vn=null;function Kn(e){Fr(e,0)}function Hn(e){if(Q(yi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(c){var qn;if(c){var Jn="oninput"in document;if(!Jn){var Xn=document.createElement("div");Xn.setAttribute("oninput","return;"),Jn="function"==typeof Xn.oninput}qn=Jn}else qn=!1;Yn=qn&&(!document.documentMode||9<document.documentMode)}function Gn(){$n&&($n.detachEvent("onpropertychange",Zn),Vn=$n=null)}function Zn(e){if("value"===e.propertyName&&Hn(Vn)){var t=[];jn(t,Vn,e,ke(e)),Oe(Kn,t)}}function er(e,t,n){"focusin"===e?(Gn(),Vn=n,($n=t).attachEvent("onpropertychange",Zn)):"focusout"===e&&Gn()}function tr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Vn)}function nr(e,t){if("click"===e)return Hn(t)}function rr(e,t){if("input"===e||"change"===e)return Hn(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!ir(e[i],t[i]))return!1}return!0}function or(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=or(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=or(r)}}function ar(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ar(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ur(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=ur(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ar(n.ownerDocument.documentElement,n)){if(null!==r&&cr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=void 0===r.end?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=sr(n,l);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fr=c&&"documentMode"in document&&11>=document.documentMode,hr=null,pr=null,gr=null,mr=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==hr||hr!==Y(r)||(r="selectionStart"in(r=hr)&&cr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&lr(gr,r)||(gr=r,0<(r=$r(pr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},br={},kr={};function wr(e){if(br[e])return br[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return br[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var xr=wr("animationend"),Sr=wr("animationiteration"),Cr=wr("animationstart"),Er=wr("transitionend"),Tr=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),a(t,[e])}for(var Lr=0;Lr<Nr.length;Lr++){var Or=Nr[Lr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Sr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Er,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,a,u){if(Ue.apply(this,arguments),Ie){if(!Ie)throw Error(l(198));var c=Ae;Ie=!1,Ae=null,Re||(Re=!0,We=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],a=s.instance,u=s.currentTarget;if(s=s.listener,a!==l&&i.isPropagationStopped())break e;zr(i,s,u),l=a}else for(o=0;o<r.length;o++){if(a=(s=r[o]).instance,u=s.currentTarget,s=s.listener,a!==l&&i.isPropagationStopped())break e;zr(i,s,u),l=a}}}if(Re)throw e=We,Re=!1,We=null,e}function Ir(e,t){var n=t[fi];void 0===n&&(n=t[fi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ar(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Rr]){e[Rr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Ar(t,!1,e),Ar(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Ar("selectionchange",!1,t))}}function Br(e,t,n,r){switch(qt(t)){case 1:var i=Vt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var l=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var a=o.tag;if((3===a||4===a)&&((a=o.stateNode.containerInfo)===i||8===a.nodeType&&a.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(a=o.tag)||6===a){r=l=o;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=l,i=ke(n),o=[];e:{var s=Tr.get(e);if(void 0!==s){var a=un,u=e;switch(e){case"keypress":if(0===en(n))break e;case"keydown":case"keyup":a=Cn;break;case"focusin":u="focus",a=gn;break;case"focusout":u="blur",a=gn;break;case"beforeblur":case"afterblur":a=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=Tn;break;case xr:case Sr:case Cr:a=mn;break;case Er:a=Nn;break;case"scroll":a=dn;break;case"wheel":a=Pn;break;case"copy":case"cut":case"paste":a=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=En}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&null!=(g=Me(p,f))&&c.push(jr(p,g,h))),d)break;p=p.return}0<c.length&&(s=new a(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(!(7&t)){if(a="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!gi(u)&&!u[di])&&(a||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,a?(a=r,null!==(u=(u=n.relatedTarget||n.toElement)?gi(u):null)&&(u!==(d=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(a=null,u=r),a!==u)){if(c=hn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==a?s:yi(a),h=null==u?s:yi(u),(s=new c(g,p+"leave",a,n,i)).target=d,s.relatedTarget=h,g=null,gi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=h,c.relatedTarget=d,g=c),d=g,a&&u)e:{for(f=u,p=0,h=c=a;h;h=Vr(h))p++;for(h=0,g=f;g;g=Vr(g))h++;for(;0<p-h;)c=Vr(c),p--;for(;0<h-p;)f=Vr(f),h--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==a&&Kr(o,s,a,c,!1),null!==u&&null!==d&&Kr(o,d,u,c,!0)}if("select"===(a=(s=r?yi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===a&&"file"===s.type)var m=Qn;else if(Un(s))if(Yn)m=rr;else{m=tr;var y=er}else(a=s.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=nr);switch(m&&(m=m(e,r))?jn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?yi(r):window,e){case"focusin":(Un(y)||"true"===y.contentEditable)&&(hr=y,pr=r,gr=null);break;case"focusout":gr=pr=hr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,yr(o,n,i);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":yr(o,n,i)}var _;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Wn?An(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(zn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Wn&&(_=Zt()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Wn=!0)),0<(y=$r(r,v)).length&&(v=new _n(v,e,null,n,i),o.push({event:v,listeners:y}),(_||null!==(_=Rn(n)))&&(v.data=_))),(_=Dn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(In=!0,Fn);case"textInput":return(e=t.data)===Fn&&In?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!On&&An(e,t)?(e=Zt(),Gt=Xt=Jt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=$r(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=_)}Fr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,l=i.stateNode;5===i.tag&&null!==l&&(i=l,null!=(l=Me(e,n))&&r.unshift(jr(e,l,i)),null!=(l=Me(e,t))&&r.push(jr(e,l,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var l=t._reactName,o=[];null!==n&&n!==r;){var s=n,a=s.alternate,u=s.stateNode;if(null!==a&&a===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(a=Me(n,l))&&o.unshift(jr(n,a,s)):i||null!=(a=Me(n,l))&&o.push(jr(n,a,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(Hr,"\n").replace(Qr,"")}function qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(l(425))}function Jr(){}var Xr=null,Gr=null;function Zr(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"==typeof setTimeout?setTimeout:void 0,ti="function"==typeof clearTimeout?clearTimeout:void 0,ni="function"==typeof Promise?Promise:void 0,ri="function"==typeof queueMicrotask?queueMicrotask:void 0!==ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function si(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ai=Math.random().toString(36).slice(2),ui="__reactFiber$"+ai,ci="__reactProps$"+ai,di="__reactContainer$"+ai,fi="__reactEvents$"+ai,hi="__reactListeners$"+ai,pi="__reactHandles$"+ai;function gi(e){var t=e[ui];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[ui]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=si(e);null!==e;){if(n=e[ui])return n;e=si(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[ui]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(l(33))}function _i(e){return e[ci]||null}var vi=[],bi=-1;function ki(e){return{current:e}}function wi(e){0>bi||(e.current=vi[bi],vi[bi]=null,bi--)}function xi(e,t){bi++,vi[bi]=e.current,e.current=t}var Si={},Ci=ki(Si),Ei=ki(!1),Ti=Si;function Ni(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,l={};for(i in n)l[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function Pi(e){return null!=e.childContextTypes}function Li(){wi(Ei),wi(Ci)}function Oi(e,t,n){if(Ci.current!==Si)throw Error(l(168));xi(Ci,t),xi(Ei,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(l(108,$(e)||"Unknown",i));return A({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ci.current,xi(Ci,e),xi(Ei,Ei.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(l(169));n?(e=Mi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,wi(Ei),wi(Ci),xi(Ci,e)):wi(Ei),xi(Ei,n)}var Fi=null,Ii=!1,Ai=!1;function Ri(e){null===Fi?Fi=[e]:Fi.push(e)}function Wi(){if(!Ai&&null!==Fi){Ai=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ii=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),Qe(Ze,Wi),t}finally{_t=t,Ai=!1}}return null}var Bi=[],Ui=0,ji=null,$i=0,Vi=[],Ki=0,Hi=null,Qi=1,Yi="";function qi(e,t){Bi[Ui++]=$i,Bi[Ui++]=ji,ji=e,$i=t}function Ji(e,t,n){Vi[Ki++]=Qi,Vi[Ki++]=Yi,Vi[Ki++]=Hi,Hi=e;var r=Qi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var l=32-ot(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Yi=l+e}else Qi=1<<l|n<<i|r,Yi=e}function Xi(e){null!==e.return&&(qi(e,1),Ji(e,1,0))}function Gi(e){for(;e===ji;)ji=Bi[--Ui],Bi[Ui]=null,$i=Bi[--Ui],Bi[Ui]=null;for(;e===Hi;)Hi=Vi[--Ki],Vi[Ki]=null,Yi=Vi[--Ki],Vi[Ki]=null,Qi=Vi[--Ki],Vi[Ki]=null}var Zi=null,el=null,tl=!1,nl=null;function rl(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function il(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Zi=e,el=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Zi=e,el=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Hi?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Zi=e,el=null,!0);default:return!1}}function ll(e){return!(!(1&e.mode)||128&e.flags)}function ol(e){if(tl){var t=el;if(t){var n=t;if(!il(e,t)){if(ll(e))throw Error(l(418));t=oi(n.nextSibling);var r=Zi;t&&il(e,t)?rl(r,n):(e.flags=-4097&e.flags|2,tl=!1,Zi=e)}}else{if(ll(e))throw Error(l(418));e.flags=-4097&e.flags|2,tl=!1,Zi=e}}}function sl(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Zi=e}function al(e){if(e!==Zi)return!1;if(!tl)return sl(e),tl=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Zr(e.type,e.memoizedProps)),t&&(t=el)){if(ll(e))throw ul(),Error(l(418));for(;t;)rl(e,t),t=oi(t.nextSibling)}if(sl(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(l(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){el=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}el=null}}else el=Zi?oi(e.stateNode.nextSibling):null;return!0}function ul(){for(var e=el;e;)e=oi(e.nextSibling)}function cl(){el=Zi=null,tl=!1}function dl(e){null===nl?nl=[e]:nl.push(e)}var fl=b.ReactCurrentBatchConfig;function hl(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(l(309));var r=n.stateNode}if(!r)throw Error(l(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!=typeof e)throw Error(l(284));if(!n._owner)throw Error(l(290,e))}return e}function pl(e,t){throw e=Object.prototype.toString.call(t),Error(l(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gl(e){return(0,e._init)(e._payload)}function ml(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var l=n.type;return l===x?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===l||"object"==typeof l&&null!==l&&l.$$typeof===M&&gl(l)===t.type)?((r=i(t,n.props)).ref=hl(e,t,n),r.return=e,r):((r=Ou(n.type,n.key,n.props,null,e.mode,r)).ref=hl(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,l){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,l)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Ou(t.type,t.key,t.props,null,e.mode,n)).ref=hl(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Mu(t,e.mode,n,null)).return=e,t;pl(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case M:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:d(e,t,n,r,null);pl(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return d(t,e=e.get(n)||null,r,i,null);pl(t,r)}return null}function g(i,l,s,a){for(var u=null,c=null,d=l,g=l=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var y=h(i,d,s[g],a);if(null===y){null===d&&(d=m);break}e&&d&&null===y.alternate&&t(i,d),l=o(y,l,g),null===c?u=y:c.sibling=y,c=y,d=m}if(g===s.length)return n(i,d),tl&&qi(i,g),u;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],a))&&(l=o(d,l,g),null===c?u=d:c.sibling=d,c=d);return tl&&qi(i,g),u}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],a))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),l=o(m,l,g),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach((function(e){return t(i,e)})),tl&&qi(i,g),u}function m(i,s,a,u){var c=F(a);if("function"!=typeof c)throw Error(l(150));if(null==(a=c.call(a)))throw Error(l(151));for(var d=c=null,g=s,m=s=0,y=null,_=a.next();null!==g&&!_.done;m++,_=a.next()){g.index>m?(y=g,g=null):y=g.sibling;var v=h(i,g,_.value,u);if(null===v){null===g&&(g=y);break}e&&g&&null===v.alternate&&t(i,g),s=o(v,s,m),null===d?c=v:d.sibling=v,d=v,g=y}if(_.done)return n(i,g),tl&&qi(i,m),c;if(null===g){for(;!_.done;m++,_=a.next())null!==(_=f(i,_.value,u))&&(s=o(_,s,m),null===d?c=_:d.sibling=_,d=_);return tl&&qi(i,m),c}for(g=r(i,g);!_.done;m++,_=a.next())null!==(_=p(g,i,m,_.value,u))&&(e&&null!==_.alternate&&g.delete(null===_.key?m:_.key),s=o(_,s,m),null===d?c=_:d.sibling=_,d=_);return e&&g.forEach((function(e){return t(i,e)})),tl&&qi(i,m),c}return function e(r,l,o,a){if("object"==typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case k:e:{for(var u=o.key,c=l;null!==c;){if(c.key===u){if((u=o.type)===x){if(7===c.tag){n(r,c.sibling),(l=i(c,o.props.children)).return=r,r=l;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===M&&gl(u)===c.type){n(r,c.sibling),(l=i(c,o.props)).ref=hl(r,c,o),l.return=r,r=l;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((l=Mu(o.props.children,r.mode,a,o.key)).return=r,r=l):((a=Ou(o.type,o.key,o.props,null,r.mode,a)).ref=hl(r,l,o),a.return=r,r=a)}return s(r);case w:e:{for(c=o.key;null!==l;){if(l.key===c){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(r,l.sibling),(l=i(l,o.children||[])).return=r,r=l;break e}n(r,l);break}t(r,l),l=l.sibling}(l=Fu(o,r.mode,a)).return=r,r=l}return s(r);case M:return e(r,l,(c=o._init)(o._payload),a)}if(te(o))return g(r,l,o,a);if(F(o))return m(r,l,o,a);pl(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==l&&6===l.tag?(n(r,l.sibling),(l=i(l,o)).return=r,r=l):(n(r,l),(l=zu(o,r.mode,a)).return=r,r=l),s(r)):n(r,l)}}var yl=ml(!0),_l=ml(!1),vl=ki(null),bl=null,kl=null,wl=null;function xl(){wl=kl=bl=null}function Sl(e){var t=vl.current;wi(vl),e._currentValue=t}function Cl(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function El(e,t){bl=e,wl=kl=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(ms=!0),e.firstContext=null)}function Tl(e){var t=e._currentValue;if(wl!==e)if(e={context:e,memoizedValue:t,next:null},null===kl){if(null===bl)throw Error(l(308));kl=e,bl.dependencies={lanes:0,firstContext:e}}else kl=kl.next=e;return t}var Nl=null;function Pl(e){null===Nl?Nl=[e]:Nl.push(e)}function Ll(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pl(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ol(e,r)}function Ol(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ml=!1;function Dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Il(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ca){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ol(e,n)}return null===(i=r.interleaved)?(t.next=t,Pl(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ol(e,n)}function Al(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Rl(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===l?i=l=o:l=l.next=o,n=n.next}while(null!==n);null===l?i=l=t:l=l.next=t}else i=l=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,r){var i=e.updateQueue;Ml=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var a=s,u=a.next;a.next=null,null===o?l=u:o.next=u,o=a;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=a)}if(null!==l){var d=i.baseState;for(o=0,c=u=a=null,s=l;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(f="function"==typeof(p=g.payload)?p.call(h,d,f):p))break e;d=A({},d,f);break e;case 2:Ml=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,a=d):c=c.next=h,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===l&&(i.shared.lanes=0);Da|=o,e.lanes=o,e.memoizedState=d}}function Bl(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(l(191,i));i.call(r)}}}var Ul={},jl=ki(Ul),$l=ki(Ul),Vl=ki(Ul);function Kl(e){if(e===Ul)throw Error(l(174));return e}function Hl(e,t){switch(xi(Vl,t),xi($l,e),xi(jl,Ul),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ae(null,"");break;default:t=ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wi(jl),xi(jl,t)}function Ql(){wi(jl),wi($l),wi(Vl)}function Yl(e){Kl(Vl.current);var t=Kl(jl.current),n=ae(t,e.type);t!==n&&(xi($l,e),xi(jl,n))}function ql(e){$l.current===e&&(wi(jl),wi($l))}var Jl=ki(0);function Xl(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gl=[];function Zl(){for(var e=0;e<Gl.length;e++)Gl[e]._workInProgressVersionPrimary=null;Gl.length=0}var eo=b.ReactCurrentDispatcher,to=b.ReactCurrentBatchConfig,no=0,ro=null,io=null,lo=null,oo=!1,so=!1,ao=0,uo=0;function co(){throw Error(l(321))}function fo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function ho(e,t,n,r,i,o){if(no=o,ro=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=null===e||null===e.memoizedState?Jo:Xo,e=n(r,i),so){o=0;do{if(so=!1,ao=0,25<=o)throw Error(l(301));o+=1,lo=io=null,t.updateQueue=null,eo.current=Go,e=n(r,i)}while(so)}if(eo.current=qo,t=null!==io&&null!==io.next,no=0,lo=io=ro=null,oo=!1,t)throw Error(l(300));return e}function po(){var e=0!==ao;return ao=0,e}function go(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?ro.memoizedState=lo=e:lo=lo.next=e,lo}function mo(){if(null===io){var e=ro.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===lo?ro.memoizedState:lo.next;if(null!==t)lo=t,io=e;else{if(null===e)throw Error(l(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===lo?ro.memoizedState=lo=e:lo=lo.next=e}return lo}function yo(e,t){return"function"==typeof t?t(e):t}function _o(e){var t=mo(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=io,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((no&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(a=u=f,s=r):u=u.next=f,ro.lanes|=d,Da|=d}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=a,ir(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ro.lanes|=o,Da|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vo(e){var t=mo(),n=t.queue;if(null===n)throw Error(l(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ir(o,t.memoizedState)||(ms=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function bo(){}function ko(e,t){var n=ro,r=mo(),i=t(),o=!ir(r.memoizedState,i);if(o&&(r.memoizedState=i,ms=!0),r=r.queue,Do(So.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,No(9,xo.bind(null,n,r,i,t),void 0,null),null===Ea)throw Error(l(349));30&no||wo(n,t,i)}return i}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ro.updateQueue)?(t={lastEffect:null,stores:null},ro.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function xo(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&Eo(e)}function So(e,t,n){return n((function(){Co(t)&&Eo(e)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(e){return!0}}function Eo(e){var t=Ol(e,1);null!==t&&Za(t,e,1,-1)}function To(e){var t=go();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ko.bind(null,ro,e),[t.memoizedState,e]}function No(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ro.updateQueue)?(t={lastEffect:null,stores:null},ro.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return mo().memoizedState}function Lo(e,t,n,r){var i=go();ro.flags|=e,i.memoizedState=No(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=mo();r=void 0===r?null:r;var l=void 0;if(null!==io){var o=io.memoizedState;if(l=o.destroy,null!==r&&fo(r,o.deps))return void(i.memoizedState=No(t,n,l,r))}ro.flags|=e,i.memoizedState=No(1|t,n,l,r)}function Mo(e,t){return Lo(8390656,8,e,t)}function Do(e,t){return Oo(2048,8,e,t)}function zo(e,t){return Oo(4,2,e,t)}function Fo(e,t){return Oo(4,4,e,t)}function Io(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ao(e,t,n){return n=null!=n?n.concat([e]):null,Oo(4,4,Io.bind(null,t,e),n)}function Ro(){}function Wo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bo(e,t){var n=mo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uo(e,t,n){return 21&no?(ir(n,t)||(n=gt(),ro.lanes|=n,Da|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n)}function jo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=to.transition;to.transition={};try{e(!1),t()}finally{_t=n,to.transition=r}}function $o(){return mo().memoizedState}function Vo(e,t,n){var r=Ga(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ho(e)?Qo(t,n):null!==(n=Ll(e,t,n,r))&&(Za(n,e,r,Xa()),Yo(n,t,r))}function Ko(e,t,n){var r=Ga(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ho(e))Qo(t,i);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=l(o,n);if(i.hasEagerState=!0,i.eagerState=s,ir(s,o)){var a=t.interleaved;return null===a?(i.next=i,Pl(t)):(i.next=a.next,a.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ll(e,t,i,r))&&(Za(n,e,r,i=Xa()),Yo(n,t,r))}}function Ho(e){var t=e.alternate;return e===ro||null!==t&&t===ro}function Qo(e,t){so=oo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yo(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var qo={readContext:Tl,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},Jo={readContext:Tl,useCallback:function(e,t){return go().memoizedState=[e,void 0===t?null:t],e},useContext:Tl,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Lo(4194308,4,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lo(4,2,e,t)},useMemo:function(e,t){var n=go();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=go();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vo.bind(null,ro,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},go().memoizedState=e},useState:To,useDebugValue:Ro,useDeferredValue:function(e){return go().memoizedState=e},useTransition:function(){var e=To(!1),t=e[0];return e=jo.bind(null,e[1]),go().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ro,i=go();if(tl){if(void 0===n)throw Error(l(407));n=n()}else{if(n=t(),null===Ea)throw Error(l(349));30&no||wo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(So.bind(null,r,o,e),[e]),r.flags|=2048,No(9,xo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=go(),t=Ea.identifierPrefix;if(tl){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ao++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=uo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xo={readContext:Tl,useCallback:Wo,useContext:Tl,useEffect:Do,useImperativeHandle:Ao,useInsertionEffect:zo,useLayoutEffect:Fo,useMemo:Bo,useReducer:_o,useRef:Po,useState:function(){return _o(yo)},useDebugValue:Ro,useDeferredValue:function(e){return Uo(mo(),io.memoizedState,e)},useTransition:function(){return[_o(yo)[0],mo().memoizedState]},useMutableSource:bo,useSyncExternalStore:ko,useId:$o,unstable_isNewReconciler:!1},Go={readContext:Tl,useCallback:Wo,useContext:Tl,useEffect:Do,useImperativeHandle:Ao,useInsertionEffect:zo,useLayoutEffect:Fo,useMemo:Bo,useReducer:vo,useRef:Po,useState:function(){return vo(yo)},useDebugValue:Ro,useDeferredValue:function(e){var t=mo();return null===io?t.memoizedState=e:Uo(t,io.memoizedState,e)},useTransition:function(){return[vo(yo)[0],mo().memoizedState]},useMutableSource:bo,useSyncExternalStore:ko,useId:$o,unstable_isNewReconciler:!1};function Zo(e,t){if(e&&e.defaultProps){for(var n in t=A({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function es(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ts={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xa(),i=Ga(e),l=Fl(r,i);l.payload=t,null!=n&&(l.callback=n),null!==(t=Il(e,l,i))&&(Za(t,e,i,r),Al(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xa(),i=Ga(e),l=Fl(r,i);l.tag=1,l.payload=t,null!=n&&(l.callback=n),null!==(t=Il(e,l,i))&&(Za(t,e,i,r),Al(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xa(),r=Ga(e),i=Fl(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Il(e,i,r))&&(Za(t,e,r,n),Al(t,e,r))}};function ns(e,t,n,r,i,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,o):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,l))}function rs(e,t,n){var r=!1,i=Si,l=t.contextType;return"object"==typeof l&&null!==l?l=Tl(l):(i=Pi(t)?Ti:Ci.current,l=(r=null!=(r=t.contextTypes))?Ni(e,i):Si),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ts,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function is(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ts.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Dl(e);var l=t.contextType;"object"==typeof l&&null!==l?i.context=Tl(l):(l=Pi(t)?Ti:Ci.current,i.context=Ni(e,l)),i.state=e.memoizedState,"function"==typeof(l=t.getDerivedStateFromProps)&&(es(e,t,l,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ts.enqueueReplaceState(i,i.state,null),Wl(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function os(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ss(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function as(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var us="function"==typeof WeakMap?WeakMap:Map;function cs(e,t,n){(n=Fl(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ua||(Ua=!0,ja=r),as(0,t)},n}function ds(e,t,n){(n=Fl(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){as(0,t)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){as(0,t),"function"!=typeof r&&(null===$a?$a=new Set([this]):$a.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new us;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function hs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ps(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fl(-1,1)).tag=2,Il(n,t,1))),n.lanes|=1),e)}var gs=b.ReactCurrentOwner,ms=!1;function ys(e,t,n,r){t.child=null===e?_l(t,null,n,r):yl(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var l=t.ref;return El(t,i),r=ho(e,t,n,r,l,i),n=po(),null===e||ms?(tl&&n&&Xi(t),t.flags|=1,ys(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function vs(e,t,n,r,i){if(null===e){var l=n.type;return"function"!=typeof l||Pu(l)||void 0!==l.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ou(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,bs(e,t,l,r,i))}if(l=e.child,!(e.lanes&i)){var o=l.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Us(e,t,i)}return t.flags|=1,(e=Lu(l,r)).ref=t.ref,e.return=t,t.child=e}function bs(e,t,n,r,i){if(null!==e){var l=e.memoizedProps;if(lr(l,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=l,!(e.lanes&i))return t.lanes=e.lanes,Us(e,t,i);131072&e.flags&&(ms=!0)}}return xs(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,l=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==l?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(La,Pa),Pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==l?l.baseLanes:n,xi(La,Pa),Pa|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(La,Pa),Pa|=n;else null!==l?(r=l.baseLanes|n,t.memoizedState=null):r=n,xi(La,Pa),Pa|=r;return ys(e,t,i,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xs(e,t,n,r,i){var l=Pi(n)?Ti:Ci.current;return l=Ni(t,l),El(t,i),n=ho(e,t,n,r,l,i),r=po(),null===e||ms?(tl&&r&&Xi(t),t.flags|=1,ys(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Us(e,t,i))}function Ss(e,t,n,r,i){if(Pi(n)){var l=!0;Di(t)}else l=!1;if(El(t,i),null===t.stateNode)Bs(e,t),rs(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var a=o.context,u=n.contextType;u="object"==typeof u&&null!==u?Tl(u):Ni(t,u=Pi(n)?Ti:Ci.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||a!==u)&&is(t,o,r,u),Ml=!1;var f=t.memoizedState;o.state=f,Wl(t,r,o,i),a=t.memoizedState,s!==r||f!==a||Ei.current||Ml?("function"==typeof c&&(es(t,n,c,r),a=t.memoizedState),(s=Ml||ns(t,n,s,r,f,a,u))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=a),o.props=r,o.state=a,o.context=u,r=s):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zl(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Zo(t.type,s),o.props=u,d=t.pendingProps,f=o.context,a="object"==typeof(a=n.contextType)&&null!==a?Tl(a):Ni(t,a=Pi(n)?Ti:Ci.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==d||f!==a)&&is(t,o,r,a),Ml=!1,f=t.memoizedState,o.state=f,Wl(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||Ei.current||Ml?("function"==typeof h&&(es(t,n,h,r),p=t.memoizedState),(u=Ml||ns(t,n,u,r,f,p,a)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,a),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,a)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=a,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Cs(e,t,n,r,l,i)}function Cs(e,t,n,r,i,l){ws(e,t);var o=!!(128&t.flags);if(!r&&!o)return i&&zi(t,n,!1),Us(e,t,l);r=t.stateNode,gs.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=yl(t,e.child,null,l),t.child=yl(t,null,s,l)):ys(e,t,s,l),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Hl(e,t.containerInfo)}function Ts(e,t,n,r,i){return cl(),dl(i),t.flags|=256,ys(e,t,n,r),t.child}var Ns,Ps,Ls,Os,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,o=Jl.current,s=!1,a=!!(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&!!(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),xi(Jl,1&o),null===e)return ol(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,s?(i=t.mode,s=t.child,a={mode:"hidden",children:a},1&i||null===s?s=Du(a,i,0,null):(s.childLanes=0,s.pendingProps=a),e=Mu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ms,e):Fs(t,a));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Is(e,t,s,r=ss(Error(l(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(o=Mu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,1&t.mode&&yl(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ms,o);if(!(1&t.mode))return Is(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,Is(e,t,s,r=ss(o=Error(l(419)),r,void 0))}if(a=!!(s&e.childLanes),ms||a){if(null!==(r=Ea)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|s)?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ol(e,i),Za(r,e,i,-1))}return fu(),Is(e,t,s,r=ss(Error(l(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Su.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,el=oi(i.nextSibling),Zi=t,tl=!0,nl=null,null!==e&&(Vi[Ki++]=Qi,Vi[Ki++]=Yi,Vi[Ki++]=Hi,Qi=e.id,Yi=e.overflow,Hi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,a,i,r,o,n);if(s){s=i.fallback,a=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&a||t.child===o?(i=Lu(o,u)).subtreeFlags=14680064&o.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==r?s=Lu(r,s):(s=Mu(s,a,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,a=null===(a=e.child.memoizedState)?Ds(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Lu(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Is(e,t,n,r){return null!==r&&dl(r),yl(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function As(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cl(e.return,t,n)}function Rs(e,t,n,r,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Ws(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(ys(e,t,r.children,n),2&(r=Jl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&As(e,n,t);else if(19===e.tag)As(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(Jl,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Xl(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rs(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xl(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rs(t,!0,n,null,l);break;case"together":Rs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Us(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Da|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(l(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function js(e,t){if(!tl)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vs(e,t,n){var r=t.pendingProps;switch(Gi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Pi(t.type)&&Li(),$s(t),null;case 3:return r=t.stateNode,Ql(),wi(Ei),wi(Ci),Zl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(al(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==nl&&(ru(nl),nl=null))),Ps(e,t),$s(t),null;case 5:ql(t);var i=Kl(Vl.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(l(166));return $s(t),null}if(e=Kl(jl.current),al(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ui]=t,r[ci]=o,e=!!(1&t.mode),n){case"dialog":Ir("cancel",r),Ir("close",r);break;case"iframe":case"object":case"embed":Ir("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ir(Mr[i],r);break;case"source":Ir("error",r);break;case"img":case"image":case"link":Ir("error",r),Ir("load",r);break;case"details":Ir("toggle",r);break;case"input":J(r,o),Ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ir("invalid",r);break;case"textarea":ie(r,o),Ir("invalid",r)}for(var a in _e(n,o),i=null,o)if(o.hasOwnProperty(a)){var u=o[a];"children"===a?"string"==typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&qr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&qr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(a)&&null!=u&&"onScroll"===a&&Ir("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[ui]=t,e[ci]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(a=ve(n,r),n){case"dialog":Ir("cancel",e),Ir("close",e),i=r;break;case"iframe":case"object":case"embed":Ir("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ir(Mr[i],e);i=r;break;case"source":Ir("error",e),i=r;break;case"img":case"image":case"link":Ir("error",e),Ir("load",e),i=r;break;case"details":Ir("toggle",e),i=r;break;case"input":J(e,r),i=q(e,r),Ir("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=A({},r,{value:void 0}),Ir("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ir("invalid",e)}for(o in _e(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"==typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"==typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ir("scroll",e):null!=c&&v(e,o,c,a))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Os(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(l(166));if(n=Kl(Vl.current),Kl(jl.current),al(t)){if(r=t.stateNode,n=t.memoizedProps,r[ui]=t,(o=r.nodeValue!==n)&&null!==(e=Zi))switch(e.tag){case 3:qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&qr(r.nodeValue,n,!!(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ui]=t,t.stateNode=r}return $s(t),null;case 13:if(wi(Jl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(tl&&null!==el&&1&t.mode&&!(128&t.flags))ul(),cl(),t.flags|=98560,o=!1;else if(o=al(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(l(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(l(317));o[ui]=t}else cl(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),o=!1}else null!==nl&&(ru(nl),nl=null),o=!0;if(!o)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&Jl.current?0===Oa&&(Oa=3):fu())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return Ql(),Ps(e,t),null===e&&Wr(t.stateNode.containerInfo),$s(t),null;case 10:return Sl(t.type._context),$s(t),null;case 19:if(wi(Jl),null===(o=t.memoizedState))return $s(t),null;if(r=!!(128&t.flags),null===(a=o.rendering))if(r)js(o,!1);else{if(0!==Oa||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Xl(e))){for(t.flags|=128,js(o,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(Jl,1&Jl.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wa&&(t.flags|=128,r=!0,js(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Xl(a))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),js(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!tl)return $s(t),null}else 2*Xe()-o.renderingStartTime>Wa&&1073741824!==n&&(t.flags|=128,r=!0,js(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=o.last)?n.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Jl.current,xi(Jl,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return au(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Pa)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(l(156,t.tag))}function Ks(e,t){switch(Gi(t),t.tag){case 1:return Pi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ql(),wi(Ei),wi(Ci),Zl(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ql(t),null;case 13:if(wi(Jl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(l(340));cl()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wi(Jl),null;case 4:return Ql(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return au(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kl(jl.current);var l,o=null;switch(n){case"input":i=q(e,i),r=q(e,r),o=[];break;case"select":i=A({},i,{value:void 0}),r=A({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Jr)}for(c in _e(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var a=i[c];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(null!=u||null!=a))if("style"===c)if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,a=a?a.__html:void 0,null!=u&&a!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Ir("scroll",e),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Os=function(e,t,n,r){n!==r&&(t.flags|=4)};var Hs=!1,Qs=!1,Ys="function"==typeof WeakSet?WeakSet:Set,qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){ku(e,t,n)}else n.current=null}function Xs(e,t,n){try{n()}catch(n){ku(e,t,n)}}var Gs=!1;function Zs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,void 0!==l&&Xs(t,n,l)}i=i.next}while(i!==r)}}function ea(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ta(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function na(e){var t=e.alternate;null!==t&&(e.alternate=null,na(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ui],delete t[ci],delete t[fi],delete t[hi],delete t[pi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ra(e){return 5===e.tag||3===e.tag||4===e.tag}function ia(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ra(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function la(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(la(e,t,n),e=e.sibling;null!==e;)la(e,t,n),e=e.sibling}function oa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oa(e,t,n),e=e.sibling;null!==e;)oa(e,t,n),e=e.sibling}var sa=null,aa=!1;function ua(e,t,n){for(n=n.child;null!==n;)ca(e,t,n),n=n.sibling}function ca(e,t,n){if(lt&&"function"==typeof lt.onCommitFiberUnmount)try{lt.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=sa,i=aa;sa=null,ua(e,t,n),aa=i,null!==(sa=r)&&(aa?(e=sa,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):sa.removeChild(n.stateNode));break;case 18:null!==sa&&(aa?(e=sa,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(sa,n.stateNode));break;case 4:r=sa,i=aa,sa=n.stateNode.containerInfo,aa=!0,ua(e,t,n),sa=r,aa=i;break;case 0:case 11:case 14:case 15:if(!Qs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var l=i,o=l.destroy;l=l.tag,void 0!==o&&(2&l||4&l)&&Xs(n,t,o),i=i.next}while(i!==r)}ua(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){ku(n,t,e)}ua(e,t,n);break;case 21:ua(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,ua(e,t,n),Qs=r):ua(e,t,n);break;default:ua(e,t,n)}}function da(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Cu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function fa(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:sa=a.stateNode,aa=!1;break e;case 3:case 4:sa=a.stateNode.containerInfo,aa=!0;break e}a=a.return}if(null===sa)throw Error(l(160));ca(o,s,i),sa=null,aa=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){ku(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ha(t,e),t=t.sibling}function ha(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fa(t,e),pa(e),4&r){try{Zs(3,e,e.return),ea(3,e)}catch(t){ku(e,e.return,t)}try{Zs(5,e,e.return)}catch(t){ku(e,e.return,t)}}break;case 1:fa(t,e),pa(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(fa(t,e),pa(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(t){ku(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,a=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===a&&"radio"===o.type&&null!=o.name&&X(i,o),ve(a,s);var c=ve(a,o);for(s=0;s<u.length;s+=2){var d=u[s],f=u[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):v(i,d,f,c)}switch(a){case"input":G(i,o);break;case"textarea":le(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[ci]=o}catch(t){ku(e,e.return,t)}}break;case 6:if(fa(t,e),pa(e),4&r){if(null===e.stateNode)throw Error(l(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(t){ku(e,e.return,t)}}break;case 3:if(fa(t,e),pa(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){ku(e,e.return,t)}break;case 4:default:fa(t,e),pa(e);break;case 13:fa(t,e),pa(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ra=Xe())),4&r&&da(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||d,fa(t,e),Qs=c):fa(t,e),pa(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(qs=e,d=e.child;null!==d;){for(f=qs=d;null!==qs;){switch(p=(h=qs).child,h.tag){case 0:case 11:case 14:case 15:Zs(4,h,h.return);break;case 1:Js(h,h.return);var g=h.stateNode;if("function"==typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){ku(r,n,e)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){_a(f);continue}}null!==p?(p.return=h,qs=p):_a(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,c?"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(a=f.stateNode,s=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,a.style.display=ge("display",s))}catch(t){ku(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){ku(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fa(t,e),pa(e),4&r&&da(e);case 21:}}function pa(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ra(n)){var r=n;break e}n=n.return}throw Error(l(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),oa(e,ia(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;la(e,ia(e),o);break;default:throw Error(l(161))}}catch(t){ku(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ga(e,t,n){qs=e,ma(e,t,n)}function ma(e,t,n){for(var r=!!(1&e.mode);null!==qs;){var i=qs,l=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Hs;if(!o){var s=i.alternate,a=null!==s&&null!==s.memoizedState||Qs;s=Hs;var u=Qs;if(Hs=o,(Qs=a)&&!u)for(qs=i;null!==qs;)a=(o=qs).child,22===o.tag&&null!==o.memoizedState?va(i):null!==a?(a.return=o,qs=a):va(i);for(;null!==l;)qs=l,ma(l,t,n),l=l.sibling;qs=i,Hs=s,Qs=u}ya(e)}else 8772&i.subtreeFlags&&null!==l?(l.return=i,qs=l):ya(e)}}function ya(e){for(;null!==qs;){var t=qs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Qs||ea(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Bl(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bl(t,s,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(l(163))}Qs||512&t.flags&&ta(t)}catch(e){ku(t,t.return,e)}}if(t===e){qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,qs=n;break}qs=t.return}}function _a(e){for(;null!==qs;){var t=qs;if(t===e){qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,qs=n;break}qs=t.return}}function va(e){for(;null!==qs;){var t=qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ea(4,t)}catch(e){ku(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){ku(t,i,e)}}var l=t.return;try{ta(t)}catch(e){ku(t,l,e)}break;case 5:var o=t.return;try{ta(t)}catch(e){ku(t,o,e)}}}catch(e){ku(t,t.return,e)}if(t===e){qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,qs=s;break}qs=t.return}}var ba,ka=Math.ceil,wa=b.ReactCurrentDispatcher,xa=b.ReactCurrentOwner,Sa=b.ReactCurrentBatchConfig,Ca=0,Ea=null,Ta=null,Na=0,Pa=0,La=ki(0),Oa=0,Ma=null,Da=0,za=0,Fa=0,Ia=null,Aa=null,Ra=0,Wa=1/0,Ba=null,Ua=!1,ja=null,$a=null,Va=!1,Ka=null,Ha=0,Qa=0,Ya=null,qa=-1,Ja=0;function Xa(){return 6&Ca?Xe():-1!==qa?qa:qa=Xe()}function Ga(e){return 1&e.mode?2&Ca&&0!==Na?Na&-Na:null!==fl.transition?(0===Ja&&(Ja=gt()),Ja):0!==(e=_t)?e:e=void 0===(e=window.event)?16:qt(e.type):1}function Za(e,t,n,r){if(50<Qa)throw Qa=0,Ya=null,Error(l(185));mt(e,n,r),2&Ca&&e===Ea||(e===Ea&&(!(2&Ca)&&(za|=n),4===Oa&&iu(e,Na)),eu(e,r),1===n&&0===Ca&&!(1&t.mode)&&(Wa=Xe()+500,Ii&&Wi()))}function eu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-ot(l),s=1<<o,a=i[o];-1===a?s&n&&!(s&r)||(i[o]=ht(s,t)):a<=t&&(e.expiredLanes|=s),l&=~s}}(e,t);var r=ft(e,e===Ea?Na:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ii=!0,Ri(e)}(lu.bind(null,e)):Ri(lu.bind(null,e)),ri((function(){!(6&Ca)&&Wi()})),n=null;else{switch(vt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Eu(n,tu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tu(e,t){if(qa=-1,Ja=0,6&Ca)throw Error(l(327));var n=e.callbackNode;if(vu()&&e.callbackNode!==n)return null;var r=ft(e,e===Ea?Na:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=hu(e,r);else{t=r;var i=Ca;Ca|=2;var o=du();for(Ea===e&&Na===t||(Ba=null,Wa=Xe()+500,uu(e,t));;)try{gu();break}catch(t){cu(e,t)}xl(),wa.current=o,Ca=i,null!==Ta?t=0:(Ea=null,Na=0,t=Oa)}if(0!==t){if(2===t&&0!==(i=pt(e))&&(r=i,t=nu(e,i)),1===t)throw n=Ma,uu(e,0),iu(e,r),eu(e,Xe()),n;if(6===t)iu(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!ir(l(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=hu(e,r),2===t&&(o=pt(e),0!==o&&(r=o,t=nu(e,o))),1!==t)))throw n=Ma,uu(e,0),iu(e,r),eu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(l(345));case 2:case 5:_u(e,Aa,Ba);break;case 3:if(iu(e,r),(130023424&r)===r&&10<(t=Ra+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(_u.bind(null,e,Aa,Ba),t);break}_u(e,Aa,Ba);break;case 4:if(iu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ka(r/1960))-r)){e.timeoutHandle=ei(_u.bind(null,e,Aa,Ba),r);break}_u(e,Aa,Ba);break;default:throw Error(l(329))}}}return eu(e,Xe()),e.callbackNode===n?tu.bind(null,e):null}function nu(e,t){var n=Ia;return e.current.memoizedState.isDehydrated&&(uu(e,t).flags|=256),2!==(e=hu(e,t))&&(t=Aa,Aa=n,null!==t&&ru(t)),e}function ru(e){null===Aa?Aa=e:Aa.push.apply(Aa,e)}function iu(e,t){for(t&=~Fa,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Ca)throw Error(l(327));vu();var t=ft(e,0);if(!(1&t))return eu(e,Xe()),null;var n=hu(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=nu(e,r))}if(1===n)throw n=Ma,uu(e,0),iu(e,t),eu(e,Xe()),n;if(6===n)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Aa,Ba),eu(e,Xe()),null}function ou(e,t){var n=Ca;Ca|=1;try{return e(t)}finally{0===(Ca=n)&&(Wa=Xe()+500,Ii&&Wi())}}function su(e){null!==Ka&&0===Ka.tag&&!(6&Ca)&&vu();var t=Ca;Ca|=1;var n=Sa.transition,r=_t;try{if(Sa.transition=null,_t=1,e)return e()}finally{_t=r,Sa.transition=n,!(6&(Ca=t))&&Wi()}}function au(){Pa=La.current,wi(La)}function uu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==Ta)for(n=Ta.return;null!==n;){var r=n;switch(Gi(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Li();break;case 3:Ql(),wi(Ei),wi(Ci),Zl();break;case 5:ql(r);break;case 4:Ql();break;case 13:case 19:wi(Jl);break;case 10:Sl(r.type._context);break;case 22:case 23:au()}n=n.return}if(Ea=e,Ta=e=Lu(e.current,null),Na=Pa=t,Oa=0,Ma=null,Fa=za=Da=0,Aa=Ia=null,null!==Nl){for(t=0;t<Nl.length;t++)if(null!==(r=(n=Nl[t]).interleaved)){n.interleaved=null;var i=r.next,l=n.pending;if(null!==l){var o=l.next;l.next=i,r.next=o}n.pending=r}Nl=null}return e}function cu(e,t){for(;;){var n=Ta;try{if(xl(),eo.current=qo,oo){for(var r=ro.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}oo=!1}if(no=0,lo=io=ro=null,so=!1,ao=0,xa.current=null,null===n||null===n.return){Oa=1,Ma=t,Ta=null;break}e:{var o=e,s=n.return,a=n,u=t;if(t=Na,a.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=a,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=hs(s);if(null!==p){p.flags&=-257,ps(p,s,a,0,t),1&p.mode&&fs(o,c,t),u=c;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(u),t.updateQueue=m}else g.add(u);break e}if(!(1&t)){fs(o,c,t),fu();break e}u=Error(l(426))}else if(tl&&1&a.mode){var y=hs(s);if(null!==y){!(65536&y.flags)&&(y.flags|=256),ps(y,s,a,0,t),dl(os(u,a));break e}}o=u=os(u,a),4!==Oa&&(Oa=2),null===Ia?Ia=[o]:Ia.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Rl(o,cs(0,u,t));break e;case 1:a=u;var _=o.type,v=o.stateNode;if(!(128&o.flags||"function"!=typeof _.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==$a&&$a.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Rl(o,ds(o,a,t));break e}}o=o.return}while(null!==o)}yu(n)}catch(e){t=e,Ta===n&&null!==n&&(Ta=n=n.return);continue}break}}function du(){var e=wa.current;return wa.current=qo,null===e?qo:e}function fu(){0!==Oa&&3!==Oa&&2!==Oa||(Oa=4),null===Ea||!(268435455&Da)&&!(268435455&za)||iu(Ea,Na)}function hu(e,t){var n=Ca;Ca|=2;var r=du();for(Ea===e&&Na===t||(Ba=null,uu(e,t));;)try{pu();break}catch(t){cu(e,t)}if(xl(),Ca=n,wa.current=r,null!==Ta)throw Error(l(261));return Ea=null,Na=0,Oa}function pu(){for(;null!==Ta;)mu(Ta)}function gu(){for(;null!==Ta&&!qe();)mu(Ta)}function mu(e){var t=ba(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?yu(e):Ta=t,xa.current=null}function yu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Ta=n);if(null===e)return Oa=6,void(Ta=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Vs(n,t,Pa)))return void(Ta=n);if(null!==(t=t.sibling))return void(Ta=t);Ta=t=e}while(null!==t);0===Oa&&(Oa=5)}function _u(e,t,n){var r=_t,i=Sa.transition;try{Sa.transition=null,_t=1,function(e,t,n,r){do{vu()}while(null!==Ka);if(6&Ca)throw Error(l(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}(e,o),e===Ea&&(Ta=Ea=null,Na=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Va||(Va=!0,Eu(tt,(function(){return vu(),null}))),o=!!(15990&n.flags),15990&n.subtreeFlags||o){o=Sa.transition,Sa.transition=null;var s=_t;_t=1;var a=Ca;Ca|=4,xa.current=null,function(e,t){if(Xr=$t,cr(e=ur())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(e){n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(a=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++d===r&&(u=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===a||-1===u?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gr={focusedElem:e,selectionRange:n},$t=!1,qs=t;null!==qs;)if(e=(t=qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,qs=e;else for(;null!==qs;){t=qs;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,_=t.stateNode,v=_.getSnapshotBeforeUpdate(t.elementType===t.type?m:Zo(t.type,m),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(l(163))}}catch(e){ku(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,qs=e;break}qs=t.return}g=Gs,Gs=!1}(e,n),ha(n,e),dr(Gr),$t=!!Xr,Gr=Xr=null,e.current=n,ga(n,e,i),Je(),Ca=a,_t=s,Sa.transition=o}else e.current=n;if(Va&&(Va=!1,Ka=e,Ha=i),0===(o=e.pendingLanes)&&($a=null),function(e){if(lt&&"function"==typeof lt.onCommitFiberRoot)try{lt.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),eu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ua)throw Ua=!1,e=ja,ja=null,e;!!(1&Ha)&&0!==e.tag&&vu(),1&(o=e.pendingLanes)?e===Ya?Qa++:(Qa=0,Ya=e):Qa=0,Wi()}(e,t,n,r)}finally{Sa.transition=i,_t=r}return null}function vu(){if(null!==Ka){var e=vt(Ha),t=Sa.transition,n=_t;try{if(Sa.transition=null,_t=16>e?16:e,null===Ka)var r=!1;else{if(e=Ka,Ka=null,Ha=0,6&Ca)throw Error(l(331));var i=Ca;for(Ca|=4,qs=e.current;null!==qs;){var o=qs,s=o.child;if(16&qs.flags){var a=o.deletions;if(null!==a){for(var u=0;u<a.length;u++){var c=a[u];for(qs=c;null!==qs;){var d=qs;switch(d.tag){case 0:case 11:case 15:Zs(8,d,o)}var f=d.child;if(null!==f)f.return=d,qs=f;else for(;null!==qs;){var h=(d=qs).sibling,p=d.return;if(na(d),d===c){qs=null;break}if(null!==h){h.return=p,qs=h;break}qs=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}qs=o}}if(2064&o.subtreeFlags&&null!==s)s.return=o,qs=s;else e:for(;null!==qs;){if(2048&(o=qs).flags)switch(o.tag){case 0:case 11:case 15:Zs(9,o,o.return)}var _=o.sibling;if(null!==_){_.return=o.return,qs=_;break e}qs=o.return}}var v=e.current;for(qs=v;null!==qs;){var b=(s=qs).child;if(2064&s.subtreeFlags&&null!==b)b.return=s,qs=b;else e:for(s=v;null!==qs;){if(2048&(a=qs).flags)try{switch(a.tag){case 0:case 11:case 15:ea(9,a)}}catch(e){ku(a,a.return,e)}if(a===s){qs=null;break e}var k=a.sibling;if(null!==k){k.return=a.return,qs=k;break e}qs=a.return}}if(Ca=i,Wi(),lt&&"function"==typeof lt.onPostCommitFiberRoot)try{lt.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{_t=n,Sa.transition=t}}return!1}function bu(e,t,n){e=Il(e,t=cs(0,t=os(n,t),1),1),t=Xa(),null!==e&&(mt(e,1,t),eu(e,t))}function ku(e,t,n){if(3===e.tag)bu(e,e,n);else for(;null!==t;){if(3===t.tag){bu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$a||!$a.has(r))){t=Il(t,e=ds(t,e=os(n,e),1),1),e=Xa(),null!==t&&(mt(t,1,e),eu(t,e));break}}t=t.return}}function wu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xa(),e.pingedLanes|=e.suspendedLanes&n,Ea===e&&(Na&n)===n&&(4===Oa||3===Oa&&(130023424&Na)===Na&&500>Xe()-Ra?uu(e,0):Fa|=n),eu(e,t)}function xu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=Xa();null!==(e=Ol(e,t))&&(mt(e,t,n),eu(e,n))}function Su(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xu(e,n)}function Cu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(l(314))}null!==r&&r.delete(t),xu(e,n)}function Eu(e,t){return Qe(e,t)}function Tu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Tu(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Pu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case x:return Mu(n.children,i,o,t);case S:s=8,i|=8;break;case C:return(e=Nu(12,n,t,2|i)).elementType=C,e.lanes=o,e;case P:return(e=Nu(13,n,t,i)).elementType=P,e.lanes=o,e;case L:return(e=Nu(19,n,t,i)).elementType=L,e.lanes=o,e;case D:return Du(n,i,o,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case E:s=10;break e;case T:s=9;break e;case N:s=11;break e;case O:s=14;break e;case M:s=16,r=null;break e}throw Error(l(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mu(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Iu(e){if(!e)return Si;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(l(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(l(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function Au(e,t,n,r){var i=t.current,l=Xa(),o=Ga(i);return n=Iu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fl(l,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Il(i,t,o))&&(Za(e,i,o,l),Al(e,i,o)),o}function Ru(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}ba=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ei.current)ms=!0;else{if(!(e.lanes&n||128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:Es(t),cl();break;case 5:Yl(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Hl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(vl,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(Jl,1&Jl.current),t.flags|=128,null):n&t.child.childLanes?zs(e,t,n):(xi(Jl,1&Jl.current),null!==(e=Us(e,t,n))?e.sibling:null);xi(Jl,1&Jl.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Jl,Jl.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return Us(e,t,n)}(e,t,n);ms=!!(131072&e.flags)}else ms=!1,tl&&1048576&t.flags&&Ji(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var i=Ni(t,Ci.current);El(t,n),i=ho(null,t,r,e,i,n);var o=po();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Dl(t),i.updater=ts,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Cs(null,t,r,!0,o,n)):(t.tag=0,tl&&o&&Xi(t),ys(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Pu(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(r),e=Zo(r,e),i){case 0:t=xs(null,t,r,e,n);break e;case 1:t=Ss(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=vs(null,t,r,Zo(r.type,e),n);break e}throw Error(l(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:Zo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:Zo(r,i),n);case 3:e:{if(Es(t),null===e)throw Error(l(387));r=t.pendingProps,i=(o=t.memoizedState).element,zl(e,t),Wl(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ts(e,t,r,n,i=os(Error(l(423)),t));break e}if(r!==i){t=Ts(e,t,r,n,i=os(Error(l(424)),t));break e}for(el=oi(t.stateNode.containerInfo.firstChild),Zi=t,tl=!0,nl=null,n=_l(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(cl(),r===i){t=Us(e,t,n);break e}ys(e,t,r,n)}t=t.child}return t;case 5:return Yl(t),null===e&&ol(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Zr(r,i)?s=null:null!==o&&Zr(r,o)&&(t.flags|=32),ws(e,t),ys(e,t,s,n),t.child;case 6:return null===e&&ol(t),null;case 13:return zs(e,t,n);case 4:return Hl(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=yl(t,null,r,n):ys(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:Zo(r,i),n);case 7:return ys(e,t,t.pendingProps,n),t.child;case 8:case 12:return ys(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,xi(vl,r._currentValue),r._currentValue=s,null!==o)if(ir(o.value,s)){if(o.children===i.children&&!Ei.current){t=Us(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var a=o.dependencies;if(null!==a){s=o.child;for(var u=a.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Fl(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Cl(o.return,n,t),a.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(l(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Cl(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ys(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,El(t,n),r=r(i=Tl(i)),t.flags|=1,ys(e,t,r,n),t.child;case 14:return i=Zo(r=t.type,t.pendingProps),vs(e,t,r,i=Zo(r.type,i),n);case 15:return bs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zo(r,i),Bs(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,El(t,n),rs(t,r,i),ls(t,r,i,n),Cs(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return ks(e,t,n)}throw Error(l(156,t.tag))};"function"==typeof reportError&&reportError;function Bu(e){this._internalRoot=e}function Uu(e){this._internalRoot=e}Uu.prototype.render=Bu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(l(409));Au(e,t,null,null)},Uu.prototype.unmount=Bu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;su((function(){Au(null,e,null,null)})),t[di]=null}},Uu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&It(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),eu(t,Xe()),!(6&Ca)&&(Wa=Xe()+500,Wi()))}break;case 13:su((function(){var t=Ol(e,1);if(null!==t){var n=Xa();Za(t,e,1,n)}})),Wu(e,1)}},kt=function(e){if(13===e.tag){var t=Ol(e,134217728);null!==t&&Za(t,e,134217728,Xa()),Wu(e,134217728)}},wt=function(e){if(13===e.tag){var t=Ga(e),n=Ol(e,t);null!==n&&Za(n,e,t,Xa()),Wu(e,t)}},xt=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(G(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(l(90));Q(r),G(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=ou,Pe=su;var ju={findFiberByHostInstance:gi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$u={bundleType:ju.bundleType,version:ju.version,rendererPackageName:ju.rendererPackageName,rendererConfig:ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:ju.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{it=Vu.inject($u),lt=Vu}catch(ce){}}t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!function(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}(t))throw Error(l(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(2551)},1020:(e,t,n)=>{var r=n(6540),i=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};t.Fragment=l,t.jsx=function(e,t,n){var r,l={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!a.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:l,_owner:s.current}}},5287:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator,p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function _(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=y.prototype;var b=v.prototype=new _;b.constructor=v,g(b,y.prototype),b.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,l={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(l[i]=t[i]);var a=arguments.length-2;if(1===a)l.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];l.children=u}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===l[i]&&(l[i]=a[i]);return{$$typeof:n,type:e,key:o,ref:s,props:l,_owner:x.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,l,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var a=!1;if(null===e)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case n:case r:a=!0}}if(a)return o=o(a=e),e=""===l?"."+N(a,0):l,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),P(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(a=0,l=""===l?".":l+":",k(e))for(var u=0;u<e.length;u++){var c=l+N(s=e[u],u);a+=P(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)a+=P(s=s.value,t,i,c=l+N(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function L(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},D={transition:null},z={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=l,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,t.act=F,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),l=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=x.current),void 0!==t.key&&(l=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)w.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==a?a[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:n,type:e.type,key:l,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},6540:(e,t,n)=>{e.exports=n(5287)},4848:(e,t,n)=>{e.exports=n(1020)},7463:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<l(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,a=e[s],u=s+1,c=e[u];if(0>l(a,n))u<i&&0>l(c,a)?(e[r]=c,e[u]=n,r=u):(e[r]=a,e[s]=n,r=s);else{if(!(u<i&&0>l(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,y="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(m=!1,b(e),!g)if(null!==r(u))g=!0,D(w);else{var t=r(c);null!==t&&z(k,t.startTime-e)}}function w(e,n){g=!1,m&&(m=!1,_(E),E=-1),p=!0;var l=h;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!P());){var o=f.callback;if("function"==typeof o){f.callback=null,h=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?f.callback=s:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var a=!0;else{var d=r(c);null!==d&&z(k,d.startTime-n),a=!1}return a}finally{f=null,h=l,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,C=null,E=-1,T=5,N=-1;function P(){return!(t.unstable_now()-N<T)}function L(){if(null!==C){var e=t.unstable_now();N=e;var n=!0;try{n=C(!0,e)}finally{n?x():(S=!1,C=null)}}else S=!1}if("function"==typeof v)x=function(){v(L)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=L,x=function(){M.postMessage(null)}}else x=function(){y(L,0)};function D(e){C=e,S||(S=!0,x())}function z(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,D(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,l){var o=t.unstable_now();switch(l="object"==typeof l&&null!==l&&"number"==typeof(l=l.delay)&&0<l?o+l:o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:l,expirationTime:s=l+s,sortIndex:-1},l>o?(e.sortIndex=l,n(c,e),null===r(u)&&e===r(c)&&(m?(_(E),E=-1):m=!0,z(k,l-o))):(e.sortIndex=s,n(u,e),g||p||(g=!0,D(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},9982:(e,t,n)=>{e.exports=n(7463)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{CollaborationPlugin:()=>Uu});var i=n(6540);const l=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],o=l[Math.floor(Math.random()*l.length)],s=(0,i.createContext)({clientID:0,color:o[1],isCollabActive:!1,name:o[0],yjsDocMap:new Map});var a,u=(a=function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a;const c=(0,i.createContext)(null),d={},f={},h={},p={},g={},m={},y={},_={},v={},b={},k={},w={},x={},S={},C={},E={},T={},N={},P={},L={},O={},M={},D={},z={},F={},I={},A={},R={},W={},B={},U={},j={},$={},V={},K={},H={},Q={},Y={},q="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,J=q&&"documentMode"in document?document.documentMode:null,X=q&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),G=q&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Z=!(!q||!("InputEvent"in window)||J)&&"getTargetRanges"in new window.InputEvent("input"),ee=q&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),te=q&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ne=q&&/Android/.test(navigator.userAgent),re=q&&/^(?=.*Chrome).*/i.test(navigator.userAgent),ie=q&&ne&&re,le=q&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!re,oe=1,se=3,ae=0,ue=2,ce=0,de=1,fe=2,he=4,pe=8,ge=3|he|pe|240,me=1,ye=2,_e=3,ve=4,be=5,ke=6,we=ee||te||le?" ":"​",xe="\n\n",Se=G?" ":we,Ce="֑-߿יִ-﷽ﹰ-ﻼ",Ee="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Te=new RegExp("^[^"+Ee+"]*["+Ce+"]"),Ne=new RegExp("^[^"+Ce+"]*["+Ee+"]"),Pe={bold:1,code:16,highlight:128,italic:2,strikethrough:he,subscript:32,superscript:64,underline:pe},Le={directionless:1,unmergeable:2},Oe={center:ye,end:ke,justify:ve,left:me,right:_e,start:be},Me={[ye]:"center",[ke]:"end",[ve]:"justify",[me]:"left",[_e]:"right",[be]:"start"},De={normal:0,segmented:2,token:1},ze={[ce]:"normal",[fe]:"segmented",[de]:"token"};var Fe,Ie=(Fe=function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)},Fe&&Fe.__esModule&&Object.prototype.hasOwnProperty.call(Fe,"default")?Fe.default:Fe);function Ae(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}const Re=100;let We=!1,Be=0;function Ue(e){Be=e.timeStamp}function je(e,t,n){return t.__lexicalLineBreak===e||void 0!==e[`__lexicalKey_${n._key}`]}function $e(e,t,n){const r=qt(n._window);let i=null,l=null;null!==r&&r.anchorNode===e&&(i=r.anchorOffset,l=r.focusOffset);const o=e.nodeValue;null!==o&&Ct(t,o,i,l,!1)}function Ve(e,t,n){if(Ir(e)){const t=e.anchor.getNode();if(t.is(n)&&e.format!==t.getFormat())return!1}return t.nodeType===se&&n.isAttached()}function Ke(e,t,n){We=!0;const r=performance.now()-Be>Re;try{xi(e,(()=>{const i=qr()||function(e){return e.getEditorState().read((()=>{const e=qr();return null!==e?e.clone():null}))}(e),l=new Map,o=e.getRootElement(),s=e._editorState,a=e._blockCursorElement;let u=!1,c="";for(let n=0;n<t.length;n++){const d=t[n],f=d.type,h=d.target;let p=ft(h,s);if(!(null===p&&h!==o||Ni(p)))if("characterData"===f)r&&Er(p)&&Ve(i,h,p)&&$e(h,p,e);else if("childList"===f){u=!0;const t=d.addedNodes;for(let n=0;n<t.length;n++){const r=t[n],i=dt(r),l=r.parentNode;if(null!=l&&r!==a&&null===i&&("BR"!==r.nodeName||!je(r,l,e))){if(G){const e=r.innerText||r.nodeValue;e&&(c+=e)}l.removeChild(r)}}const n=d.removedNodes,r=n.length;if(r>0){let t=0;for(let i=0;i<r;i++){const r=n[i];("BR"===r.nodeName&&je(r,h,e)||a===r)&&(h.appendChild(r),t++)}r!==t&&(h===o&&(p=mt(s)),l.set(h,p))}}}if(l.size>0)for(const[t,n]of l)if(Ci(n)){const r=n.getChildrenKeys();let i=t.firstChild;for(let n=0;n<r.length;n++){const l=r[n],o=e.getElementByKey(l);null!==o&&(null==i?(t.appendChild(o),i=o):i!==o&&t.replaceChild(o,i),i=i.nextSibling)}}else Er(n)&&n.markDirty();const d=n.takeRecords();if(d.length>0){for(let t=0;t<d.length;t++){const n=d[t],r=n.addedNodes,i=n.target;for(let t=0;t<r.length;t++){const n=r[t],l=n.parentNode;null==l||"BR"!==n.nodeName||je(n,i,e)||l.removeChild(n)}}n.takeRecords()}null!==i&&(u&&(i.dirty=!0,yt(i)),G&&At(e)&&i.insertRawText(c))}))}finally{We=!1}}function He(e){const t=e._observer;null!==t&&Ke(e,t.takeRecords(),t)}function Qe(e){!function(e){0===Be&&$t(e).addEventListener("textInput",Ue,!0)}(e),e._observer=new MutationObserver(((t,n)=>{Ke(e,t,n)}))}function Ye(e,t){const n=e.__mode,r=e.__format,i=e.__style,l=t.__mode,o=t.__format,s=t.__style;return!(null!==n&&n!==l||null!==r&&r!==o||null!==i&&i!==s)}function qe(e,t){const n=e.mergeWithSibling(t),r=hi()._normalizedNodes;return r.add(e.__key),r.add(t.__key),n}function Je(e){let t,n,r=e;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(t=r.getPreviousSibling())&&Er(t)&&t.isSimpleText()&&!t.isUnmergeable();){if(""!==t.__text){if(Ye(t,r)){r=qe(t,r);break}break}t.remove()}for(;null!==(n=r.getNextSibling())&&Er(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(Ye(r,n)){r=qe(r,n);break}break}n.remove()}}else r.remove()}let Xe=1;const Ge="function"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)};function Ze(e){const t=document.activeElement;if(null===t)return!1;const n=t.nodeName;return Ni(ft(e))&&("INPUT"===n||"TEXTAREA"===n||"true"===t.contentEditable&&null==t.__lexicalEditor)}function et(e,t,n){const r=e.getRootElement();try{return null!==r&&r.contains(t)&&r.contains(n)&&null!==t&&!Ze(t)&&tt(t)===e}catch(e){return!1}}function tt(e){let t=e;for(;null!=t;){const e=t.__lexicalEditor;if(null!=e)return e;t=Ut(t)}return null}function nt(e){return e.isToken()||e.isSegmented()}function rt(e){return e.nodeType===se}function it(e){let t=e;for(;null!=t;){if(rt(t))return t;t=t.firstChild}return null}function lt(e,t,n){const r=Pe[t];if(null!==n&&(e&r)==(n&r))return e;let i=e^r;return"subscript"===t?i&=~Pe.superscript:"superscript"===t&&(i&=~Pe.subscript),i}function ot(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),l=e.getNextSibling();if(null===i)if(null!==l){const e=l.getWritable();r.__first=l.__key,e.__prev=null}else r.__first=null;else{const e=i.getWritable();if(null!==l){const t=l.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===l)if(null!==i){const e=i.getWritable();r.__last=i.__key,e.__next=null}else r.__last=null;else{const e=l.getWritable();if(null!==i){const t=i.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function st(e){di();const t=e.getLatest(),n=t.__parent,r=fi(),i=hi(),l=r._nodeMap,o=i._dirtyElements;null!==n&&function(e,t,n){let r=e;for(;null!==r;){if(n.has(r))return;const e=t.get(r);if(void 0===e)break;n.set(r,!1),r=e.__parent}}(n,l,o);const s=t.__key;i._dirtyType=1,Ci(e)?o.set(s,!0):i._dirtyLeaves.add(s)}function at(e){ci();const t=hi(),n=t._compositionKey;if(e!==n){if(t._compositionKey=e,null!==n){const e=ct(n);null!==e&&e.getWritable()}if(null!==e){const t=ct(e);null!==t&&t.getWritable()}}}function ut(){return ui()?null:hi()._compositionKey}function ct(e,t){const n=(t||fi())._nodeMap.get(e);return void 0===n?null:n}function dt(e,t){const n=e[`__lexicalKey_${hi()._key}`];return void 0!==n?ct(n,t):null}function ft(e,t){let n=e;for(;null!=n;){const e=dt(n,t);if(null!==e)return e;n=Ut(n)}return null}function ht(e){const t=e._decorators,n=Object.assign({},t);return e._pendingDecorators=n,n}function pt(e){return e.read((()=>gt().getTextContent()))}function gt(){return mt(fi())}function mt(e){return e._nodeMap.get("root")}function yt(e){ci();const t=fi();null!==e&&(e.dirty=!0,e.setCachedNodes(null)),t._selection=e}function _t(e){const t=hi(),n=function(e,t){let n=e;for(;null!=n;){const e=n[`__lexicalKey_${t._key}`];if(void 0!==e)return e;n=Ut(n)}return null}(e,t);return null===n?e===t.getRootElement()?ct("root"):null:ct(n)}function vt(e,t){return t?e.getTextContentSize():0}function bt(e){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e)}function kt(e){const t=[];let n=e;for(;null!==n;)t.push(n),n=n._parentEditor;return t}function wt(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function xt(e){return e.nodeType===se?e.nodeValue:null}function St(e,t,n){const r=qt(t._window);if(null===r)return;const i=r.anchorNode;let{anchorOffset:l,focusOffset:o}=r;if(null!==i){let t=xt(i);const r=ft(i);if(null!==t&&Er(r)){if(t===we&&n){const e=n.length;t=n,l=e,o=e}null!==t&&Ct(r,t,l,o,e)}}}function Ct(e,t,n,r,i){let l=e;if(l.isAttached()&&(i||!l.isDirty())){const o=l.isComposing();let s=t;(o||i)&&t[t.length-1]===we&&(s=t.slice(0,-1));const a=l.getTextContent();if(i||s!==a){if(""===s){if(at(null),ee||te||le)l.remove();else{const e=hi();setTimeout((()=>{e.update((()=>{l.isAttached()&&l.remove()}))}),20)}return}const t=l.getParent(),i=Jr(),a=l.getTextContentSize(),u=ut(),c=l.getKey();if(l.isToken()||null!==u&&c===u&&!o||Ir(i)&&(null!==t&&!t.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===e.__key&&0===i.anchor.offset&&!l.canInsertTextBefore()&&!o||i.focus.key===e.__key&&i.focus.offset===a&&!l.canInsertTextAfter()&&!o))return void l.markDirty();const d=qr();if(!Ir(d)||null===n||null===r)return void l.setTextContent(s);if(d.setTextNodeRange(l,n,l,r),l.isSegmented()){const e=Cr(l.getTextContent());l.replace(e),l=e}l.setTextContent(s)}}}function Et(e){return"ArrowLeft"===e}function Tt(e){return"ArrowRight"===e}function Nt(e,t){return X?e:t}function Pt(e){return"Enter"===e}function Lt(e){return"Backspace"===e}function Ot(e){return"Delete"===e}function Mt(e,t,n){return"a"===e.toLowerCase()&&Nt(t,n)}function Dt(e,t){void 0===e.__lexicalClassNameCache&&(e.__lexicalClassNameCache={});const n=e.__lexicalClassNameCache,r=n[t];if(void 0!==r)return r;const i=e[t];if("string"==typeof i){const e=Ae(i);return n[t]=e,e}return i}function zt(e,t,n,r,i){if(0===n.size)return;const l=r.__type,o=r.__key,s=t.get(l);void 0===s&&Ie(33,l);const a=s.klass;let u=e.get(a);void 0===u&&(u=new Map,e.set(a,u));const c=u.get(o),d="destroyed"===c&&"created"===i;(void 0===c||d)&&u.set(o,d?"updated":i)}function Ft(e,t,n){const r=e.getParent();let i=n,l=e;return null!==r&&(t&&0===n?(i=l.getIndexWithinParent(),l=r):t||n!==l.getChildrenSize()||(i=l.getIndexWithinParent()+1,l=r)),l.getChildAtIndex(t?i-1:i)}function It(e,t){const n=e.offset;if("element"===e.type)return Ft(e.getNode(),t,n);{const r=e.getNode();if(t&&0===n||!t&&n===r.getTextContentSize()){const e=t?r.getPreviousSibling():r.getNextSibling();return null===e?Ft(r.getParentOrThrow(),t,r.getIndexWithinParent()+(t?0:1)):e}}return null}function At(e){const t=$t(e).event,n=t&&t.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Rt(e,t,n){return bi(e,t,n)}function Wt(e){return!Li(e)&&!e.isLastChild()&&!e.isInline()}function Bt(e,t){const n=e._keyToDOMMap.get(t);return void 0===n&&Ie(75,t),n}function Ut(e){const t=e.assignedSlot||e.parentElement;return null!==t&&11===t.nodeType?t.host:t}function jt(e,t){let n=e.getParent();for(;null!==n;){if(n.is(t))return!0;n=n.getParent()}return!1}function $t(e){const t=e._window;return null===t&&Ie(78),t}function Vt(e){return Li(e)||Ci(e)&&e.isShadowRoot()}function Kt(e){const t=hi(),n=e.constructor.getType(),r=t._nodes.get(n);void 0===r&&Ie(97);const i=r.replace;if(null!==i){const t=i(e);return t instanceof e.constructor||Ie(98),t}return e}function Ht(e,t){!Li(e.getParent())||Ci(t)||Ni(t)||Ie(99)}function Qt(e){return(Ni(e)||Ci(e)&&!e.canBeEmpty())&&!e.isInline()}function Yt(e,t,n){n.style.removeProperty("caret-color"),t._blockCursorElement=null;const r=e.parentElement;null!==r&&r.removeChild(e)}function qt(e){return q?(e||window).getSelection():null}function Jt(e){return 1===e.nodeType}function Xt(e){const t=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==e.nodeName.match(t)}function Gt(e){if(Li(e)||Ni(e)&&!e.isInline())return!0;if(!Ci(e)||Vt(e))return!1;const t=e.getFirstChild(),n=null===t||ar(t)||Er(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&n}function Zt(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}function en(e,t,n,r,i,l){let o=e.getFirstChild();for(;null!==o;){const e=o.__key;o.__parent===t&&(Ci(o)&&en(o,e,n,r,i,l),n.has(e)||l.delete(e),i.push(e)),o=o.getNextSibling()}}let tn,nn,rn,ln,on,sn,an,un,cn,dn,fn="",hn="",pn=null,gn="",mn=!1,yn=!1,_n=null;function vn(e,t){const n=an.get(e);if(null!==t){const n=zn(e);n.parentNode===t&&t.removeChild(n)}if(un.has(e)||nn._keyToDOMMap.delete(e),Ci(n)){const e=Ln(n,an);bn(e,0,e.length-1,null)}void 0!==n&&zt(dn,rn,ln,n,"destroyed")}function bn(e,t,n,r){let i=t;for(;i<=n;++i){const t=e[i];void 0!==t&&vn(t,r)}}function kn(e,t){e.setProperty("text-align",t)}const wn="40px";function xn(e,t){const n=tn.theme.indent;if("string"==typeof n){const r=e.classList.contains(n);t>0&&!r?e.classList.add(n):t<1&&r&&e.classList.remove(n)}const r=getComputedStyle(e).getPropertyValue("--lexical-indent-base-value")||wn;e.style.setProperty("padding-inline-start",0===t?"":`calc(${t} * ${r})`)}function Sn(e,t){const n=e.style;0===t?kn(n,""):t===me?kn(n,"left"):t===ye?kn(n,"center"):t===_e?kn(n,"right"):t===ve?kn(n,"justify"):t===be?kn(n,"start"):t===ke&&kn(n,"end")}function Cn(e,t,n){const r=un.get(e);void 0===r&&Ie(60);const i=r.createDOM(tn,nn);if(function(e,t,n){const r=n._keyToDOMMap;t["__lexicalKey_"+n._key]=e,r.set(e,t)}(e,i,nn),Er(r)?i.setAttribute("data-lexical-text","true"):Ni(r)&&i.setAttribute("data-lexical-decorator","true"),Ci(r)){const e=r.__indent,t=r.__size;if(0!==e&&xn(i,e),0!==t){const e=t-1;!function(e,t,n,r){const i=hn;hn="",En(e,n,0,t,r,null),Pn(n,r),hn=i}(Ln(r,un),e,r,i)}const n=r.__format;0!==n&&Sn(i,n),r.isInline()||Nn(null,r,i),Wt(r)&&(fn+=xe,gn+=xe)}else{const t=r.getTextContent();if(Ni(r)){const t=r.decorate(nn,tn);null!==t&&Mn(e,t),i.contentEditable="false"}else Er(r)&&(r.isDirectionless()||(hn+=t));fn+=t,gn+=t}if(null!==t)if(null!=n)t.insertBefore(i,n);else{const e=t.__lexicalLineBreak;null!=e?t.insertBefore(i,e):t.appendChild(i)}return zt(dn,rn,ln,r,"created"),i}function En(e,t,n,r,i,l){const o=fn;fn="";let s=n;for(;s<=r;++s){Cn(e[s],i,l);const t=un.get(e[s]);null!==t&&null===pn&&Er(t)&&(pn=t.getFormat())}Wt(t)&&(fn+=xe),i.__lexicalTextContent=fn,fn=o+fn}function Tn(e,t){const n=t.get(e);return ar(n)||Ni(n)&&n.isInline()}function Nn(e,t,n){const r=null!==e&&(0===e.__size||Tn(e.__last,an)),i=0===t.__size||Tn(t.__last,un);if(r){if(!i){const e=n.__lexicalLineBreak;null!=e&&n.removeChild(e),n.__lexicalLineBreak=null}}else if(i){const e=document.createElement("br");n.__lexicalLineBreak=e,n.appendChild(e)}}function Pn(e,t){const n=t.__lexicalDirTextContent,r=t.__lexicalDir;if(n!==hn||r!==_n){const n=""===hn,l=n?_n:(i=hn,Te.test(i)?"rtl":Ne.test(i)?"ltr":null);if(l!==r){const i=t.classList,o=tn.theme;let s=null!==r?o[r]:void 0,a=null!==l?o[l]:void 0;if(void 0!==s){if("string"==typeof s){const e=Ae(s);s=o[r]=e}i.remove(...s)}if(null===l||n&&"ltr"===l)t.removeAttribute("dir");else{if(void 0!==a){if("string"==typeof a){const e=Ae(a);a=o[l]=e}void 0!==a&&i.add(...a)}t.dir=l}yn||(e.getWritable().__dir=l)}_n=l,t.__lexicalDirTextContent=hn,t.__lexicalDir=l}var i}function Ln(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=t.get(r);void 0===e&&Ie(101),n.push(r),r=e.__next}return n}function On(e,t){const n=an.get(e);let r=un.get(e);void 0!==n&&void 0!==r||Ie(61);const i=mn||sn.has(e)||on.has(e),l=Bt(nn,e);if(n===r&&!i){if(Ci(n)){const e=l.__lexicalTextContent;void 0!==e&&(fn+=e,gn+=e);const t=l.__lexicalDirTextContent;void 0!==t&&(hn+=t)}else{const e=n.getTextContent();Er(n)&&!n.isDirectionless()&&(hn+=e),gn+=e,fn+=e}return l}if(n!==r&&i&&zt(dn,rn,ln,r,"updated"),r.updateDOM(n,l,tn)){const n=Cn(e,null,null);return null===t&&Ie(62),t.replaceChild(n,l),vn(e,null),n}if(Ci(n)&&Ci(r)){const e=r.__indent;e!==n.__indent&&xn(l,e);const t=r.__format;t!==n.__format&&Sn(l,t),i&&(function(e,t,n){const r=hn;var i;hn="",pn=null,function(e,t,n){const r=fn,i=e.__size,l=t.__size;if(fn="",1===i&&1===l){const r=e.__first,i=t.__first;if(r===i)On(r,n);else{const e=zn(r),t=Cn(i,null,null);n.replaceChild(t,e),vn(r,null)}const l=un.get(i);null===pn&&Er(l)&&(pn=l.getFormat())}else{const r=Ln(e,an),o=Ln(t,un);if(0===i)0!==l&&En(o,t,0,l-1,n,null);else if(0===l){if(0!==i){const e=null==n.__lexicalLineBreak;bn(r,0,i-1,e?null:n),e&&(n.textContent="")}}else!function(e,t,n,r,i,l){const o=r-1,s=i-1;let a,u,c=l.firstChild,d=0,f=0;for(;d<=o&&f<=s;){const e=t[d],r=n[f];if(e===r)c=Dn(On(r,l)),d++,f++;else{void 0===a&&(a=new Set(t)),void 0===u&&(u=new Set(n));const i=u.has(e),o=a.has(r);if(i)if(o){const e=Bt(nn,r);e===c?c=Dn(On(r,l)):(null!=c?l.insertBefore(e,c):l.appendChild(e),On(r,l)),d++,f++}else Cn(r,l,c),f++;else c=Dn(zn(e)),vn(e,l),d++}const i=un.get(r);null!==i&&null===pn&&Er(i)&&(pn=i.getFormat())}const h=d>o,p=f>s;if(h&&!p){const t=n[s+1];En(n,e,f,s,l,void 0===t?null:nn.getElementByKey(t))}else p&&!h&&bn(t,d,o,l)}(t,r,o,i,l,n)}Wt(t)&&(fn+=xe),n.__lexicalTextContent=fn,fn=r+fn}(e,t,n),Pn(t,n),Ri(i=t)&&null!=pn&&pn!==i.__textFormat&&!yn&&i.setTextFormat(pn),hn=r,pn=null}(n,r,l),Li(r)||r.isInline()||Nn(n,r,l)),Wt(r)&&(fn+=xe,gn+=xe)}else{const t=r.getTextContent();if(Ni(r)){const t=r.decorate(nn,tn);null!==t&&Mn(e,t)}else Er(r)&&!r.isDirectionless()&&(hn+=t);fn+=t,gn+=t}if(!yn&&Li(r)&&r.__cachedText!==gn){const e=r.getWritable();e.__cachedText=gn,r=e}return l}function Mn(e,t){let n=nn._pendingDecorators;const r=nn._decorators;if(null===n){if(r[e]===t)return;n=ht(nn)}n[e]=t}function Dn(e){let t=e.nextSibling;return null!==t&&t===nn._blockCursorElement&&(t=t.nextSibling),t}function zn(e){const t=cn.get(e);return void 0===t&&Ie(75,e),t}const Fn=Object.freeze({}),In=[["keydown",function(e,t){if(An=e.timeStamp,Rn=e.key,t.isComposing())return;const{key:n,shiftKey:r,ctrlKey:i,metaKey:l,altKey:o}=e;Rt(t,S,e)||null!=n&&(function(e,t,n,r){return Tt(e)&&!t&&!r&&!n}(n,i,o,l)?Rt(t,C,e):function(e,t,n,r,i){return Tt(e)&&!r&&!n&&(t||i)}(n,i,r,o,l)?Rt(t,E,e):function(e,t,n,r){return Et(e)&&!t&&!r&&!n}(n,i,o,l)?Rt(t,T,e):function(e,t,n,r,i){return Et(e)&&!r&&!n&&(t||i)}(n,i,r,o,l)?Rt(t,N,e):function(e,t,n){return function(e){return"ArrowUp"===e}(e)&&!t&&!n}(n,i,l)?Rt(t,P,e):function(e,t,n){return function(e){return"ArrowDown"===e}(e)&&!t&&!n}(n,i,l)?Rt(t,L,e):function(e,t){return Pt(e)&&t}(n,r)?(Vn=!0,Rt(t,O,e)):function(e){return" "===e}(n)?Rt(t,M,e):function(e,t){return X&&t&&"o"===e.toLowerCase()}(n,i)?(e.preventDefault(),Vn=!0,Rt(t,p,!0)):function(e,t){return Pt(e)&&!t}(n,r)?(Vn=!1,Rt(t,O,e)):function(e,t,n,r){return X?!t&&!n&&(Lt(e)||"h"===e.toLowerCase()&&r):!(r||t||n)&&Lt(e)}(n,o,l,i)?Lt(n)?Rt(t,D,e):(e.preventDefault(),Rt(t,h,!0)):function(e){return"Escape"===e}(n)?Rt(t,z,e):function(e,t,n,r,i){return X?!(n||r||i)&&(Ot(e)||"d"===e.toLowerCase()&&t):!(t||r||i)&&Ot(e)}(n,i,r,o,l)?Ot(n)?Rt(t,F,e):(e.preventDefault(),Rt(t,h,!1)):function(e,t,n){return Lt(e)&&(X?t:n)}(n,o,i)?(e.preventDefault(),Rt(t,v,!0)):function(e,t,n){return Ot(e)&&(X?t:n)}(n,o,i)?(e.preventDefault(),Rt(t,v,!1)):function(e,t){return X&&t&&Lt(e)}(n,l)?(e.preventDefault(),Rt(t,b,!0)):function(e,t){return X&&t&&Ot(e)}(n,l)?(e.preventDefault(),Rt(t,b,!1)):function(e,t,n,r){return"b"===e.toLowerCase()&&!t&&Nt(n,r)}(n,o,l,i)?(e.preventDefault(),Rt(t,k,"bold")):function(e,t,n,r){return"u"===e.toLowerCase()&&!t&&Nt(n,r)}(n,o,l,i)?(e.preventDefault(),Rt(t,k,"underline")):function(e,t,n,r){return"i"===e.toLowerCase()&&!t&&Nt(n,r)}(n,o,l,i)?(e.preventDefault(),Rt(t,k,"italic")):function(e,t,n,r){return"Tab"===e&&!t&&!n&&!r}(n,o,i,l)?Rt(t,I,e):function(e,t,n,r){return"z"===e.toLowerCase()&&!t&&Nt(n,r)}(n,r,l,i)?(e.preventDefault(),Rt(t,w,void 0)):function(e,t,n,r){return X?"z"===e.toLowerCase()&&n&&t:"y"===e.toLowerCase()&&r||"z"===e.toLowerCase()&&r&&t}(n,r,l,i)?(e.preventDefault(),Rt(t,x,void 0)):Rr(t._editorState._selection)?function(e,t,n,r){return!t&&"c"===e.toLowerCase()&&(X?n:r)}(n,r,l,i)?(e.preventDefault(),Rt(t,U,e)):function(e,t,n,r){return!t&&"x"===e.toLowerCase()&&(X?n:r)}(n,r,l,i)?(e.preventDefault(),Rt(t,j,e)):Mt(n,l,i)&&(e.preventDefault(),Rt(t,$,e)):!G&&Mt(n,l,i)&&(e.preventDefault(),Rt(t,$,e)),function(e,t,n,r){return e||t||n||r}(i,r,o,l)&&Rt(t,Y,e))}],["pointerdown",function(e,t){const n=e.target,r=e.pointerType;n instanceof Node&&"touch"!==r&&xi(t,(()=>{Ni(ft(n))||($n=!0)}))}],["compositionstart",function(e,t){xi(t,(()=>{const n=qr();if(Ir(n)&&!t.isComposing()){const r=n.anchor,i=n.anchor.getNode();at(r.key),(e.timeStamp<An+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||Er(i)&&i.getStyle()!==n.style)&&Rt(t,m,Se)}}))}],["compositionend",function(e,t){G?Kn=!0:xi(t,(()=>{Xn(t,e.data)}))}],["input",function(e,t){e.stopPropagation(),xi(t,(()=>{const n=qr(),r=e.data,i=Jn(e);if(null!=r&&Ir(n)&&Qn(n,i,r,e.timeStamp,!1)){Kn&&(Xn(t,r),Kn=!1);const i=n.anchor.getNode(),l=qt(t._window);if(null===l)return;const o=n.isBackward(),s=o?n.anchor.offset:n.focus.offset,a=o?n.focus.offset:n.anchor.offset;Z&&!n.isCollapsed()&&Er(i)&&null!==l.anchorNode&&i.getTextContent().slice(0,s)+r+i.getTextContent().slice(s+a)===xt(l.anchorNode)||Rt(t,m,r);const u=r.length;G&&u>1&&"insertCompositionText"===e.inputType&&!t.isComposing()&&(n.anchor.offset-=u),ee||te||le||!t.isComposing()||(An=0,at(null))}else St(!1,t,null!==r?r:void 0),Kn&&(Xn(t,r||void 0),Kn=!1);ci(),He(hi())})),Bn=null}],["click",function(e,t){xi(t,(()=>{const n=qr(),r=qt(t._window),i=Jr();if(r)if(Ir(n)){const t=n.anchor,l=t.getNode();"element"===t.type&&0===t.offset&&n.isCollapsed()&&!Li(l)&&1===gt().getChildrenSize()&&l.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):3!==e.detail||n.isCollapsed()||l!==n.focus.getNode()&&(Ci(l)?l.select(0):l.getParentOrThrow().select(0))}else if("touch"===e.pointerType){const n=r.anchorNode;if(null!==n){const l=n.nodeType;l!==oe&&l!==se||yt(Yr(i,r,t,e))}}Rt(t,f,e)}))}],["cut",Fn],["copy",Fn],["dragstart",Fn],["dragover",Fn],["dragend",Fn],["paste",Fn],["focus",Fn],["blur",Fn],["drop",Fn]];Z&&In.push(["beforeinput",(e,t)=>function(e,t){const n=e.inputType,r=Jn(e);"deleteCompositionText"===n||G&&At(t)||"insertCompositionText"!==n&&xi(t,(()=>{const i=qr();if("deleteContentBackward"===n){if(null===i){const e=Jr();if(!Ir(e))return;yt(e.clone())}if(Ir(i)){const n=i.anchor.key===i.focus.key;if(l=e.timeStamp,"MediaLast"===Rn&&l<An+30&&t.isComposing()&&n){if(at(null),An=0,setTimeout((()=>{xi(t,(()=>{at(null)}))}),30),Ir(i)){const e=i.anchor.getNode();e.markDirty(),i.format=e.getFormat(),Er(e)||Ie(142),i.style=e.getStyle()}}else{at(null),e.preventDefault();const r=i.anchor.getNode().getTextContent(),l=0===i.anchor.offset&&i.focus.offset===r.length;ie&&n&&!l||Rt(t,h,!0)}return}}var l;if(!Ir(i))return;const o=e.data;null!==Bn&&St(!1,t,Bn),i.dirty&&null===Bn||!i.isCollapsed()||Li(i.anchor.getNode())||null===r||i.applyDOMRange(r),Bn=null;const s=i.anchor,a=i.focus,u=s.getNode(),c=a.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(e.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Rt(t,m,e);break;case"insertFromComposition":at(null),Rt(t,m,e);break;case"insertLineBreak":at(null),Rt(t,p,!1);break;case"insertParagraph":at(null),Vn&&!te?(Vn=!1,Rt(t,p,!1)):Rt(t,g,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Rt(t,y,e);break;case"deleteByComposition":(function(e,t){return e!==t||Ci(e)||Ci(t)||!e.isToken()||!t.isToken()})(u,c)&&Rt(t,_,e);break;case"deleteByDrag":case"deleteByCut":Rt(t,_,e);break;case"deleteContent":Rt(t,h,!1);break;case"deleteWordBackward":Rt(t,v,!0);break;case"deleteWordForward":Rt(t,v,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Rt(t,b,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Rt(t,b,!1);break;case"formatStrikeThrough":Rt(t,k,"strikethrough");break;case"formatBold":Rt(t,k,"bold");break;case"formatItalic":Rt(t,k,"italic");break;case"formatUnderline":Rt(t,k,"underline");break;case"historyUndo":Rt(t,w,void 0);break;case"historyRedo":Rt(t,x,void 0)}else{if("\n"===o)e.preventDefault(),Rt(t,p,!1);else if(o===xe)e.preventDefault(),Rt(t,g,void 0);else if(null==o&&e.dataTransfer){const t=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(t)}else null!=o&&Qn(i,r,o,e.timeStamp,!0)?(e.preventDefault(),Rt(t,m,o)):Bn=o;Wn=e.timeStamp}}))}(e,t)]);let An=0,Rn=null,Wn=0,Bn=null;const Un=new WeakMap;let jn=!1,$n=!1,Vn=!1,Kn=!1,Hn=[0,"",0,"root",0];function Qn(e,t,n,r,i){const l=e.anchor,o=e.focus,s=l.getNode(),a=hi(),u=qt(a._window),c=null!==u?u.anchorNode:null,d=l.key,f=a.getElementByKey(d),h=n.length;return d!==o.key||!Er(s)||(!i&&(!Z||Wn<r+50)||s.isDirty()&&h<2||bt(n))&&l.offset!==o.offset&&!s.isComposing()||nt(s)||s.isDirty()&&h>1||(i||!Z)&&null!==f&&!s.isComposing()&&c!==it(f)||null!==u&&null!==t&&(!t.collapsed||t.startContainer!==u.anchorNode||t.startOffset!==u.anchorOffset)||s.getFormat()!==e.format||s.getStyle()!==e.style||function(e,t){if(t.isSegmented())return!0;if(!e.isCollapsed())return!1;const n=e.anchor.offset,r=t.getParentOrThrow(),i=t.isToken();return 0===n?!t.canInsertTextBefore()||!r.canInsertTextBefore()&&!t.isComposing()||i||function(e){const t=e.getPreviousSibling();return(Er(t)||Ci(t)&&t.isInline())&&!t.canInsertTextAfter()}(t):n===t.getTextContentSize()&&(!t.canInsertTextAfter()||!r.canInsertTextAfter()&&!t.isComposing()||i)}(e,s)}function Yn(e,t){return null!==e&&null!==e.nodeValue&&e.nodeType===se&&0!==t&&t!==e.nodeValue.length}function qn(e,t,n){const{anchorNode:r,anchorOffset:i,focusNode:l,focusOffset:o}=e;jn&&(jn=!1,Yn(r,i)&&Yn(l,o))||xi(t,(()=>{if(!n)return void yt(null);if(!et(t,r,l))return;const s=qr();if(Ir(s)){const n=s.anchor,r=n.getNode();if(s.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(s.dirty=!0);const i=$t(t).event,l=i?i.timeStamp:performance.now(),[o,a,u,c,d]=Hn,f=gt(),h=!1===t.isComposing()&&""===f.getTextContent();if(l<d+200&&n.offset===u&&n.key===c)s.format=o,s.style=a;else if("text"===n.type)Er(r)||Ie(141),s.format=r.getFormat(),s.style=r.getStyle();else if("element"===n.type&&!h){const e=n.getNode();e instanceof Fi&&0===e.getChildrenSize()?s.format=e.getTextFormat():s.format=0,s.style=""}}else{const e=n.key,t=s.focus.key,r=s.getNodes(),l=r.length,a=s.isBackward(),u=a?o:i,c=a?i:o,d=a?t:e,f=a?e:t;let h=ge,p=!1;for(let e=0;e<l;e++){const t=r[e],n=t.getTextContentSize();if(Er(t)&&0!==n&&!(0===e&&t.__key===d&&u===n||e===l-1&&t.__key===f&&0===c)&&(p=!0,h&=t.getFormat(),0===h))break}s.format=p?h:0}}Rt(t,d,void 0)}))}function Jn(e){if(!e.getTargetRanges)return null;const t=e.getTargetRanges();return 0===t.length?null:t[0]}function Xn(e,t){const n=e._compositionKey;if(at(null),null!==n&&null!=t){if(""===t){const t=ct(n),r=it(e.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Er(t)&&Ct(t,r.nodeValue,null,null,!0))}if("\n"===t[t.length-1]){const t=qr();if(Ir(t)){const n=t.focus;return t.anchor.set(n.key,n.offset,n.type),void Rt(e,O,null)}}}St(!0,e,t)}function Gn(e){let t=e.__lexicalEventHandles;return void 0===t&&(t=[],e.__lexicalEventHandles=t),t}const Zn=new Map;function er(e){const t=e.target,n=qt(null==t?null:9===t.nodeType?t.defaultView:t.ownerDocument.defaultView);if(null===n)return;const r=tt(n.anchorNode);if(null===r)return;$n&&($n=!1,xi(r,(()=>{const t=Jr(),i=n.anchorNode;if(null===i)return;const l=i.nodeType;l!==oe&&l!==se||yt(Yr(t,n,r,e))})));const i=kt(r),l=i[i.length-1],o=l._key,s=Zn.get(o),a=s||l;a!==r&&qn(n,a,!1),qn(n,r,!0),r!==l?Zn.set(o,r):s&&Zn.delete(o)}function tr(e){e._lexicalHandled=!0}function nr(e){return!0===e._lexicalHandled}function rr(e,t,n){ci();const r=e.__key,i=e.getParent();if(null===i)return;const l=function(e){const t=qr();if(!Ir(t)||!Ci(e))return t;const{anchor:n,focus:r}=t,i=n.getNode(),l=r.getNode();return jt(i,e)&&n.set(e.__key,0,"element"),jt(l,e)&&r.set(e.__key,0,"element"),t}(e);let o=!1;if(Ir(l)&&t){const t=l.anchor,n=l.focus;t.key===r&&(Zr(t,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0),n.key===r&&(Zr(n,e,i,e.getPreviousSibling(),e.getNextSibling()),o=!0)}else Rr(l)&&t&&e.isSelected()&&e.selectPrevious();if(Ir(l)&&t&&!o){const t=e.getIndexWithinParent();ot(e),Xr(l,i,t,-1)}else ot(e);n||Vt(i)||i.canBeEmpty()||!i.isEmpty()||rr(i,t),t&&Li(i)&&i.isEmpty()&&i.selectEnd()}class ir{static getType(){Ie(64,this.name)}static clone(e){Ie(65,this.name)}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,function(e,t){if(null!=t)return void(e.__key=t);ci(),di();const n=hi(),r=fi(),i=""+Xe++;r._nodeMap.set(i,e),Ci(e)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,e.__key=i}(this,e)}getType(){return this.__type}isInline(){Ie(137,this.constructor.name)}isAttached(){let e=this.__key;for(;null!==e;){if("root"===e)return!0;const t=ct(e);if(null===t)break;e=t.__parent}return!1}isSelected(e){const t=e||qr();if(null==t)return!1;const n=t.getNodes().some((e=>e.__key===this.__key));return(Er(this)||!Ir(t)||"element"!==t.anchor.type||"element"!==t.focus.type||t.anchor.key!==t.focus.key||t.anchor.offset!==t.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(null===e)return-1;let t=e.getFirstChild(),n=0;for(;null!==t;){if(this.is(t))return n;n++,t=t.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return null===e?null:ct(e)}getParentOrThrow(){const e=this.getParent();return null===e&&Ie(66,this.__key),e}getTopLevelElement(){let e=this;for(;null!==e;){const t=e.getParent();if(Vt(t))return Ci(e)||Ie(138),e;e=t}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return null===e&&Ie(67,this.__key),e}getParents(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t),t=t.getParent();return e}getParentKeys(){const e=[];let t=this.getParent();for(;null!==t;)e.push(t.__key),t=t.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return null===e?null:ct(e)}getPreviousSiblings(){const e=[],t=this.getParent();if(null===t)return e;let n=t.getFirstChild();for(;null!==n&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return null===e?null:ct(e)}getNextSiblings(){const e=[];let t=this.getNextSibling();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getCommonAncestor(e){const t=this.getParents(),n=e.getParents();Ci(this)&&t.unshift(this),Ci(e)&&n.unshift(e);const r=t.length,i=n.length;if(0===r||0===i||t[r-1]!==n[i-1])return null;const l=new Set(n);for(let e=0;e<r;e++){const n=t[e];if(l.has(n))return n}return null}is(e){return null!=e&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const t=this.getCommonAncestor(e);let n=0,r=0,i=this;for(;;){const e=i.getParentOrThrow();if(e===t){n=i.getIndexWithinParent();break}i=e}for(i=e;;){const e=i.getParentOrThrow();if(e===t){r=i.getIndexWithinParent();break}i=e}return n<r}isParentOf(e){const t=this.__key;if(t===e.__key)return!1;let n=e;for(;null!==n;){if(n.__key===t)return!0;n=n.getParent()}return!1}getNodesBetween(e){const t=this.isBefore(e),n=[],r=new Set;let i=this;for(;null!==i;){const l=i.__key;if(r.has(l)||(r.add(l),n.push(i)),i===e)break;const o=Ci(i)?t?i.getFirstChild():i.getLastChild():null;if(null!==o){i=o;continue}const s=t?i.getNextSibling():i.getPreviousSibling();if(null!==s){i=s;continue}const a=i.getParentOrThrow();if(r.has(a.__key)||n.push(a),a===e)break;let u=null,c=a;do{if(null===c&&Ie(68),u=t?c.getNextSibling():c.getPreviousSibling(),c=c.getParent(),null===c)break;null!==u||r.has(c.__key)||n.push(c)}while(null===u);i=u}return t||n.reverse(),n}isDirty(){const e=hi()._dirtyLeaves;return null!==e&&e.has(this.__key)}getLatest(){const e=ct(this.__key);return null===e&&Ie(113),e}getWritable(){ci();const e=fi(),t=hi(),n=e._nodeMap,r=this.__key,i=this.getLatest(),l=i.__parent,o=t._cloneNotNeeded,s=qr();if(null!==s&&s.setCachedNodes(null),o.has(r))return st(i),i;const a=i.constructor.clone(i);return a.__parent=l,a.__next=i.__next,a.__prev=i.__prev,Ci(i)&&Ci(a)?(Ri(i)&&Ri(a)&&(a.__textFormat=i.__textFormat),a.__first=i.__first,a.__last=i.__last,a.__size=i.__size,a.__indent=i.__indent,a.__format=i.__format,a.__dir=i.__dir):Er(i)&&Er(a)&&(a.__format=i.__format,a.__style=i.__style,a.__mode=i.__mode,a.__detail=i.__detail),o.add(r),a.__key=r,st(a),n.set(r,a),a}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,t){Ie(70)}updateDOM(e,t,n){Ie(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){Ie(72)}static importJSON(e){Ie(18,this.name)}static transform(){return null}remove(e){rr(this,!0,e)}replace(e,t){ci();let n=qr();null!==n&&(n=n.clone()),Ht(this,e);const r=this.getLatest(),i=this.__key,l=e.__key,o=e.getWritable(),s=this.getParentOrThrow().getWritable(),a=s.__size;ot(o);const u=r.getPreviousSibling(),c=r.getNextSibling(),d=r.__prev,f=r.__next,h=r.__parent;if(rr(r,!1,!0),null===u?s.__first=l:u.getWritable().__next=l,o.__prev=d,null===c?s.__last=l:c.getWritable().__prev=l,o.__next=f,o.__parent=h,s.__size=a,t&&(Ci(this)&&Ci(o)||Ie(139),this.getChildren().forEach((e=>{o.append(e)}))),Ir(n)){yt(n);const e=n.anchor,t=n.focus;e.key===i&&Dr(e,o),t.key===i&&Dr(t,o)}return ut()===i&&at(l),o}insertAfter(e,t=!0){ci(),Ht(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.getParent(),l=qr();let o=!1,s=!1;if(null!==i){const t=e.getIndexWithinParent();if(ot(r),Ir(l)){const e=i.__key,n=l.anchor,r=l.focus;o="element"===n.type&&n.key===e&&n.offset===t+1,s="element"===r.type&&r.key===e&&r.offset===t+1}}const a=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),c=r.__key,d=n.__next;if(null===a?u.__last=c:a.getWritable().__prev=c,u.__size++,n.__next=c,r.__next=d,r.__prev=n.__key,r.__parent=n.__parent,t&&Ir(l)){const e=this.getIndexWithinParent();Xr(l,u,e+1);const t=u.__key;o&&l.anchor.set(t,e+2,"element"),s&&l.focus.set(t,e+2,"element")}return e}insertBefore(e,t=!0){ci(),Ht(this,e);const n=this.getWritable(),r=e.getWritable(),i=r.__key;ot(r);const l=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),s=n.__prev,a=this.getIndexWithinParent();null===l?o.__first=i:l.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=s,r.__next=n.__key,r.__parent=n.__parent;const u=qr();return t&&Ir(u)&&Xr(u,this.getParentOrThrow(),a),e}isParentRequired(){return!1}createParentElementNode(){return Ai()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,t){ci();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Ci(n))return n.select();if(!Er(n)){const e=n.getIndexWithinParent()+1;return r.select(e,e)}return n.select(e,t)}selectNext(e,t){ci();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Ci(n))return n.select(0,0);if(!Er(n)){const e=n.getIndexWithinParent();return r.select(e,e)}return n.select(e,t)}markDirty(){this.getWritable()}}class lr extends ir{static getType(){return"linebreak"}static clone(e){return new lr(e.__key)}constructor(e){super(e)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>function(e){const t=e.parentElement;if(null!==t){const n=t.firstChild;if(n===e||n.nextSibling===e&&ur(n)){const n=t.lastChild;if(n===e||n.previousSibling===e&&ur(n))return!0}}return!1}(e)?null:{conversion:or,priority:0}}}static importJSON(e){return sr()}exportJSON(){return{type:"linebreak",version:1}}}function or(e){return{node:sr()}}function sr(){return Kt(new lr)}function ar(e){return e instanceof lr}function ur(e){return e.nodeType===se&&/^( |\t|\r?\n)+$/.test(e.textContent||"")}function cr(e,t){return 16&t?"code":128&t?"mark":32&t?"sub":64&t?"sup":null}function dr(e,t){return 1&t?"strong":2&t?"em":"span"}function fr(e,t,n,r,i){const l=r.classList;let o=Dt(i,"base");void 0!==o&&l.add(...o),o=Dt(i,"underlineStrikethrough");let s=!1;const a=t&pe&&t&he;void 0!==o&&(n&pe&&n&he?(s=!0,a||l.add(...o)):a&&l.remove(...o));for(const e in Pe){const r=Pe[e];if(o=Dt(i,e),void 0!==o)if(n&r){if(s&&("underline"===e||"strikethrough"===e)){t&r&&l.remove(...o);continue}t&r&&(!a||"underline"!==e)&&"strikethrough"!==e||l.add(...o)}else t&r&&l.remove(...o)}}function hr(e,t,n){const r=t.firstChild,i=n.isComposing(),l=e+(i?we:"");if(null==r)t.textContent=l;else{const e=r.nodeValue;if(e!==l)if(i||G){const[t,n,i]=function(e,t){const n=e.length,r=t.length;let i=0,l=0;for(;i<n&&i<r&&e[i]===t[i];)i++;for(;l+i<n&&l+i<r&&e[n-l-1]===t[r-l-1];)l++;return[i,n-i-l,t.slice(i,r-l)]}(e,l);0!==n&&r.deleteData(t,n),r.insertData(t,i)}else r.nodeValue=l}}function pr(e,t,n,r,i,l){hr(i,e,t);const o=l.theme.text;void 0!==o&&fr(0,0,r,e,o)}function gr(e,t){const n=document.createElement(t);return n.appendChild(e),n}class mr extends ir{static getType(){return"text"}static clone(e){return new mr(e.__text,e.__key)}constructor(e,t){super(t),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return ze[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ut()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const t=Pe[e];return!!(this.getFormat()&t)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(e,t){return lt(this.getLatest().__format,e,t)}canHaveFormat(){return!0}createDOM(e,t){const n=this.__format,r=cr(0,n),i=dr(0,n),l=null===r?i:r,o=document.createElement(l);let s=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(s=document.createElement(i),o.appendChild(s)),pr(s,this,0,n,this.__text,e);const a=this.__style;return""!==a&&(o.style.cssText=a),o}updateDOM(e,t,n){const r=this.__text,i=e.__format,l=this.__format,o=cr(0,i),s=cr(0,l),a=dr(0,i),u=dr(0,l);if((null===o?a:o)!==(null===s?u:s))return!0;if(o===s&&a!==u){const e=t.firstChild;null==e&&Ie(48);const i=document.createElement(u);return pr(i,this,0,l,r,n),t.replaceChild(i,e),!1}let c=t;null!==s&&null!==o&&(c=t.firstChild,null==c&&Ie(49)),hr(r,c,this);const d=n.theme.text;void 0!==d&&i!==l&&fr(0,i,l,c,d);const f=e.__style,h=this.__style;return f!==h&&(t.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:kr,priority:0}),b:()=>({conversion:_r,priority:0}),code:()=>({conversion:Sr,priority:0}),em:()=>({conversion:Sr,priority:0}),i:()=>({conversion:Sr,priority:0}),s:()=>({conversion:Sr,priority:0}),span:()=>({conversion:yr,priority:0}),strong:()=>({conversion:Sr,priority:0}),sub:()=>({conversion:Sr,priority:0}),sup:()=>({conversion:Sr,priority:0}),u:()=>({conversion:Sr,priority:0})}}static importJSON(e){const t=Cr(e.text);return t.setFormat(e.format),t.setDetail(e.detail),t.setMode(e.mode),t.setStyle(e.style),t}exportDOM(e){let{element:t}=super.exportDOM(e);return null!==t&&Jt(t)||Ie(132),t.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(t=gr(t,"b")),this.hasFormat("italic")&&(t=gr(t,"i")),this.hasFormat("strikethrough")&&(t=gr(t,"s")),this.hasFormat("underline")&&(t=gr(t,"u")),{element:t}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,t){}setFormat(e){const t=this.getWritable();return t.__format="string"==typeof e?Pe[e]:e,t}setDetail(e){const t=this.getWritable();return t.__detail="string"==typeof e?Le[e]:e,t}setStyle(e){const t=this.getWritable();return t.__style=e,t}toggleFormat(e){const t=lt(this.getFormat(),e,null);return this.setFormat(t)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const t=De[e];if(this.__mode===t)return this;const n=this.getWritable();return n.__mode=t,n}setTextContent(e){if(this.__text===e)return this;const t=this.getWritable();return t.__text=e,t}select(e,t){ci();let n=e,r=t;const i=qr(),l=this.getTextContent(),o=this.__key;if("string"==typeof l){const e=l.length;void 0===n&&(n=e),void 0===r&&(r=e)}else n=0,r=0;if(!Ir(i))return Hr(o,n,o,r,"text","text");{const e=ut();e!==i.anchor.key&&e!==i.focus.key||at(o),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,t,n,r){const i=this.getWritable(),l=i.__text,o=n.length;let s=e;s<0&&(s=o+s,s<0&&(s=0));const a=qr();if(r&&Ir(a)){const t=e+o;a.setTextNodeRange(i,t,i,t)}const u=l.slice(0,s)+n+l.slice(s+t);return i.__text=u,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ci();const t=this.getLatest(),n=t.getTextContent(),r=t.__key,i=ut(),l=new Set(e),o=[],s=n.length;let a="";for(let e=0;e<s;e++)""!==a&&l.has(e)&&(o.push(a),a=""),a+=n[e];""!==a&&o.push(a);const u=o.length;if(0===u)return[];if(o[0]===n)return[t];const c=o[0],d=t.getParentOrThrow();let f;const h=t.getFormat(),p=t.getStyle(),g=t.__detail;let m=!1;t.isSegmented()?(f=Cr(c),f.__format=h,f.__style=p,f.__detail=g,m=!0):(f=t.getWritable(),f.__text=c);const y=qr(),_=[f];let v=c.length;for(let e=1;e<u;e++){const t=o[e],n=t.length,l=Cr(t).getWritable();l.__format=h,l.__style=p,l.__detail=g;const s=l.__key,a=v+n;if(Ir(y)){const e=y.anchor,t=y.focus;e.key===r&&"text"===e.type&&e.offset>v&&e.offset<=a&&(e.key=s,e.offset-=v,y.dirty=!0),t.key===r&&"text"===t.type&&t.offset>v&&t.offset<=a&&(t.key=s,t.offset-=v,y.dirty=!0)}i===r&&at(s),v=a,_.push(l)}!function(e){const t=e.getPreviousSibling(),n=e.getNextSibling();null!==t&&st(t),null!==n&&st(n)}(this);const b=d.getWritable(),k=this.getIndexWithinParent();return m?(b.splice(k,0,_),this.remove()):b.splice(k,1,_),Ir(y)&&Xr(y,d,k,u-1),_}mergeWithSibling(e){const t=e===this.getPreviousSibling();t||e===this.getNextSibling()||Ie(50);const n=this.__key,r=e.__key,i=this.__text,l=i.length;ut()===r&&at(n);const o=qr();if(Ir(o)){const i=o.anchor,s=o.focus;null!==i&&i.key===r&&(ei(i,t,n,e,l),o.dirty=!0),null!==s&&s.key===r&&(ei(s,t,n,e,l),o.dirty=!0)}const s=e.__text,a=t?s+i:i+s;this.setTextContent(a);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function yr(e){return{forChild:Tr(e.style),node:null}}function _r(e){const t=e,n="normal"===t.style.fontWeight;return{forChild:Tr(t.style,n?void 0:"bold"),node:null}}const vr=new WeakMap;function br(e){return"PRE"===e.nodeName||e.nodeType===oe&&void 0!==e.style&&void 0!==e.style.whiteSpace&&e.style.whiteSpace.startsWith("pre")}function kr(e){const t=e;null===e.parentElement&&Ie(129);let n=t.textContent||"";if(null!==function(e){let t,n=e.parentNode;const r=[e];for(;null!==n&&void 0===(t=vr.get(n))&&!br(n);)r.push(n),n=n.parentNode;const i=void 0===t?n:t;for(let e=0;e<r.length;e++)vr.set(r[e],i);return i}(t)){const e=n.split(/(\r?\n|\t)/),t=[],r=e.length;for(let n=0;n<r;n++){const r=e[n];"\n"===r||"\r\n"===r?t.push(sr()):"\t"===r?t.push(Pr()):""!==r&&t.push(Cr(r))}return{node:t}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let e=t,r=!0;for(;null!==e&&null!==(e=wr(e,!1));){const t=e.textContent||"";if(t.length>0){/[ \t\n]$/.test(t)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let e=t,r=!0;for(;null!==e&&null!==(e=wr(e,!0));)if((e.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Cr(n)}}function wr(e,t){let n=e;for(;;){let e;for(;null===(e=t?n.nextSibling:n.previousSibling);){const e=n.parentElement;if(null===e)return null;n=e}if(n=e,n.nodeType===oe){const e=n.style.display;if(""===e&&!Xt(n)||""!==e&&!e.startsWith("inline"))return null}let r=n;for(;null!==(r=t?n.firstChild:n.lastChild);)n=r;if(n.nodeType===se)return n;if("BR"===n.nodeName)return null}}const xr={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Sr(e){const t=xr[e.nodeName.toLowerCase()];return void 0===t?{node:null}:{forChild:Tr(e.style,t),node:null}}function Cr(e=""){return Kt(new mr(e))}function Er(e){return e instanceof mr}function Tr(e,t){const n=e.fontWeight,r=e.textDecoration.split(" "),i="700"===n||"bold"===n,l=r.includes("line-through"),o="italic"===e.fontStyle,s=r.includes("underline"),a=e.verticalAlign;return e=>Er(e)?(i&&!e.hasFormat("bold")&&e.toggleFormat("bold"),l&&!e.hasFormat("strikethrough")&&e.toggleFormat("strikethrough"),o&&!e.hasFormat("italic")&&e.toggleFormat("italic"),s&&!e.hasFormat("underline")&&e.toggleFormat("underline"),"sub"!==a||e.hasFormat("subscript")||e.toggleFormat("subscript"),"super"!==a||e.hasFormat("superscript")||e.toggleFormat("superscript"),t&&!e.hasFormat(t)&&e.toggleFormat(t),e):e}class Nr extends mr{static getType(){return"tab"}static clone(e){const t=new Nr(e.__key);return t.__text=e.__text,t.__format=e.__format,t.__style=e.__style,t}constructor(e){super("\t",e),this.__detail=2}static importDOM(){return null}static importJSON(e){const t=Pr();return t.setFormat(e.format),t.setStyle(e.style),t}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(e){Ie(126)}setDetail(e){Ie(127)}setMode(e){Ie(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Pr(){return Kt(new Nr)}class Lr{constructor(e,t,n){this._selection=null,this.key=e,this.offset=t,this.type=n}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let t=this.getNode(),n=e.getNode();const r=this.offset,i=e.offset;if(Ci(t)){const e=t.getDescendantByIndex(r);t=null!=e?e:t}if(Ci(n)){const e=n.getDescendantByIndex(i);n=null!=e?e:n}return t===n?r<i:t.isBefore(n)}getNode(){const e=ct(this.key);return null===e&&Ie(20),e}set(e,t,n){const r=this._selection,i=this.key;this.key=e,this.offset=t,this.type=n,ui()||(ut()===i&&at(e),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function Or(e,t,n){return new Lr(e,t,n)}function Mr(e,t){let n=t.__key,r=e.offset,i="element";if(Er(t)){i="text";const e=t.getTextContentSize();r>e&&(r=e)}else if(!Ci(t)){const e=t.getNextSibling();if(Er(e))n=e.__key,r=0,i="text";else{const e=t.getParent();e&&(n=e.__key,r=t.getIndexWithinParent()+1)}}e.set(n,r,i)}function Dr(e,t){if(Ci(t)){const n=t.getLastDescendant();Ci(n)||Er(n)?Mr(e,n):Mr(e,t)}else Mr(e,t)}function zr(e,t,n,r){e.key=t,e.offset=n,e.type=r}class Fr{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!Rr(e))return!1;const t=this._nodes,n=e._nodes;return t.size===n.size&&Array.from(t).every((e=>n.has(e)))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Fr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.getNodes(),n=t.length,r=t[n-1];let i;if(Er(r))i=r.select();else{const e=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(e,e)}i.insertNodes(e);for(let e=0;e<n;e++)t[e].remove()}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this._nodes,n=[];for(const e of t){const t=ct(e);null!==t&&n.push(t)}return ui()||(this._cachedNodes=n),n}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function Ir(e){return e instanceof Ar}class Ar{constructor(e,t,n,r){this.anchor=e,this.focus=t,e._selection=this,t._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!Ir(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const t=this.anchor,n=this.focus,r=t.isBefore(n),i=r?t:n,l=r?n:t;let o=i.getNode(),s=l.getNode();const a=i.offset,u=l.offset;if(Ci(o)){const e=o.getDescendantByIndex(a);o=null!=e?e:o}if(Ci(s)){let e=s.getDescendantByIndex(u);null!==e&&e!==o&&s.getChildAtIndex(u)===e&&(e=e.getPreviousSibling()),s=null!=e?e:s}let c;return c=o.is(s)?Ci(o)&&o.getChildrenSize()>0?[]:[o]:o.getNodesBetween(s),ui()||(this._cachedNodes=c),c}setTextNodeRange(e,t,n,r){zr(this.anchor,e.__key,t,"text"),zr(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(0===e.length)return"";const t=e[0],n=e[e.length-1],r=this.anchor,i=this.focus,l=r.isBefore(i),[o,s]=Br(this);let a="",u=!0;for(let c=0;c<e.length;c++){const d=e[c];if(Ci(d)&&!d.isInline())u||(a+="\n"),u=!d.isEmpty();else if(u=!1,Er(d)){let e=d.getTextContent();d===t?d===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(e=o<s?e.slice(o,s):e.slice(s,o)):e=l?e.slice(o):e.slice(s):d===n&&(e=l?e.slice(0,s):e.slice(0,o)),a+=e}else!Ni(d)&&!ar(d)||d===n&&this.isCollapsed()||(a+=d.getTextContent())}return a}applyDOMRange(e){const t=hi(),n=t.getEditorState()._selection,r=Kr(e.startContainer,e.startOffset,e.endContainer,e.endOffset,t,n);if(null===r)return;const[i,l]=r;zr(this.anchor,i.key,i.offset,i.type),zr(this.focus,l.key,l.offset,l.type),this._cachedNodes=null}clone(){const e=this.anchor,t=this.focus;return new Ar(Or(e.key,e.offset,e.type),Or(t.key,t.offset,t.type),this.format,this.style)}toggleFormat(e){this.format=lt(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const t=Pe[e];return!!(this.format&t)}insertRawText(e){const t=e.split(/(\r?\n|\t)/),n=[],r=t.length;for(let e=0;e<r;e++){const r=t[e];"\n"===r||"\r\n"===r?n.push(sr()):"\t"===r?n.push(Pr()):n.push(Cr(r))}this.insertNodes(n)}insertText(e){const t=this.anchor,n=this.focus,r=this.format,i=this.style;let l=t,o=n;!this.isCollapsed()&&n.isBefore(t)&&(l=n,o=t),"element"===l.type&&function(e,t,n,r){const i=e.getNode(),l=i.getChildAtIndex(e.offset),o=Cr(),s=Li(i)?Ai().append(o):o;o.setFormat(n),o.setStyle(r),null===l?i.append(s):l.insertBefore(s),e.is(t)&&t.set(o.__key,0,"text"),e.set(o.__key,0,"text")}(l,o,r,i);const s=l.offset;let a=o.offset;const u=this.getNodes(),c=u.length;let d=u[0];Er(d)||Ie(26);const f=d.getTextContent().length,h=d.getParentOrThrow();let p=u[c-1];if(1===c&&"element"===o.type&&(a=f,o.set(l.key,a,"text")),this.isCollapsed()&&s===f&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!h.canInsertTextAfter()&&null===d.getNextSibling())){let t=d.getNextSibling();if(Er(t)&&t.canInsertTextBefore()&&!nt(t)||(t=Cr(),t.setFormat(r),t.setStyle(i),h.canInsertTextAfter()?d.insertAfter(t):h.insertAfter(t)),t.select(0,0),d=t,""!==e)return void this.insertText(e)}else if(this.isCollapsed()&&0===s&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!h.canInsertTextBefore()&&null===d.getPreviousSibling())){let t=d.getPreviousSibling();if(Er(t)&&!nt(t)||(t=Cr(),t.setFormat(r),h.canInsertTextBefore()?d.insertBefore(t):h.insertBefore(t)),t.select(),d=t,""!==e)return void this.insertText(e)}else if(d.isSegmented()&&s!==f){const e=Cr(d.getTextContent());e.setFormat(r),d.replace(e),d=e}else if(!this.isCollapsed()&&""!==e){const t=p.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||Ci(t)&&(!t.canInsertTextBefore()||!t.canInsertTextAfter()))return this.insertText(""),Vr(this.anchor,this.focus,null),void this.insertText(e)}if(1===c){if(d.isToken()){const t=Cr(e);return t.select(),void d.replace(t)}const t=d.getFormat(),n=d.getStyle();if(s!==a||t===r&&n===i){if(function(e){return e instanceof Nr}(d)){const t=Cr(e);return t.setFormat(r),t.setStyle(i),t.select(),void d.replace(t)}}else{if(""!==d.getTextContent()){const t=Cr(e);if(t.setFormat(r),t.setStyle(i),t.select(),0===s)d.insertBefore(t,!1);else{const[e]=d.splitText(s);e.insertAfter(t,!1)}return void(t.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length))}d.setFormat(r),d.setStyle(i)}const l=a-s;d=d.spliceText(s,l,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=t,this.style=n))}else{const t=new Set([...d.getParentKeys(),...p.getParentKeys()]),n=Ci(d)?d:d.getParentOrThrow();let r=Ci(p)?p:p.getParentOrThrow(),i=p;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===o.type&&(0!==a||""===p.getTextContent())||"element"===o.type&&p.getIndexWithinParent()<a)if(Er(p)&&!p.isToken()&&a!==p.getTextContentSize()){if(p.isSegmented()){const e=Cr(p.getTextContent());p.replace(e),p=e}Li(o.getNode())||"text"!==o.type||(p=p.spliceText(0,a,"")),t.add(p.__key)}else{const e=p.getParentOrThrow();e.canBeEmpty()||1!==e.getChildrenSize()?p.remove():e.remove()}else t.add(p.__key);const l=r.getChildren(),h=new Set(u),g=n.is(r),m=n.isInline()&&null===d.getNextSibling()?n:d;for(let e=l.length-1;e>=0;e--){const t=l[e];if(t.is(d)||Ci(t)&&t.isParentOf(d))break;t.isAttached()&&(!h.has(t)||t.is(i)?g||m.insertAfter(t,!1):t.remove())}if(!g){let e=r,n=null;for(;null!==e;){const r=e.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(t.delete(e.__key),n=e),e=e.getParent()}}if(d.isToken())if(s===f)d.select();else{const t=Cr(e);t.select(),d.replace(t)}else d=d.spliceText(s,f-s,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(let e=1;e<c;e++){const n=u[e],r=n.__key;t.has(r)||n.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())return this.toggleFormat(e),void at(null);const t=this.getNodes(),n=[];for(const e of t)Er(e)&&n.push(e);const r=n.length;if(0===r)return this.toggleFormat(e),void at(null);const i=this.anchor,l=this.focus,o=this.isBackward(),s=o?l:i,a=o?i:l;let u=0,c=n[0],d="element"===s.type?0:s.offset;if("text"===s.type&&d===c.getTextContentSize()&&(u=1,c=n[1],d=0),null==c)return;const f=c.getFormatFlags(e,null),h=r-1;let p=n[h];const g="text"===a.type?a.offset:p.getTextContentSize();if(c.is(p)){if(d===g)return;if(nt(c)||0===d&&g===c.getTextContentSize())c.setFormat(f);else{const e=c.splitText(d,g),t=0===d?e[0]:e[1];t.setFormat(f),"text"===s.type&&s.set(t.__key,0,"text"),"text"===a.type&&a.set(t.__key,g-d,"text")}return void(this.format=f)}0===d||nt(c)||([,c]=c.splitText(d),d=0),c.setFormat(f);const m=p.getFormatFlags(e,f);g>0&&(g===p.getTextContentSize()||nt(p)||([p]=p.splitText(g)),p.setFormat(m));for(let t=u+1;t<h;t++){const r=n[t],i=r.getFormatFlags(e,m);r.setFormat(i)}"text"===s.type&&s.set(c.__key,d,"text"),"text"===a.type&&a.set(p.__key,g,"text"),this.format=f|m}insertNodes(e){if(0===e.length)return;if("root"===this.anchor.key){this.insertParagraph();const t=qr();return Ir(t)||Ie(134),t.insertNodes(e)}const t=Zt((this.isBackward()?this.focus:this.anchor).getNode(),Gt),n=e[e.length-1];if("__language"in t&&Ci(t)){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const r=ti(this);t.splice(r,0,e),n.selectEnd()}return}if(!e.some((e=>(Ci(e)||Ni(e))&&!e.isInline()))){Ci(t)||Ie(135);const r=ti(this);return t.splice(r,0,e),void n.selectEnd()}const r=function(e){const t=Ai();let n=null;for(let r=0;r<e.length;r++){const i=e[r],l=ar(i);if(l||Ni(i)&&i.isInline()||Ci(i)&&i.isInline()||Er(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),t.append(n),l))continue;null!==n&&n.append(i)}else t.append(i),n=null}return t}(e),i=r.getLastDescendant(),l=r.getChildren(),o=e=>"__value"in e&&"__checked"in e,s=Ci(t)&&t.isEmpty()?null:this.insertParagraph(),a=l[l.length-1];let u=l[0];var c;Ci(c=u)&&Gt(c)&&!c.isEmpty()&&Ci(t)&&(!t.isEmpty()||o(t))&&(Ci(t)||Ie(135),t.append(...u.getChildren()),u=l[1]),u&&function(e,t,n){const r=t.getParentOrThrow().getLastChild();let i=t;const l=[t];for(;i!==r;)i.getNextSibling()||Ie(140),i=i.getNextSibling(),l.push(i);let o=e;for(const e of l)o=o.insertAfter(e)}(t,u);const d=Zt(i,Gt);s&&Ci(d)&&(o(s)||Gt(a))&&(d.append(...s.getChildren()),s.remove()),Ci(t)&&t.isEmpty()&&t.remove(),i.selectEnd();const f=Ci(t)?t.getLastChild():null;ar(f)&&d!==t&&f.remove()}insertParagraph(){if("root"===this.anchor.key){const e=Ai();return gt().splice(this.anchor.offset,0,[e]),e.select(),e}const e=ti(this),t=Zt(this.anchor.getNode(),Gt);Ci(t)||Ie(136);const n=t.getChildAtIndex(e),r=n?[n,...n.getNextSiblings()]:[],i=t.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(e){const t=sr();if(this.insertNodes([t]),e){const e=t.getParentOrThrow(),n=t.getIndexWithinParent();e.select(n,n)}}extract(){const e=this.getNodes(),t=e.length,n=t-1,r=this.anchor,i=this.focus;let l=e[0],o=e[n];const[s,a]=Br(this);if(0===t)return[];if(1===t){if(Er(l)&&!this.isCollapsed()){const e=s>a?a:s,t=s>a?s:a,n=l.splitText(e,t),r=0===e?n[0]:n[1];return null!=r?[r]:[]}return[l]}const u=r.isBefore(i);if(Er(l)){const t=u?s:a;t===l.getTextContentSize()?e.shift():0!==t&&([,l]=l.splitText(t),e[0]=l)}if(Er(o)){const t=o.getTextContent().length,r=u?a:s;0===r?e.pop():r!==t&&([o]=o.splitText(r),e[n]=o)}return e}modify(e,t,n){const r=this.focus,i=this.anchor,l="move"===e,o=It(r,t);if(Ni(o)&&!o.isIsolated()){if(l&&o.isKeyboardSelectable()){const e=Qr();return e.add(o.__key),void yt(e)}const e=t?o.getPreviousSibling():o.getNextSibling();if(Er(e)){const n=e.__key,o=t?e.getTextContent().length:0;return r.set(n,o,"text"),void(l&&i.set(n,o,"text"))}{const n=o.getParentOrThrow();let s,a;return Ci(e)?(a=e.__key,s=t?e.getChildrenSize():0):(s=o.getIndexWithinParent(),a=n.__key,t||s++),r.set(a,s,"element"),void(l&&i.set(a,s,"element"))}}const s=hi(),a=qt(s._window);if(!a)return;const u=s._blockCursorElement,c=s._rootElement;if(null===c||null===u||!Ci(o)||o.isInline()||o.canBeEmpty()||Yt(u,s,c),function(e,t,n,r){e.modify(t,n,r)}(a,e,t?"backward":"forward",n),a.rangeCount>0){const e=a.getRangeAt(0),n=this.anchor.getNode(),r=Li(n)?n:function(e){let t=e.getParentOrThrow();for(;null!==t;){if(Vt(t))return t;t=t.getParentOrThrow()}return t}(n);if(this.applyDOMRange(e),this.dirty=!0,!l){const n=this.getNodes(),i=[];let l=!1;for(let e=0;e<n.length;e++){const t=n[e];jt(t,r)?i.push(t):l=!0}if(l&&i.length>0)if(t){const e=i[0];Ci(e)?e.selectStart():e.getParentOrThrow().selectStart()}else{const e=i[i.length-1];Ci(e)?e.selectEnd():e.getParentOrThrow().selectEnd()}a.anchorNode===e.startContainer&&a.anchorOffset===e.startOffset||function(e){const t=e.focus,n=e.anchor,r=n.key,i=n.offset,l=n.type;zr(n,t.key,t.offset,t.type),zr(t,r,i,l),e._cachedNodes=null}(this)}}}forwardDeletion(e,t,n){if(!n&&("element"===e.type&&Ci(t)&&e.offset===t.getChildrenSize()||"text"===e.type&&e.offset===t.getTextContentSize())){const e=t.getParent(),n=t.getNextSibling()||(null===e?null:e.getNextSibling());if(Ci(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(e){const t=this.isCollapsed();if(this.isCollapsed()){const t=this.anchor;let n=t.getNode();if(this.forwardDeletion(t,n,e))return;const r=this.focus,i=It(r,e);if(Ni(i)&&!i.isIsolated()){if(i.isKeyboardSelectable()&&Ci(n)&&0===n.getChildrenSize()){n.remove();const e=Qr();e.add(i.__key),yt(e)}else i.remove(),hi().dispatchCommand(d,void 0);return}if(!e&&Ci(i)&&Ci(n)&&n.isEmpty())return n.remove(),void i.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&0===t.offset&&("element"===t.type?t.getNode():t.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const i="text"===r.type?r.getNode():null;if(n="text"===t.type?t.getNode():null,null!==i&&i.isSegmented()){const t=r.offset,l=i.getTextContentSize();if(i.is(n)||e&&t!==l||!e&&0!==t)return void Ur(i,e,t)}else if(null!==n&&n.isSegmented()){const r=t.offset,l=n.getTextContentSize();if(n.is(i)||e&&0!==r||!e&&r!==l)return void Ur(n,e,r)}!function(e,t){const n=e.anchor,r=e.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){const e=n.offset,l=r.offset,o=e<l,s=o?e:l,a=o?l:e,u=a-1;s!==u&&(bt(i.getTextContent().slice(s,a))||(t?r.offset=u:n.offset=u))}}(this,e)}}if(this.removeText(),e&&!t&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const e=this.anchor.getNode();e.isEmpty()&&Li(e.getParent())&&0===e.getIndexWithinParent()&&e.collapseAtStart(this)}}deleteLine(e){if(this.isCollapsed()){const t="element"===this.anchor.type;if(t&&this.insertText(" "),this.modify("extend",e,"lineboundary"),0===(e?this.focus:this.anchor).offset&&this.modify("extend",e,"character"),t){const t=e?this.anchor:this.focus;t.set(t.key,t.offset+1,t.type)}}this.removeText()}deleteWord(e){if(this.isCollapsed()){const t=this.anchor,n=t.getNode();if(this.forwardDeletion(t,n,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function Rr(e){return e instanceof Fr}function Wr(e){const t=e.offset;if("text"===e.type)return t;const n=e.getNode();return t===n.getChildrenSize()?n.getTextContent().length:0}function Br(e){const t=e.getStartEndPoints();if(null===t)return[0,0];const[n,r]=t;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Wr(n),Wr(r)]}function Ur(e,t,n){const r=e,i=r.getTextContent().split(/(?=\s)/g),l=i.length;let o=0,s=0;for(let e=0;e<l;e++){const r=e===l-1;if(s=o,o+=i[e].length,t&&o===n||o>n||r){i.splice(e,1),r&&(s=void 0);break}}const a=i.join("").trim();""===a?r.remove():(r.setTextContent(a),r.select(s,s))}function jr(e,t,n,r){let i,l=t;if(e.nodeType===oe){let o=!1;const s=e.childNodes,a=s.length,u=r._blockCursorElement;l===a&&(o=!0,l=a-1);let c=s[l],d=!1;if(c===u)c=s[l+1],d=!0;else if(null!==u){const n=u.parentNode;e===n&&t>Array.prototype.indexOf.call(n.children,u)&&l--}if(i=_t(c),Er(i))l=vt(i,o);else{let r=_t(e);if(null===r)return null;if(Ci(r)){l=Math.min(r.getChildrenSize(),l);let e=r.getChildAtIndex(l);if(Ci(e)&&function(e,t,n){const r=e.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(e,0,n)){const t=o?e.getLastDescendant():e.getFirstDescendant();null===t?r=e:(e=t,r=Ci(e)?e:e.getParentOrThrow()),l=0}Er(e)?(i=e,r=null,l=vt(e,o)):e!==r&&o&&!d&&l++}else{const n=r.getIndexWithinParent();l=0===t&&Ni(r)&&_t(e)===r?n:n+1,r=r.getParentOrThrow()}if(Ci(r))return Or(r.__key,l,"element")}}else i=_t(e);return Er(i)?Or(i.__key,l,"text"):null}function $r(e,t,n){const r=e.offset,i=e.getNode();if(0===r){const r=i.getPreviousSibling(),l=i.getParent();if(t){if((n||!t)&&null===r&&Ci(l)&&l.isInline()){const t=l.getPreviousSibling();Er(t)&&(e.key=t.__key,e.offset=t.getTextContent().length)}}else Ci(r)&&!n&&r.isInline()?(e.key=r.__key,e.offset=r.getChildrenSize(),e.type="element"):Er(r)&&(e.key=r.__key,e.offset=r.getTextContent().length)}else if(r===i.getTextContent().length){const r=i.getNextSibling(),l=i.getParent();if(t&&Ci(r)&&r.isInline())e.key=r.__key,e.offset=0,e.type="element";else if((n||t)&&null===r&&Ci(l)&&l.isInline()&&!l.canInsertTextAfter()){const t=l.getNextSibling();Er(t)&&(e.key=t.__key,e.offset=0)}}}function Vr(e,t,n){if("text"===e.type&&"text"===t.type){const r=e.isBefore(t),i=e.is(t);$r(e,r,i),$r(t,!r,i),i&&(t.key=e.key,t.offset=e.offset,t.type=e.type);const l=hi();if(l.isComposing()&&l._compositionKey!==e.key&&Ir(n)){const r=n.anchor,i=n.focus;zr(e,r.key,r.offset,r.type),zr(t,i.key,i.offset,i.type)}}}function Kr(e,t,n,r,i,l){if(null===e||null===n||!et(i,e,n))return null;const o=jr(e,t,Ir(l)?l.anchor:null,i);if(null===o)return null;const s=jr(n,r,Ir(l)?l.focus:null,i);if(null===s)return null;if("element"===o.type&&"element"===s.type){const t=_t(e),r=_t(n);if(Ni(t)&&Ni(r))return null}return Vr(o,s,l),[o,s]}function Hr(e,t,n,r,i,l){const o=fi(),s=new Ar(Or(e,t,i),Or(n,r,l),0,"");return s.dirty=!0,o._selection=s,s}function Qr(){return new Fr(new Set)}function Yr(e,t,n,r){const i=n._window;if(null===i)return null;const l=r||i.event,o=l?l.type:void 0,s="selectionchange"===o,a=!We&&(s||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&l&&3===l.detail||"drop"===o||void 0===o);let u,c,d,f;if(Ir(e)&&!a)return e.clone();if(null===t)return null;if(u=t.anchorNode,c=t.focusNode,d=t.anchorOffset,f=t.focusOffset,s&&Ir(e)&&!et(n,u,c))return e.clone();const h=Kr(u,d,c,f,n,e);if(null===h)return null;const[p,g]=h;return new Ar(p,g,Ir(e)?e.format:0,Ir(e)?e.style:"")}function qr(){return fi()._selection}function Jr(){return hi()._editorState._selection}function Xr(e,t,n,r=1){const i=e.anchor,l=e.focus,o=i.getNode(),s=l.getNode();if(!t.is(o)&&!t.is(s))return;const a=t.__key;if(e.isCollapsed()){const t=i.offset;if(n<=t&&r>0||n<t&&r<0){const n=Math.max(0,t+r);i.set(a,n,"element"),l.set(a,n,"element"),Gr(e)}}else{const o=e.isBackward(),s=o?l:i,u=s.getNode(),c=o?i:l,d=c.getNode();if(t.is(u)){const e=s.offset;(n<=e&&r>0||n<e&&r<0)&&s.set(a,Math.max(0,e+r),"element")}if(t.is(d)){const e=c.offset;(n<=e&&r>0||n<e&&r<0)&&c.set(a,Math.max(0,e+r),"element")}}Gr(e)}function Gr(e){const t=e.anchor,n=t.offset,r=e.focus,i=r.offset,l=t.getNode(),o=r.getNode();if(e.isCollapsed()){if(!Ci(l))return;const e=l.getChildrenSize(),i=n>=e,o=i?l.getChildAtIndex(e-1):l.getChildAtIndex(n);if(Er(o)){let e=0;i&&(e=o.getTextContentSize()),t.set(o.__key,e,"text"),r.set(o.__key,e,"text")}}else{if(Ci(l)){const e=l.getChildrenSize(),r=n>=e,i=r?l.getChildAtIndex(e-1):l.getChildAtIndex(n);if(Er(i)){let e=0;r&&(e=i.getTextContentSize()),t.set(i.__key,e,"text")}}if(Ci(o)){const e=o.getChildrenSize(),t=i>=e,n=t?o.getChildAtIndex(e-1):o.getChildAtIndex(i);if(Er(n)){let e=0;t&&(e=n.getTextContentSize()),r.set(n.__key,e,"text")}}}}function Zr(e,t,n,r,i){let l=null,o=0,s=null;null!==r?(l=r.__key,Er(r)?(o=r.getTextContentSize(),s="text"):Ci(r)&&(o=r.getChildrenSize(),s="element")):null!==i&&(l=i.__key,Er(i)?s="text":Ci(i)&&(s="element")),null!==l&&null!==s?e.set(l,o,s):(o=t.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),e.set(n.__key,o,"element"))}function ei(e,t,n,r,i){"text"===e.type?(e.key=n,t||(e.offset+=i)):e.offset>r.getIndexWithinParent()&&(e.offset-=1)}function ti(e){let t=e;e.isCollapsed()||t.removeText();const n=qr();Ir(n)&&(t=n),Ir(t)||Ie(161);const r=t.anchor;let i=r.getNode(),l=r.offset;for(;!Gt(i);)[i,l]=ni(i,l);return l}function ni(e,t){const n=e.getParent();if(!n){const e=Ai();return gt().append(e),e.select(),[gt(),0]}if(Er(e)){const r=e.splitText(t);if(0===r.length)return[n,e.getIndexWithinParent()];const i=0===t?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!Ci(e)||0===t)return[n,e.getIndexWithinParent()];const r=e.getChildAtIndex(t);if(r){const n=new Ar(Or(e.__key,t,"element"),Or(e.__key,t,"element"),0,""),i=e.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,e.getIndexWithinParent()+1]}let ri=null,ii=null,li=!1,oi=!1,si=0;const ai={characterData:!0,childList:!0,subtree:!0};function ui(){return li||null!==ri&&ri._readOnly}function ci(){li&&Ie(13)}function di(){si>99&&Ie(14)}function fi(){return null===ri&&Ie(15),ri}function hi(){return null===ii&&Ie(16),ii}function pi(e,t,n){const r=t.__type,i=function(e,t){const n=e._nodes.get(t);return void 0===n&&Ie(30,t),n}(e,r);let l=n.get(r);void 0===l&&(l=Array.from(i.transforms),n.set(r,l));const o=l.length;for(let e=0;e<o&&(l[e](t),t.isAttached());e++);}function gi(e,t){return void 0!==e&&e.__key!==t&&e.isAttached()}function mi(e,t){const n=e.type,r=t.get(n);void 0===r&&Ie(17,n);const i=r.klass;e.type!==i.getType()&&Ie(18,i.name);const l=i.importJSON(e),o=e.children;if(Ci(l)&&Array.isArray(o))for(let e=0;e<o.length;e++){const n=mi(o[e],t);l.append(n)}return l}function yi(e,t){const n=ri,r=li,i=ii;ri=e,li=!0,ii=null;try{return t()}finally{ri=n,li=r,ii=i}}function _i(e,t){const n=e._pendingEditorState,r=e._rootElement,i=e._headless||null===r;if(null===n)return;const l=e._editorState,o=l._selection,s=n._selection,a=e._dirtyType!==ae,u=ri,c=li,f=ii,h=e._updating,p=e._observer;let g=null;if(e._pendingEditorState=null,e._editorState=n,!i&&a&&null!==p){ii=e,ri=n,li=!1,e._updating=!0;try{const t=e._dirtyType,r=e._dirtyElements,i=e._dirtyLeaves;p.disconnect(),g=function(e,t,n,r,i,l){fn="",gn="",hn="",mn=r===ue,_n=null,nn=n,tn=n._config,rn=n._nodes,ln=nn._listeners.mutation,on=i,sn=l,an=e._nodeMap,un=t._nodeMap,yn=t._readOnly,cn=new Map(n._keyToDOMMap);const o=new Map;return dn=o,On("root",null),nn=void 0,rn=void 0,on=void 0,sn=void 0,an=void 0,un=void 0,tn=void 0,cn=void 0,dn=void 0,o}(l,n,e,t,r,i)}catch(t){if(t instanceof Error&&e._onError(t),oi)throw t;return Bi(e,null,r,n),Qe(e),e._dirtyType=ue,oi=!0,_i(e,l),void(oi=!1)}finally{p.observe(r,ai),e._updating=h,ri=u,li=c,ii=f}}n._readOnly||(n._readOnly=!0);const m=e._dirtyLeaves,y=e._dirtyElements,_=e._normalizedNodes,v=e._updateTags,b=e._deferred;a&&(e._dirtyType=ae,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements=new Map,e._normalizedNodes=new Set,e._updateTags=new Set),function(e,t){const n=e._decorators;let r=e._pendingDecorators||n;const i=t._nodeMap;let l;for(l in r)i.has(l)||(r===n&&(r=ht(e)),delete r[l])}(e,n);const k=i?null:qt(e._window);if(e._editable&&null!==k&&(a||null===s||s.dirty)){ii=e,ri=n;try{if(null!==p&&p.disconnect(),a||null===s||s.dirty){const t=e._blockCursorElement;null!==t&&Yt(t,e,r),function(e,t,n,r,i,l,o){const s=r.anchorNode,a=r.focusNode,u=r.anchorOffset,c=r.focusOffset,d=document.activeElement;if(i.has("collaboration")&&d!==l||null!==d&&Ze(d))return;if(!Ir(t))return void(null!==e&&et(n,s,a)&&r.removeAllRanges());const f=t.anchor,h=t.focus,p=f.key,g=h.key,m=Bt(n,p),y=Bt(n,g),_=f.offset,v=h.offset,b=t.format,k=t.style,w=t.isCollapsed();let x=m,S=y,C=!1;if("text"===f.type){x=it(m);const e=f.getNode();C=e.getFormat()!==b||e.getStyle()!==k}else Ir(e)&&"text"===e.anchor.type&&(C=!0);var E,T,N,P,L;if("text"===h.type&&(S=it(y)),null!==x&&null!==S&&(w&&(null===e||C||Ir(e)&&(e.format!==b||e.style!==k))&&(E=b,T=k,N=_,P=p,L=performance.now(),Hn=[E,T,N,P,L]),u!==_||c!==v||s!==x||a!==S||"Range"===r.type&&w||(null!==d&&l.contains(d)||l.focus({preventScroll:!0}),"element"===f.type))){try{r.setBaseAndExtent(x,_,S,v)}catch(e){}if(!i.has("skip-scroll-into-view")&&t.isCollapsed()&&null!==l&&l===document.activeElement){const e=t instanceof Ar&&"element"===t.anchor.type?x.childNodes[_]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==e){let t;if(e instanceof Text){const n=document.createRange();n.selectNode(e),t=n.getBoundingClientRect()}else t=e.getBoundingClientRect();!function(e,t,n){const r=n.ownerDocument,i=r.defaultView;if(null===i)return;let{top:l,bottom:o}=t,s=0,a=0,u=n;for(;null!==u;){const t=u===r.body;if(t)s=0,a=$t(e).innerHeight;else{const e=u.getBoundingClientRect();s=e.top,a=e.bottom}let n=0;if(l<s?n=-(s-l):o>a&&(n=o-a),0!==n)if(t)i.scrollBy(0,n);else{const e=u.scrollTop;u.scrollTop+=n;const t=u.scrollTop-e;l-=t,o-=t}if(t)break;u=Ut(u)}}(n,t,l)}}jn=!0}}(o,s,e,k,v,r)}(function(e,t,n){let r=e._blockCursorElement;if(Ir(n)&&n.isCollapsed()&&"element"===n.anchor.type&&t.contains(document.activeElement)){const i=n.anchor,l=i.getNode(),o=i.offset;let s=!1,a=null;if(o===l.getChildrenSize())Qt(l.getChildAtIndex(o-1))&&(s=!0);else{const t=l.getChildAtIndex(o);if(Qt(t)){const n=t.getPreviousSibling();(null===n||Qt(n))&&(s=!0,a=e.getElementByKey(t.__key))}}if(s){const n=e.getElementByKey(l.__key);return null===r&&(e._blockCursorElement=r=function(e){const t=e.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=t.blockCursor;if(void 0!==r){if("string"==typeof r){const e=Ae(r);r=t.blockCursor=e}void 0!==r&&n.classList.add(...r)}return n}(e._config)),t.style.caretColor="transparent",void(null===a?n.appendChild(r):n.insertBefore(r,a))}}null!==r&&Yt(r,e,t)})(e,r,s),null!==p&&p.observe(r,ai)}finally{ii=f,ri=u}}null!==g&&function(e,t,n,r,i){const l=Array.from(e._listeners.mutation),o=l.length;for(let e=0;e<o;e++){const[o,s]=l[e],a=t.get(s);void 0!==a&&o(a,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}(e,g,v,m,l),Ir(s)||null===s||null!==o&&o.is(s)||e.dispatchCommand(d,void 0);const w=e._pendingDecorators;null!==w&&(e._decorators=w,e._pendingDecorators=null,vi("decorator",e,!0,w)),function(e,t,n){const r=pt(t),i=pt(n);r!==i&&vi("textcontent",e,!0,i)}(e,t||l,n),vi("update",e,!0,{dirtyElements:y,dirtyLeaves:m,editorState:n,normalizedNodes:_,prevEditorState:t||l,tags:v}),function(e,t){if(e._deferred=[],0!==t.length){const n=e._updating;e._updating=!0;try{for(let e=0;e<t.length;e++)t[e]()}finally{e._updating=n}}}(e,b),function(e){const t=e._updates;if(0!==t.length){const n=t.shift();if(n){const[t,r]=n;wi(e,t,r)}}}(e)}function vi(e,t,n,...r){const i=t._updating;t._updating=n;try{const n=Array.from(t._listeners[e]);for(let e=0;e<n.length;e++)n[e].apply(null,r)}finally{t._updating=i}}function bi(e,t,n){if(!1===e._updating||ii!==e){let r=!1;return e.update((()=>{r=bi(e,t,n)})),r}const r=kt(e);for(let i=4;i>=0;i--)for(let l=0;l<r.length;l++){const o=r[l]._commands.get(t);if(void 0!==o){const t=o[i];if(void 0!==t){const r=Array.from(t),i=r.length;for(let t=0;t<i;t++)if(!0===r[t](n,e))return!0}}}return!1}function ki(e,t){const n=e._updates;let r=t||!1;for(;0!==n.length;){const t=n.shift();if(t){const[n,i]=t;let l,o;void 0!==i&&(l=i.onUpdate,o=i.tag,i.skipTransforms&&(r=!0),l&&e._deferred.push(l),o&&e._updateTags.add(o)),n()}}return r}function wi(e,t,n){const r=e._updateTags;let i,l,o=!1,s=!1;void 0!==n&&(i=n.onUpdate,l=n.tag,null!=l&&r.add(l),o=n.skipTransforms||!1,s=n.discrete||!1),i&&e._deferred.push(i);const a=e._editorState;let u=e._pendingEditorState,c=!1;(null===u||u._readOnly)&&(u=e._pendingEditorState=new Di(new Map((u||a)._nodeMap)),c=!0),u._flushSync=s;const d=ri,f=li,h=ii,p=e._updating;ri=u,li=!1,e._updating=!0,ii=e;try{c&&(e._headless?null!==a._selection&&(u._selection=a._selection.clone()):u._selection=function(e){const t=e.getEditorState()._selection,n=qt(e._window);return Ir(t)||null==t?Yr(t,n,e,null):t.clone()}(e));const n=e._compositionKey;t(),o=ki(e,o),function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(Ir(r)){const e=r.anchor,t=r.focus;let i;if("text"===e.type&&(i=e.getNode(),i.selectionTransform(n,r)),"text"===t.type){const e=t.getNode();i!==e&&e.selectionTransform(n,r)}}}(u,e),e._dirtyType!==ae&&(o?function(e,t){const n=t._dirtyLeaves,r=e._nodeMap;for(const e of n){const t=r.get(e);Er(t)&&t.isAttached()&&t.isSimpleText()&&!t.isUnmergeable()&&Je(t)}}(u,e):function(e,t){const n=t._dirtyLeaves,r=t._dirtyElements,i=e._nodeMap,l=ut(),o=new Map;let s=n,a=s.size,u=r,c=u.size;for(;a>0||c>0;){if(a>0){t._dirtyLeaves=new Set;for(const e of s){const r=i.get(e);Er(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&Je(r),void 0!==r&&gi(r,l)&&pi(t,r,o),n.add(e)}if(s=t._dirtyLeaves,a=s.size,a>0){si++;continue}}t._dirtyLeaves=new Set,t._dirtyElements=new Map;for(const e of u){const n=e[0],s=e[1];if("root"!==n&&!s)continue;const a=i.get(n);void 0!==a&&gi(a,l)&&pi(t,a,o),r.set(n,s)}s=t._dirtyLeaves,a=s.size,u=t._dirtyElements,c=u.size,si++}t._dirtyLeaves=n,t._dirtyElements=r}(u,e),ki(e),function(e,t,n,r){const i=e._nodeMap,l=t._nodeMap,o=[];for(const[e]of r){const t=l.get(e);void 0!==t&&(t.isAttached()||(Ci(t)&&en(t,e,i,l,o,r),i.has(e)||r.delete(e),o.push(e)))}for(const e of o)l.delete(e);for(const e of n){const t=l.get(e);void 0===t||t.isAttached()||(i.has(e)||n.delete(e),l.delete(e))}}(a,u,e._dirtyLeaves,e._dirtyElements)),n!==e._compositionKey&&(u._flushSync=!0);const r=u._selection;if(Ir(r)){const e=u._nodeMap,t=r.anchor.key,n=r.focus.key;void 0!==e.get(t)&&void 0!==e.get(n)||Ie(19)}else Rr(r)&&0===r._nodes.size&&(u._selection=null)}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=a,e._dirtyType=ue,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),void _i(e)}finally{ri=d,li=f,ii=h,e._updating=p,si=0}const g=e._dirtyType!==ae||function(e,t){const n=t.getEditorState()._selection,r=e._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(u,e);g?u._flushSync?(u._flushSync=!1,_i(e)):c&&Ge((()=>{_i(e)})):(u._flushSync=!1,c&&(r.clear(),e._deferred=[],e._pendingEditorState=null))}function xi(e,t,n){e._updating?e._updates.push([t,n]):wi(e,t,n)}class Si extends ir{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Me[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t),t=t.getNextSibling();return e}getChildrenKeys(){const e=[];let t=this.getFirstChild();for(;null!==t;)e.push(t.__key),t=t.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const e=hi()._dirtyElements;return null!==e&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),t=this.getParentOrThrow().getLastChild();return null!==t&&t.is(e)}getAllTextNodes(){const e=[];let t=this.getFirstChild();for(;null!==t;){if(Er(t)&&e.push(t),Ci(t)){const n=t.getAllTextNodes();e.push(...n)}t=t.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;Ci(e);){const t=e.getFirstChild();if(null===t)break;e=t}return e}getLastDescendant(){let e=this.getLastChild();for(;Ci(e);){const t=e.getLastChild();if(null===t)break;e=t}return e}getDescendantByIndex(e){const t=this.getChildren(),n=t.length;if(e>=n){const e=t[n-1];return Ci(e)&&e.getLastDescendant()||e||null}const r=t[e];return Ci(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const e=this.getLatest().__first;return null===e?null:ct(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return null===e&&Ie(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return null===e?null:ct(e)}getLastChildOrThrow(){const e=this.getLastChild();return null===e&&Ie(96,this.__key),e}getChildAtIndex(e){const t=this.getChildrenSize();let n,r;if(e<t/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=e;){if(r===e)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=t-1;null!==n&&r>=e;){if(r===e)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let e="";const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContent(),Ci(i)&&r!==n-1&&!i.isInline()&&(e+=xe)}return e}getTextContentSize(){let e=0;const t=this.getChildren(),n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=i.getTextContentSize(),Ci(i)&&r!==n-1&&!i.isInline()&&(e+=xe.length)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(""!==e){const t=Oe[e];return!!(this.getFormat()&t)}return!1}select(e,t){ci();const n=qr();let r=e,i=t;const l=this.getChildrenSize();if(!this.canBeEmpty())if(0===e&&0===t){const e=this.getFirstChild();if(Er(e)||Ci(e))return e.select(0,0)}else if(!(void 0!==e&&e!==l||void 0!==t&&t!==l)){const e=this.getLastChild();if(Er(e)||Ci(e))return e.select()}void 0===r&&(r=l),void 0===i&&(i=l);const o=this.__key;return Ir(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):Hr(o,r,o,i,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach((e=>e.remove())),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const t=this.getWritable();return t.__dir=e,t}setFormat(e){return this.getWritable().__format=""!==e?Oe[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,t,n){const r=n.length,i=this.getChildrenSize(),l=this.getWritable(),o=l.__key,s=[],a=[],u=this.getChildAtIndex(e+t);let c=null,d=i-t+r;if(0!==e)if(e===i)c=this.getLastChild();else{const t=this.getChildAtIndex(e);null!==t&&(c=t.getPreviousSibling())}if(t>0){let e=null===c?this.getFirstChild():c.getNextSibling();for(let n=0;n<t;n++){null===e&&Ie(100);const t=e.getNextSibling(),n=e.__key;ot(e.getWritable()),a.push(n),e=t}}let f=c;for(let e=0;e<r;e++){const t=n[e];null!==f&&t.is(f)&&(c=f=f.getPreviousSibling());const r=t.getWritable();r.__parent===o&&d--,ot(r);const i=t.__key;if(null===f)l.__first=i,r.__prev=null;else{const e=f.getWritable();e.__next=i,r.__prev=e.__key}t.__key===o&&Ie(76),r.__parent=o,s.push(i),f=t}if(e+t===i)null!==f&&(f.getWritable().__next=null,l.__last=f.__key);else if(null!==u){const e=u.getWritable();if(null!==f){const t=f.getWritable();e.__prev=f.__key,t.__next=u.__key}else e.__prev=null}if(l.__size=d,a.length){const e=qr();if(Ir(e)){const t=new Set(a),n=new Set(s),{anchor:r,focus:i}=e;Ei(r,t,n)&&Zr(r,r.getNode(),this,c,u),Ei(i,t,n)&&Zr(i,i.getNode(),this,c,u),0!==d||this.canBeEmpty()||Vt(this)||this.remove()}}return l}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,t){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,t,n){return!1}}function Ci(e){return e instanceof Si}function Ei(e,t,n){let r=e.getNode();for(;r;){const e=r.__key;if(t.has(e)&&!n.has(e))return!0;r=r.getParent()}return!1}class Ti extends ir{constructor(e){super(e)}decorate(e,t){Ie(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Ni(e){return e instanceof Ti}class Pi extends Si{static getType(){return"root"}static clone(){return new Pi}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){Ie(51)}getTextContent(){const e=this.__cachedText;return!ui()&&hi()._dirtyType!==ae||null===e?super.getTextContent():e}remove(){Ie(52)}replace(e){Ie(53)}insertBefore(e){Ie(54)}insertAfter(e){Ie(55)}updateDOM(e,t){return!1}append(...e){for(let t=0;t<e.length;t++){const n=e[t];Ci(n)||Ni(n)||Ie(56)}return super.append(...e)}static importJSON(e){const t=gt();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function Li(e){return e instanceof Pi}function Oi(){return new Di(new Map([["root",new Pi]]))}function Mi(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&Ie(130,n.name),Ci(e)){const r=t.children;Array.isArray(r)||Ie(59,n.name);const i=e.getChildren();for(let e=0;e<i.length;e++){const t=Mi(i[e]);r.push(t)}}return t}class Di{constructor(e,t){this._nodeMap=e,this._selection=t||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(e){return yi(this,e)}clone(e){const t=new Di(this._nodeMap,void 0===e?this._selection:e);return t._readOnly=!0,t}toJSON(){return yi(this,(()=>({root:Mi(gt())})))}}class zi extends Si{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Fi extends Si{constructor(e){super(e),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(e){const t=this.getWritable();return t.__textFormat=e,t}hasTextFormat(e){const t=Pe[e];return!!(this.getTextFormat()&t)}static clone(e){return new Fi(e.__key)}createDOM(e){const t=document.createElement("p"),n=Dt(e.theme,"paragraph");return void 0!==n&&t.classList.add(...n),t}updateDOM(e,t,n){return!1}static importDOM(){return{p:e=>({conversion:Ii,priority:0})}}exportDOM(e){const{element:t}=super.exportDOM(e);if(t&&Jt(t)){this.isEmpty()&&t.append(document.createElement("br"));const e=this.getFormatType();t.style.textAlign=e;const n=this.getDirection();n&&(t.dir=n);const r=this.getIndent();r>0&&(t.style.textIndent=20*r+"px")}return{element:t}}static importJSON(e){const t=Ai();return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t.setTextFormat(e.textFormat),t}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(e,t){const n=Ai();n.setTextFormat(e.format);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),this.insertAfter(n,t),n}collapseAtStart(){const e=this.getChildren();if(0===e.length||Er(e[0])&&""===e[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function Ii(e){const t=Ai();if(e.style){t.setFormat(e.style.textAlign);const n=parseInt(e.style.textIndent,10)/20;n>0&&t.setIndent(n)}return{node:t}}function Ai(){return Kt(new Fi)}function Ri(e){return e instanceof Fi}const Wi=0;function Bi(e,t,n,r){const i=e._keyToDOMMap;i.clear(),e._editorState=Oi(),e._pendingEditorState=r,e._compositionKey=null,e._dirtyType=ae,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set,e._dirtyElements.clear(),e._normalizedNodes=new Set,e._updateTags=new Set,e._updates=[],e._blockCursorElement=null;const l=e._observer;null!==l&&(l.disconnect(),e._observer=null),null!==t&&(t.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}function Ui(e){const t=e||{},n=ii,r=t.theme||{},i=void 0===e?n:t.parentEditor||null,l=t.disableEvents||!1,o=Oi(),s=t.namespace||(null!==i?i._config.namespace:wt()),a=t.editorState,u=[Pi,mr,lr,Nr,Fi,zi,...t.nodes||[]],{onError:c,html:d}=t,f=void 0===t.editable||t.editable;let h;if(void 0===e&&null!==n)h=n._nodes;else{h=new Map;for(let e=0;e<u.length;e++){let t=u[e],n=null,r=null;if("function"!=typeof t){const e=t;t=e.replace,n=e.with,r=e.withKlass||null}const i=t.getType(),l=t.transform(),o=new Set;null!==l&&o.add(l),h.set(i,{exportDOM:d&&d.export?d.export.get(t):void 0,klass:t,replace:n,replaceWithKlass:r,transforms:o})}}const p=new ji(o,i,h,{disableEvents:l,namespace:s,theme:r},c||console.error,function(e,t){const n=new Map,r=new Set,i=e=>{Object.keys(e).forEach((t=>{let r=n.get(t);void 0===r&&(r=[],n.set(t,r)),r.push(e[t])}))};return e.forEach((e=>{const t=e.klass.importDOM;if(null==t||r.has(t))return;r.add(t);const n=t.call(e.klass);null!==n&&i(n)})),t&&i(t),n}(h,d?d.import:void 0),f);return void 0!==a&&(p._pendingEditorState=a,p._dirtyType=ue),p}class ji{constructor(e,t,n,r,i,l,o){this._parentEditor=t,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=ae,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=wt(),this._onError=i,this._htmlConversions=l,this._editable=o,this._headless=null!==t&&t._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(e){const t=this._listeners.update;return t.add(e),()=>{t.delete(e)}}registerEditableListener(e){const t=this._listeners.editable;return t.add(e),()=>{t.delete(e)}}registerDecoratorListener(e){const t=this._listeners.decorator;return t.add(e),()=>{t.delete(e)}}registerTextContentListener(e){const t=this._listeners.textcontent;return t.add(e),()=>{t.delete(e)}}registerRootListener(e){const t=this._listeners.root;return e(this._rootElement,null),t.add(e),()=>{e(null,this._rootElement),t.delete(e)}}registerCommand(e,t,n){void 0===n&&Ie(35);const r=this._commands;r.has(e)||r.set(e,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(e);void 0===i&&Ie(36,String(e));const l=i[n];return l.add(t),()=>{l.delete(t),i.every((e=>0===e.size))&&r.delete(e)}}registerMutationListener(e,t){let n=this._nodes.get(e.getType());void 0===n&&Ie(37,e.name);let r=e,i=null;for(;i=n.replaceWithKlass;)r=i,n=this._nodes.get(i.getType()),void 0===n&&Ie(37,i.name);const l=this._listeners.mutation;return l.set(t,r),()=>{l.delete(t)}}registerNodeTransformToKlass(e,t){const n=e.getType(),r=this._nodes.get(n);return void 0===r&&Ie(37,e.name),r.transforms.add(t),r}registerNodeTransform(e,t){const n=this.registerNodeTransformToKlass(e,t),r=[n],i=n.replaceWithKlass;if(null!=i){const e=this.registerNodeTransformToKlass(i,t);r.push(e)}var l;return l=e.getType(),xi(this,(()=>{const e=fi();if(e.isEmpty())return;if("root"===l)return void gt().markDirty();const t=e._nodeMap;for(const[,e]of t)e.markDirty()}),null===this._pendingEditorState?{tag:"history-merge"}:void 0),()=>{r.forEach((e=>e.transforms.delete(t)))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,t){return Rt(this,e,t)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const t=this._rootElement;if(e!==t){const n=Dt(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Bi(this,t,e,r),null!==t&&(this._config.disableEvents||function(e){const t=e.ownerDocument,n=Un.get(t);void 0===n&&Ie(162);const r=n-1;r>=0||Ie(164),Un.set(t,r),0===r&&t.removeEventListener("selectionchange",er);const i=e.__lexicalEditor;null!=i&&(function(e){if(null!==e._parentEditor){const t=kt(e),n=t[t.length-1]._key;Zn.get(n)===e&&Zn.delete(n)}else Zn.delete(e._key)}(i),e.__lexicalEditor=null);const l=Gn(e);for(let e=0;e<l.length;e++)l[e]();e.__lexicalEventHandles=[]}(t),null!=n&&t.classList.remove(...n)),null!==e){const t=function(e){const t=e.ownerDocument;return t&&t.defaultView||null}(e),r=e.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=t,this._dirtyType=ue,Qe(this),this._updateTags.add("history-merge"),_i(this),this._config.disableEvents||function(e,t){const n=e.ownerDocument,r=Un.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",er),Un.set(n,(r||0)+1),e.__lexicalEditor=t;const i=Gn(e);for(let n=0;n<In.length;n++){const[r,l]=In[n],o="function"==typeof l?e=>{nr(e)||(tr(e),(t.isEditable()||"click"===r)&&l(e,t))}:e=>{if(nr(e))return;tr(e);const n=t.isEditable();switch(r){case"cut":return n&&Rt(t,j,e);case"copy":return Rt(t,U,e);case"paste":return n&&Rt(t,y,e);case"dragstart":return n&&Rt(t,R,e);case"dragover":return n&&Rt(t,W,e);case"dragend":return n&&Rt(t,B,e);case"focus":return n&&Rt(t,H,e);case"blur":return n&&Rt(t,Q,e);case"drop":return n&&Rt(t,A,e)}};e.addEventListener(r,o),i.push((()=>{e.removeEventListener(r,o)}))}}(e,this),null!=n&&e.classList.add(...n)}else this._editorState=r,this._pendingEditorState=null,this._window=null;vi("root",this,!1,e,t)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,t){e.isEmpty()&&Ie(38),He(this);const n=this._pendingEditorState,r=this._updateTags,i=void 0!==t?t.tag:null;null===n||n.isEmpty()||(null!=i&&r.add(i),_i(this)),this._pendingEditorState=e,this._dirtyType=ue,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&r.add(i),_i(this)}parseEditorState(e,t){return function(e,t,n){const r=Oi(),i=ri,l=li,o=ii,s=t._dirtyElements,a=t._dirtyLeaves,u=t._cloneNotNeeded,c=t._dirtyType;t._dirtyElements=new Map,t._dirtyLeaves=new Set,t._cloneNotNeeded=new Set,t._dirtyType=0,ri=r,li=!1,ii=t;try{const i=t._nodes;mi(e.root,i),n&&n(),r._readOnly=!0}catch(e){e instanceof Error&&t._onError(e)}finally{t._dirtyElements=s,t._dirtyLeaves=a,t._cloneNotNeeded=u,t._dirtyType=c,ri=i,li=l,ii=o}return r}("string"==typeof e?JSON.parse(e):e,this,t)}update(e,t){xi(this,e,t)}focus(e,t={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),xi(this,(()=>{const e=qr(),n=gt();null!==e?e.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===t.defaultSelection?n.selectStart():n.selectEnd())}),{onUpdate:()=>{n.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;null!==e&&e.blur();const t=qt(this._window);null!==t&&t.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,vi("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}const $i=()=>new Map,Vi=e=>{const t=$i();return e.forEach(((e,n)=>{t.set(n,e)})),t},Ki=(e,t,n)=>{let r=e.get(t);return void 0===r&&e.set(t,r=n()),r},Hi=()=>new Set,Qi=e=>e[e.length-1],Yi=(e,t)=>{for(let n=0;n<t.length;n++)e.push(t[n])},qi=Array.from,Ji=Array.isArray;class Xi{constructor(){this._observers=$i()}on(e,t){return Ki(this._observers,e,Hi).add(t),t}once(e,t){const n=(...r)=>{this.off(e,n),t(...r)};this.on(e,n)}off(e,t){const n=this._observers.get(e);void 0!==n&&(n.delete(t),0===n.size&&this._observers.delete(e))}emit(e,t){return qi((this._observers.get(e)||$i()).values()).forEach((e=>e(...t)))}destroy(){this._observers=$i()}}const Gi=Math.floor,Zi=(Math.ceil,Math.abs),el=(Math.imul,Math.round,Math.log10,Math.log2,Math.log,Math.sqrt,(e,t)=>e<t?e:t),tl=(e,t)=>e>t?e:t,nl=(Number.isNaN,Math.pow,Math.sign,e=>0!==e?e<0:1/e<0),rl=128,il=127,ll=(Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.isInteger||(e=>"number"==typeof e&&isFinite(e)&&Gi(e)===e)),ol=(Number.isNaN,Number.parseInt,String.fromCharCode),sl=(String.fromCodePoint,ol(65535),/^\s*/g),al=/([A-Z])/g,ul=(e,t)=>(e=>e.replace(sl,""))(e.replace(al,(e=>`${t}${(e=>e.toLowerCase())(e)}`))),cl="undefined"!=typeof TextEncoder?new TextEncoder:null,dl=cl?e=>cl.encode(e):e=>{const t=unescape(encodeURIComponent(e)),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.codePointAt(e);return r};let fl="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});fl&&1===fl.decode(new Uint8Array).length&&(fl=null);class hl{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const pl=()=>new hl,gl=e=>{const t=new Uint8Array((e=>{let t=e.cpos;for(let n=0;n<e.bufs.length;n++)t+=e.bufs[n].length;return t})(e));let n=0;for(let r=0;r<e.bufs.length;r++){const i=e.bufs[r];t.set(i,n),n+=i.length}return t.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),n),t},ml=(e,t)=>{const n=e.cbuf.length;e.cpos===n&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(2*n),e.cpos=0),e.cbuf[e.cpos++]=t},yl=ml,_l=(e,t)=>{for(;t>il;)ml(e,rl|il&t),t=Gi(t/128);ml(e,il&t)},vl=(e,t)=>{const n=nl(t);for(n&&(t=-t),ml(e,(t>63?rl:0)|(n?64:0)|63&t),t=Gi(t/64);t>0;)ml(e,(t>il?rl:0)|il&t),t=Gi(t/128)},bl=new Uint8Array(3e4),kl=bl.length/3,wl=cl&&cl.encodeInto?(e,t)=>{if(t.length<kl){const n=cl.encodeInto(t,bl).written||0;_l(e,n);for(let t=0;t<n;t++)ml(e,bl[t])}else Sl(e,dl(t))}:(e,t)=>{const n=unescape(encodeURIComponent(t)),r=n.length;_l(e,r);for(let t=0;t<r;t++)ml(e,n.codePointAt(t))},xl=(e,t)=>{const n=e.cbuf.length,r=e.cpos,i=el(n-r,t.length),l=t.length-i;e.cbuf.set(t.subarray(0,i),r),e.cpos+=i,l>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(tl(2*n,l)),e.cbuf.set(t.subarray(i)),e.cpos=l)},Sl=(e,t)=>{_l(e,t.byteLength),xl(e,t)},Cl=(e,t)=>{((e,t)=>{const n=e.cbuf.length;n-e.cpos<t&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(2*tl(n,t)),e.cpos=0)})(e,t);const n=new DataView(e.cbuf.buffer,e.cpos,t);return e.cpos+=t,n},El=new DataView(new ArrayBuffer(4)),Tl=(e,t)=>{switch(typeof t){case"string":ml(e,119),wl(e,t);break;case"number":ll(t)&&Zi(t)<=2147483647?(ml(e,125),vl(e,t)):(n=t,El.setFloat32(0,n),El.getFloat32(0)===n?(ml(e,124),((e,t)=>{Cl(e,4).setFloat32(0,t,!1)})(e,t)):(ml(e,123),((e,t)=>{Cl(e,8).setFloat64(0,t,!1)})(e,t)));break;case"bigint":ml(e,122),((e,t)=>{Cl(e,8).setBigInt64(0,t,!1)})(e,t);break;case"object":if(null===t)ml(e,126);else if(Ji(t)){ml(e,117),_l(e,t.length);for(let n=0;n<t.length;n++)Tl(e,t[n])}else if(t instanceof Uint8Array)ml(e,116),Sl(e,t);else{ml(e,118);const n=Object.keys(t);_l(e,n.length);for(let r=0;r<n.length;r++){const i=n[r];wl(e,i),Tl(e,t[i])}}break;case"boolean":ml(e,t?120:121);break;default:ml(e,127)}var n};class Nl extends hl{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&_l(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const Pl=e=>{e.count>0&&(vl(e.encoder,1===e.count?e.s:-e.s),e.count>1&&_l(e.encoder,e.count-2))};class Ll{constructor(){this.encoder=new hl,this.s=0,this.count=0}write(e){this.s===e?this.count++:(Pl(this),this.count=1,this.s=e)}toUint8Array(){return Pl(this),gl(this.encoder)}}const Ol=e=>{if(e.count>0){const t=2*e.diff+(1===e.count?0:1);vl(e.encoder,t),e.count>1&&_l(e.encoder,e.count-2)}};class Ml{constructor(){this.encoder=new hl,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Ol(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Ol(this),gl(this.encoder)}}class Dl{constructor(){this.sarr=[],this.s="",this.lensE=new Ll}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new hl;return this.sarr.push(this.s),this.s="",wl(e,this.sarr.join("")),xl(e,this.lensE.toUint8Array()),gl(e)}}const zl=e=>new Error(e),Fl=()=>{throw zl("Method unimplemented")},Il=()=>{throw zl("Unexpected case")};zl("Unexpected end of array"),zl("Integer out of Range"),crypto.subtle;const Al=crypto.getRandomValues.bind(crypto),Rl=(Math.random,()=>Al(new Uint32Array(1))[0]),Wl=[1e7]+-1e3+-4e3+-8e3+-1e11,Bl=()=>Wl.replace(/[018]/g,(e=>(e^Rl()&15>>e/4).toString(16))),Ul=e=>new Promise(e),jl=(Promise.all.bind(Promise),(e,t,n=0)=>{try{for(;n<e.length;n++)e[n](...t)}finally{n<e.length&&jl(e,t,n+1)}});let $l=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},Vl=!0;try{"undefined"!=typeof localStorage&&localStorage&&($l=localStorage,Vl=!1)}catch(a){}const Kl=$l,Hl="undefined"!=typeof process&&process.release&&/node|io\.js/.test(process.release.name)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);let Ql;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const Yl=[],ql=e=>(()=>{if(void 0===Ql)if(Hl){Ql=$i();const e=process.argv;let t=null;for(let n=0;n<e.length;n++){const r=e[n];"-"===r[0]?(null!==t&&Ql.set(t,""),t=r):null!==t?(Ql.set(t,r),t=null):Yl.push(r)}null!==t&&Ql.set(t,"")}else"object"==typeof location?(Ql=$i(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,n]=e.split("=");Ql.set(`--${ul(t,"-")}`,n),Ql.set(`-${ul(t,"-")}`,n)}}))):Ql=$i();return Ql})().has(e),Jl=e=>(e=>void 0===e?null:e)(Hl?process.env[e.toUpperCase().replaceAll("-","_")]:Kl.getItem(e));ql("--"+"production")||Jl("production");const Xl=Hl&&(Gl=process.env.FORCE_COLOR,["true","1","2"].includes(Gl));var Gl;const Zl=!ql("--no-colors")&&(!Hl||process.stdout.isTTY||Xl)&&(!Hl||ql("--color")||Xl||null!==Jl("COLORTERM")||(Jl("TERM")||"").includes("color"));class eo{constructor(e,t){this.left=e,this.right=t}}const to=(e,t)=>new eo(e,t),no="undefined"!=typeof document?document:{},ro=("undefined"!=typeof DOMParser&&new DOMParser,e=>((e,t)=>{const n=[];for(const[r,i]of e)n.push(t(i,r));return n})(e,((e,t)=>`${t}:${e};`)).join("")),io=(no.ELEMENT_NODE,no.TEXT_NODE,no.CDATA_SECTION_NODE,no.COMMENT_NODE,no.DOCUMENT_NODE,no.DOCUMENT_TYPE_NODE,no.DOCUMENT_FRAGMENT_NODE,Symbol),lo=Date.now,oo=io(),so=io(),ao=io(),uo=io(),co=io(),fo=io(),ho=io(),po=io(),go=io();lo();const mo={[oo]:to("font-weight","bold"),[so]:to("font-weight","normal"),[ao]:to("color","blue"),[co]:to("color","green"),[uo]:to("color","grey"),[fo]:to("color","red"),[ho]:to("color","purple"),[po]:to("color","orange"),[go]:to("color","black")},yo=Zl?e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[],r=$i();let i=[],l=0;for(;l<e.length;l++){const i=e[l],o=mo[i];if(void 0!==o)r.set(o.left,o.right);else{if(void 0===i)break;if(i.constructor!==String&&i.constructor!==Number)break;{const e=ro(r);l>0||e.length>0?(t.push("%c"+i),n.push(e)):t.push(i)}}}for(l>0&&(i=n,i.unshift(t.join("")));l<e.length;l++){const t=e[l];t instanceof Symbol||i.push(t)}return i}:e=>{1===e.length&&e[0]?.constructor===Function&&(e=e[0]());const t=[],n=[];let r=0;for(;r<e.length;r++){const i=e[r];void 0===i?t.push("undefined"):i.constructor===String||i.constructor===Number?t.push(i):i.constructor===Object&&n.push(JSON.stringify(i))}return n},_o=Hi(),vo=e=>({[Symbol.iterator](){return this},next:e}),bo=(e,t)=>vo((()=>{const{done:n,value:r}=e.next();return{done:n,value:n?void 0:t(r)}})),ko=Object.assign,wo=Object.keys,xo=e=>wo(e).length;class So{constructor(e,t){this.clock=e,this.len=t}}class Co{constructor(){this.clients=new Map}}const Eo=(e,t,n)=>t.clients.forEach(((t,r)=>{const i=e.doc.store.clients.get(r);for(let r=0;r<t.length;r++){const l=t[r];ds(e,i,l.clock,l.len,n)}})),To=(e,t)=>{const n=e.clients.get(t.client);return void 0!==n&&null!==((e,t)=>{let n=0,r=e.length-1;for(;n<=r;){const i=Gi((n+r)/2),l=e[i],o=l.clock;if(o<=t){if(t<o+l.len)return i;n=i+1}else r=i-1}return null})(n,t.clock)},No=e=>{e.clients.forEach((e=>{let t,n;for(e.sort(((e,t)=>e.clock-t.clock)),t=1,n=1;t<e.length;t++){const r=e[n-1],i=e[t];r.clock+r.len>=i.clock?r.len=tl(r.len,i.clock+i.len-r.clock):(n<t&&(e[n]=i),n++)}e.length=n}))},Po=e=>{const t=new Co;for(let n=0;n<e.length;n++)e[n].clients.forEach(((r,i)=>{if(!t.clients.has(i)){const l=r.slice();for(let t=n+1;t<e.length;t++)Yi(l,e[t].clients.get(i)||[]);t.clients.set(i,l)}}));return No(t),t},Lo=(e,t,n,r)=>{Ki(e.clients,t,(()=>[])).push(new So(n,r))},Oo=Rl;class Mo extends Xi{constructor({guid:e=Bl(),collectionid:t=null,gc:n=!0,gcFilter:r=()=>!0,meta:i=null,autoLoad:l=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=Oo(),this.guid=e,this.collectionid=t,this.share=new Map,this.store=new ns,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=l,this.meta=i,this.isLoaded=!1,this.isSynced=!1,this.whenLoaded=Ul((e=>{this.on("load",(()=>{this.isLoaded=!0,e(this)}))}));const s=()=>Ul((e=>{const t=n=>{void 0!==n&&!0!==n||(this.off("sync",t),e())};this.on("sync",t)}));this.on("sync",(e=>{!1===e&&this.isSynced&&(this.whenSynced=s()),this.isSynced=void 0===e||!0===e,this.isSynced&&!this.isLoaded&&this.emit("load",[this])})),this.whenSynced=s()}load(){const e=this._item;null===e||this.shouldLoad||ys(e.parent.doc,(e=>{e.subdocsLoaded.add(this)}),null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(qi(this.subdocs).map((e=>e.guid)))}transact(e,t=null){return ys(this,e,t)}get(e,t=Os){const n=Ki(this.share,e,(()=>{const e=new t;return e._integrate(this,null),e})),r=n.constructor;if(t!==Os&&r!==t){if(r===Os){const r=new t;r._map=n._map,n._map.forEach((e=>{for(;null!==e;e=e.left)e.parent=r})),r._start=n._start;for(let e=r._start;null!==e;e=e.right)e.parent=r;return r._length=n._length,this.share.set(e,r),r._integrate(this,null),r}throw new Error(`Type with the name ${e} has already been defined with a different constructor`)}return n}getArray(e=""){return this.get(e,qs)}getText(e=""){return this.get(e,ha)}getMap(e=""){return this.get(e,Xs)}getXmlElement(e=""){return this.get(e,ma)}getXmlFragment(e=""){return this.get(e,ga)}toJSON(){const e={};return this.share.forEach(((t,n)=>{e[n]=t.toJSON()})),e}destroy(){qi(this.subdocs).forEach((e=>e.destroy()));const e=this._item;if(null!==e){this._item=null;const t=e.content;t.doc=new Mo({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=e,ys(e.parent.doc,(n=>{const r=t.doc;e.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)}),null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Do{constructor(){this.restEncoder=pl()}toUint8Array(){return gl(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){_l(this.restEncoder,e)}writeDsLen(e){_l(this.restEncoder,e)}}class zo extends Do{writeLeftID(e){_l(this.restEncoder,e.client),_l(this.restEncoder,e.clock)}writeRightID(e){_l(this.restEncoder,e.client),_l(this.restEncoder,e.clock)}writeClient(e){_l(this.restEncoder,e)}writeInfo(e){yl(this.restEncoder,e)}writeString(e){wl(this.restEncoder,e)}writeParentInfo(e){_l(this.restEncoder,e?1:0)}writeTypeRef(e){_l(this.restEncoder,e)}writeLen(e){_l(this.restEncoder,e)}writeAny(e){Tl(this.restEncoder,e)}writeBuf(e){Sl(this.restEncoder,e)}writeJSON(e){wl(this.restEncoder,JSON.stringify(e))}writeKey(e){wl(this.restEncoder,e)}}class Fo{constructor(){this.restEncoder=pl(),this.dsCurrVal=0}toUint8Array(){return gl(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const t=e-this.dsCurrVal;this.dsCurrVal=e,_l(this.restEncoder,t)}writeDsLen(e){0===e&&Il(),_l(this.restEncoder,e-1),this.dsCurrVal+=e}}class Io extends Fo{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Ml,this.clientEncoder=new Ll,this.leftClockEncoder=new Ml,this.rightClockEncoder=new Ml,this.infoEncoder=new Nl(yl),this.stringEncoder=new Dl,this.parentInfoEncoder=new Nl(yl),this.typeRefEncoder=new Ll,this.lenEncoder=new Ll}toUint8Array(){const e=pl();return _l(e,0),Sl(e,this.keyClockEncoder.toUint8Array()),Sl(e,this.clientEncoder.toUint8Array()),Sl(e,this.leftClockEncoder.toUint8Array()),Sl(e,this.rightClockEncoder.toUint8Array()),Sl(e,gl(this.infoEncoder)),Sl(e,this.stringEncoder.toUint8Array()),Sl(e,gl(this.parentInfoEncoder)),Sl(e,this.typeRefEncoder.toUint8Array()),Sl(e,this.lenEncoder.toUint8Array()),xl(e,gl(this.restEncoder)),gl(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Tl(this.restEncoder,e)}writeBuf(e){Sl(this.restEncoder,e)}writeJSON(e){Tl(this.restEncoder,e)}writeKey(e){const t=this.keyMap.get(e);void 0===t?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(t)}}class Ao{constructor(){this.l=[]}}const Ro=()=>new Ao,Wo=(e,t)=>e.l.push(t),Bo=(e,t)=>{const n=e.l,r=n.length;e.l=n.filter((e=>t!==e)),r===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Uo=(e,t,n)=>jl(e.l,[t,n]);class jo{constructor(e,t){this.client=e,this.clock=t}}const $o=(e,t)=>e===t||null!==e&&null!==t&&e.client===t.client&&e.clock===t.clock,Vo=(e,t)=>new jo(e,t),Ko=e=>{for(const[t,n]of e.doc.share.entries())if(n===e)return t;throw Il()},Ho=(e,t)=>{for(;null!==t;){if(t.parent===e)return!0;t=t.parent._item}return!1};class Qo{constructor(e,t,n,r=0){this.type=e,this.tname=t,this.item=n,this.assoc=r}}class Yo{constructor(e,t,n=0){this.type=e,this.index=t,this.assoc=n}}const qo=(e,t,n)=>{let r=null,i=null;return null===e._item?i=Ko(e):r=Vo(e._item.id.client,e._item.id.clock),new Qo(r,i,t,n)},Jo=(e,t,n=0)=>{let r=e._start;if(n<0){if(0===t)return qo(e,null,n);t--}for(;null!==r;){if(!r.deleted&&r.countable){if(r.length>t)return qo(e,Vo(r.id.client,r.id.clock+t),n);t-=r.length}if(null===r.right&&n<0)return qo(e,r.lastId,n);r=r.right}return qo(e,null,n)},Xo=(e,t,n=!0)=>{const r=t.store,i=e.item,l=e.type,o=e.tname,s=e.assoc;let a=null,u=0;if(null!==i){if(is(r,i.client)<=i.clock)return null;const e=n?Fa(r,i):{item:ss(r,i),diff:0},t=e.item;if(!(t instanceof Ba))return null;if(a=t.parent,null===a._item||!a._item.deleted){u=t.deleted||!t.countable?0:e.diff+(s>=0?0:1);let n=t.left;for(;null!==n;)!n.deleted&&n.countable&&(u+=n.length),n=n.left}}else{if(null!==o)a=t.get(o);else{if(null===l)throw Il();{if(is(r,l.client)<=l.clock)return null;const{item:e}=n?Fa(r,l):{item:ss(r,l)};if(!(e instanceof Ba&&e.content instanceof za))return null;a=e.content.type}}u=s>=0?a._length:0}return((e,t,n=0)=>new Yo(e,t,n))(a,u,e.assoc)},Go=(e,t)=>e===t||null!==e&&null!==t&&e.tname===t.tname&&$o(e.item,t.item)&&$o(e.type,t.type)&&e.assoc===t.assoc;class Zo{constructor(e,t){this.ds=e,this.sv=t}}const es=(((e,t)=>{new Zo(e,t)})(new Co,new Map),(e,t)=>void 0===t?!e.deleted:t.sv.has(e.id.client)&&(t.sv.get(e.id.client)||0)>e.id.clock&&!To(t.ds,e.id)),ts=(e,t)=>{const n=Ki(e.meta,ts,Hi),r=e.doc.store;n.has(t)||(t.sv.forEach(((t,n)=>{t<is(r,n)&&us(e,Vo(n,t))})),Eo(e,t.ds,(e=>{})),n.add(t))};class ns{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const rs=e=>{const t=new Map;return e.clients.forEach(((e,n)=>{const r=e[e.length-1];t.set(n,r.id.clock+r.length)})),t},is=(e,t)=>{const n=e.clients.get(t);if(void 0===n)return 0;const r=n[n.length-1];return r.id.clock+r.length},ls=(e,t)=>{let n=e.clients.get(t.id.client);if(void 0===n)n=[],e.clients.set(t.id.client,n);else{const e=n[n.length-1];if(e.id.clock+e.length!==t.id.clock)throw Il()}n.push(t)},os=(e,t)=>{let n=0,r=e.length-1,i=e[r],l=i.id.clock;if(l===t)return r;let o=Gi(t/(l+i.length-1)*r);for(;n<=r;){if(i=e[o],l=i.id.clock,l<=t){if(t<l+i.length)return o;n=o+1}else r=o-1;o=Gi((n+r)/2)}throw Il()},ss=(e,t)=>{const n=e.clients.get(t.client);return n[os(n,t.clock)]},as=(e,t,n)=>{const r=os(t,n),i=t[r];return i.id.clock<n&&i instanceof Ba?(t.splice(r+1,0,Aa(e,i,n-i.id.clock)),r+1):r},us=(e,t)=>{const n=e.doc.store.clients.get(t.client);return n[as(e,n,t.clock)]},cs=(e,t,n)=>{const r=t.clients.get(n.client),i=os(r,n.clock),l=r[i];return n.clock!==l.id.clock+l.length-1&&l.constructor!==ba&&r.splice(i+1,0,Aa(e,l,n.clock-l.id.clock+1)),l},ds=(e,t,n,r,i)=>{if(0===r)return;const l=n+r;let o,s=as(e,t,n);do{o=t[s++],l<o.id.clock+o.length&&as(e,t,l),i(o)}while(s<t.length&&t[s].id.clock<l)};class fs{constructor(e,t,n){this.doc=e,this.deleteSet=new Co,this.beforeState=rs(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const hs=(e,t)=>!(0===t.deleteSet.clients.size&&!((e,n)=>{for(const[n,l]of e)if(r=l,i=n,t.beforeState.get(i)!==r)return!0;var r,i;return!1})(t.afterState)||(No(t.deleteSet),((e,t)=>{((e,t,n)=>{const r=new Map;n.forEach(((e,n)=>{is(t,n)>e&&r.set(n,e)})),rs(t).forEach(((e,t)=>{n.has(t)||r.set(t,0)})),_l(e.restEncoder,r.size),qi(r.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([n,r])=>{((e,t,n,r)=>{r=tl(r,t[0].id.clock);const i=os(t,r);_l(e.restEncoder,t.length-i),e.writeClient(n),_l(e.restEncoder,r);const l=t[i];l.write(e,r-l.id.clock);for(let n=i+1;n<t.length;n++)t[n].write(e,0)})(e,t.clients.get(n),n,r)}))})(e,t.doc.store,t.beforeState)})(e,t),((e,t)=>{_l(e.restEncoder,t.clients.size),qi(t.clients.entries()).sort(((e,t)=>t[0]-e[0])).forEach((([t,n])=>{e.resetDsCurVal(),_l(e.restEncoder,t);const r=n.length;_l(e.restEncoder,r);for(let t=0;t<r;t++){const r=n[t];e.writeDsClock(r.clock),e.writeDsLen(r.len)}}))})(e,t.deleteSet),0)),ps=(e,t,n)=>{const r=t._item;(null===r||r.id.clock<(e.beforeState.get(r.id.client)||0)&&!r.deleted)&&Ki(e.changed,t,Hi).add(n)},gs=(e,t)=>{let n=e[t],r=e[t-1],i=t;for(;i>0&&r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n);n=r,r=e[--i-1])n instanceof Ba&&null!==n.parentSub&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);const l=t-i;return l&&e.splice(t+1-l,l),l},ms=(e,t)=>{if(t<e.length){const n=e[t],r=n.doc,i=r.store,l=n.deleteSet,o=n._mergeStructs;try{No(l),n.afterState=rs(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const e=[];n.changed.forEach(((t,r)=>e.push((()=>{null!==r._item&&r._item.deleted||r._callObserver(n,t)})))),e.push((()=>{n.changedParentTypes.forEach(((e,t)=>{t._dEH.l.length>0&&(null===t._item||!t._item.deleted)&&((e=e.filter((e=>null===e.target._item||!e.target._item.deleted))).forEach((e=>{e.currentTarget=t,e._path=null})),e.sort(((e,t)=>e.path.length-t.path.length)),Uo(t._dEH,e,n))}))})),e.push((()=>r.emit("afterTransaction",[n,r]))),jl(e,[]),n._needFormattingCleanup&&ca(n)}finally{r.gc&&((e,t,n)=>{for(const[r,i]of e.clients.entries()){const e=t.clients.get(r);for(let r=i.length-1;r>=0;r--){const l=i[r],o=l.clock+l.len;for(let r=os(e,l.clock),i=e[r];r<e.length&&i.id.clock<o;i=e[++r]){const i=e[r];if(l.clock+l.len<=i.id.clock)break;i instanceof Ba&&i.deleted&&!i.keep&&n(i)&&i.gc(t,!1)}}}})(l,i,r.gcFilter),((e,t)=>{e.clients.forEach(((e,n)=>{const r=t.clients.get(n);for(let t=e.length-1;t>=0;t--){const n=e[t];for(let e=el(r.length-1,1+os(r,n.clock+n.len-1)),t=r[e];e>0&&t.id.clock>=n.clock;t=r[e])e-=1+gs(r,e)}}))})(l,i),n.afterState.forEach(((e,t)=>{const r=n.beforeState.get(t)||0;if(r!==e){const e=i.clients.get(t),n=tl(os(e,r),1);for(let t=e.length-1;t>=n;)t-=1+gs(e,t)}}));for(let e=o.length-1;e>=0;e--){const{client:t,clock:n}=o[e].id,r=i.clients.get(t),l=os(r,n);l+1<r.length&&gs(r,l+1)>1||l>0&&gs(r,l)}if(n.local||n.afterState.get(r.clientID)===n.beforeState.get(r.clientID)||(((...e)=>{console.log(...yo(e)),_o.forEach((t=>t.print(e)))})(po,oo,"[yjs] ",so,fo,"Changed the client-id because another client seems to be using it."),r.clientID=Oo()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const e=new zo;hs(e,n)&&r.emit("update",[e.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const e=new Io;hs(e,n)&&r.emit("updateV2",[e.toUint8Array(),n.origin,r,n])}const{subdocsAdded:s,subdocsLoaded:a,subdocsRemoved:u}=n;(s.size>0||u.size>0||a.size>0)&&(s.forEach((e=>{e.clientID=r.clientID,null==e.collectionid&&(e.collectionid=r.collectionid),r.subdocs.add(e)})),u.forEach((e=>r.subdocs.delete(e))),r.emit("subdocs",[{loaded:a,added:s,removed:u},r,n]),u.forEach((e=>e.destroy()))),e.length<=t+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,e])):ms(e,t+1)}}},ys=(e,t,n=null,r=!0)=>{const i=e._transactionCleanups;let l=!1,o=null;null===e._transaction&&(l=!0,e._transaction=new fs(e,n,r),i.push(e._transaction),1===i.length&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{o=t(e._transaction)}finally{if(l){const t=e._transaction===i[0];e._transaction=null,t&&ms(i,0)}}return o};class _s{constructor(e,t){this.insertions=t,this.deletions=e,this.meta=new Map}}const vs=(e,t,n)=>{Eo(e,n.deletions,(e=>{e instanceof Ba&&t.scope.some((t=>Ho(t,e)))&&Ia(e,!1)}))},bs=(e,t,n)=>{let r=null;const i=e.doc,l=e.scope;ys(i,(n=>{for(;t.length>0&&null===e.currStackItem;){const r=i.store,o=t.pop(),s=new Set,a=[];let u=!1;Eo(n,o.insertions,(e=>{if(e instanceof Ba){if(null!==e.redone){let{item:t,diff:i}=Fa(r,e.id);i>0&&(t=us(n,Vo(t.id.client,t.id.clock+i))),e=t}!e.deleted&&l.some((t=>Ho(t,e)))&&a.push(e)}})),Eo(n,o.deletions,(e=>{e instanceof Ba&&l.some((t=>Ho(t,e)))&&!To(o.insertions,e.id)&&s.add(e)})),s.forEach((t=>{u=null!==Wa(n,t,s,o.insertions,e.ignoreRemoteMapChanges,e)||u}));for(let t=a.length-1;t>=0;t--){const r=a[t];e.deleteFilter(r)&&(r.delete(n),u=!0)}e.currStackItem=u?o:null}n.changed.forEach(((e,t)=>{e.has(null)&&t._searchMarker&&(t._searchMarker.length=0)})),r=n}),e);const o=e.currStackItem;if(null!=o){const t=r.changedParentTypes;e.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:t,origin:e},e]),e.currStackItem=null}return o};class ks extends Xi{constructor(e,{captureTimeout:t=500,captureTransaction:n=e=>!0,deleteFilter:r=()=>!0,trackedOrigins:i=new Set([null]),ignoreRemoteMapChanges:l=!1,doc:o=(Ji(e)?e[0].doc:e.doc)}={}){super(),this.scope=[],this.doc=o,this.addToScope(e),this.deleteFilter=r,i.add(this),this.trackedOrigins=i,this.captureTransaction=n,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=l,this.captureTimeout=t,this.afterTransactionHandler=e=>{if(!(this.captureTransaction(e)&&this.scope.some((t=>e.changedParentTypes.has(t)))&&(this.trackedOrigins.has(e.origin)||e.origin&&this.trackedOrigins.has(e.origin.constructor))))return;const t=this.undoing,n=this.redoing,r=t?this.redoStack:this.undoStack;t?this.stopCapturing():n||this.clear(!1,!0);const i=new Co;e.afterState.forEach(((t,n)=>{const r=e.beforeState.get(n)||0,l=t-r;l>0&&Lo(i,n,r,l)}));const l=lo();let o=!1;if(this.lastChange>0&&l-this.lastChange<this.captureTimeout&&r.length>0&&!t&&!n){const t=r[r.length-1];t.deletions=Po([t.deletions,e.deleteSet]),t.insertions=Po([t.insertions,i])}else r.push(new _s(e.deleteSet,i)),o=!0;t||n||(this.lastChange=l),Eo(e,e.deleteSet,(e=>{e instanceof Ba&&this.scope.some((t=>Ho(t,e)))&&Ia(e,!0)}));const s=[{stackItem:r[r.length-1],origin:e.origin,type:t?"redo":"undo",changedParentTypes:e.changedParentTypes},this];o?this.emit("stack-item-added",s):this.emit("stack-item-updated",s)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",(()=>{this.destroy()}))}addToScope(e){(e=Ji(e)?e:[e]).forEach((e=>{this.scope.every((t=>t!==e))&&(e.doc!==this.doc&&((...e)=>{console.warn(...yo(e)),e.unshift(po),_o.forEach((t=>t.print(e)))})("[yjs#509] Not same Y.Doc"),this.scope.push(e))}))}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,t=!0){(e&&this.canUndo()||t&&this.canRedo())&&this.doc.transact((n=>{e&&(this.undoStack.forEach((e=>vs(n,this,e))),this.undoStack=[]),t&&(this.redoStack.forEach((e=>vs(n,this,e))),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:t}])}))}stopCapturing(){this.lastChange=0}undo(){let e;this.undoing=!0;try{e=bs(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){let e;this.redoing=!0;try{e=bs(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}const ws="You must not compute changes after the event-handler fired.";class xs{constructor(e,t){this.target=e,this.currentTarget=e,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=Ss(this.currentTarget,this.target))}deletes(e){return To(this.transaction.deleteSet,e.id)}get keys(){if(null===this._keys){if(0===this.transaction.doc._transactionCleanups.length)throw zl(ws);const e=new Map,t=this.target;this.transaction.changed.get(t).forEach((n=>{if(null!==n){const r=t._map.get(n);let i,l;if(this.adds(r)){let e=r.left;for(;null!==e&&this.adds(e);)e=e.left;if(this.deletes(r)){if(null===e||!this.deletes(e))return;i="delete",l=Qi(e.content.getContent())}else null!==e&&this.deletes(e)?(i="update",l=Qi(e.content.getContent())):(i="add",l=void 0)}else{if(!this.deletes(r))return;i="delete",l=Qi(r.content.getContent())}e.set(n,{action:i,oldValue:l})}})),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(null===e){if(0===this.transaction.doc._transactionCleanups.length)throw zl(ws);const t=this.target,n=Hi(),r=Hi(),i=[];if(e={added:n,deleted:r,delta:i,keys:this.keys},this.transaction.changed.get(t).has(null)){let e=null;const l=()=>{e&&i.push(e)};for(let i=t._start;null!==i;i=i.right)i.deleted?this.deletes(i)&&!this.adds(i)&&(null!==e&&void 0!==e.delete||(l(),e={delete:0}),e.delete+=i.length,r.add(i)):this.adds(i)?(null!==e&&void 0!==e.insert||(l(),e={insert:[]}),e.insert=e.insert.concat(i.content.getContent()),n.add(i)):(null!==e&&void 0!==e.retain||(l(),e={retain:0}),e.retain+=i.length);null!==e&&void 0===e.retain&&l()}this._changes=e}return e}}const Ss=(e,t)=>{const n=[];for(;null!==t._item&&t!==e;){if(null!==t._item.parentSub)n.unshift(t._item.parentSub);else{let e=0,r=t._item.parent._start;for(;r!==t._item&&null!==r;)!r.deleted&&r.countable&&(e+=r.length),r=r.right;n.unshift(e)}t=t._item.parent}return n};let Cs=0;class Es{constructor(e,t){e.marker=!0,this.p=e,this.index=t,this.timestamp=Cs++}}const Ts=(e,t,n)=>{e.p.marker=!1,e.p=t,t.marker=!0,e.index=n,e.timestamp=Cs++},Ns=(e,t)=>{if(null===e._start||0===t||null===e._searchMarker)return null;const n=0===e._searchMarker.length?null:e._searchMarker.reduce(((e,n)=>Zi(t-e.index)<Zi(t-n.index)?e:n));let r=e._start,i=0;for(null!==n&&(r=n.p,i=n.index,(e=>{e.timestamp=Cs++})(n));null!==r.right&&i<t;){if(!r.deleted&&r.countable){if(t<i+r.length)break;i+=r.length}r=r.right}for(;null!==r.left&&i>t;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;null!==r.left&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return null!==n&&Zi(n.index-i)<r.parent.length/80?(Ts(n,r,i),n):((e,t,n)=>{if(e.length>=80){const r=e.reduce(((e,t)=>e.timestamp<t.timestamp?e:t));return Ts(r,t,n),r}{const r=new Es(t,n);return e.push(r),r}})(e._searchMarker,r,i)},Ps=(e,t,n)=>{for(let r=e.length-1;r>=0;r--){const i=e[r];if(n>0){let t=i.p;for(t.marker=!1;t&&(t.deleted||!t.countable);)t=t.left,t&&!t.deleted&&t.countable&&(i.index-=t.length);if(null===t||!0===t.marker){e.splice(r,1);continue}i.p=t,t.marker=!0}(t<i.index||n>0&&t===i.index)&&(i.index=tl(t,i.index+n))}},Ls=(e,t,n)=>{const r=e,i=t.changedParentTypes;for(;Ki(i,e,(()=>[])).push(n),null!==e._item;)e=e._item.parent;Uo(r._eH,n,t)};class Os{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=Ro(),this._dEH=Ro(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,t){this.doc=e,this._item=t}_copy(){throw Fl()}clone(){throw Fl()}_write(e){}get _first(){let e=this._start;for(;null!==e&&e.deleted;)e=e.right;return e}_callObserver(e,t){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){Wo(this._eH,e)}observeDeep(e){Wo(this._dEH,e)}unobserve(e){Bo(this._eH,e)}unobserveDeep(e){Bo(this._dEH,e)}toJSON(){}}const Ms=(e,t,n)=>{t<0&&(t=e._length+t),n<0&&(n=e._length+n);let r=n-t;const i=[];let l=e._start;for(;null!==l&&r>0;){if(l.countable&&!l.deleted){const e=l.content.getContent();if(e.length<=t)t-=e.length;else{for(let n=t;n<e.length&&r>0;n++)i.push(e[n]),r--;t=0}}l=l.right}return i},Ds=e=>{const t=[];let n=e._start;for(;null!==n;){if(n.countable&&!n.deleted){const e=n.content.getContent();for(let n=0;n<e.length;n++)t.push(e[n])}n=n.right}return t},zs=(e,t)=>{let n=0,r=e._start;for(;null!==r;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let r=0;r<i.length;r++)t(i[r],n++,e)}r=r.right}},Fs=(e,t)=>{const n=[];return zs(e,((r,i)=>{n.push(t(r,i,e))})),n},Is=e=>{let t=e._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(null===n){for(;null!==t&&t.deleted;)t=t.right;if(null===t)return{done:!0,value:void 0};n=t.content.getContent(),r=0,t=t.right}const e=n[r++];return n.length<=r&&(n=null),{done:!1,value:e}}}},As=(e,t)=>{const n=Ns(e,t);let r=e._start;for(null!==n&&(r=n.p,t-=n.index);null!==r;r=r.right)if(!r.deleted&&r.countable){if(t<r.length)return r.content.getContent()[t];t-=r.length}},Rs=(e,t,n,r)=>{let i=n;const l=e.doc,o=l.clientID,s=l.store,a=null===n?t._start:n.right;let u=[];const c=()=>{u.length>0&&(i=new Ba(Vo(o,is(s,o)),i,i&&i.lastId,a,a&&a.id,t,null,new Ea(u)),i.integrate(e,0),u=[])};r.forEach((n=>{if(null===n)u.push(n);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:u.push(n);break;default:switch(c(),n.constructor){case Uint8Array:case ArrayBuffer:i=new Ba(Vo(o,is(s,o)),i,i&&i.lastId,a,a&&a.id,t,null,new ka(new Uint8Array(n))),i.integrate(e,0);break;case Mo:i=new Ba(Vo(o,is(s,o)),i,i&&i.lastId,a,a&&a.id,t,null,new xa(n)),i.integrate(e,0);break;default:if(!(n instanceof Os))throw new Error("Unexpected content type in insert operation");i=new Ba(Vo(o,is(s,o)),i,i&&i.lastId,a,a&&a.id,t,null,new za(n)),i.integrate(e,0)}}})),c()},Ws=()=>zl("Length exceeded!"),Bs=(e,t,n,r)=>{if(n>t._length)throw Ws();if(0===n)return t._searchMarker&&Ps(t._searchMarker,n,r.length),Rs(e,t,null,r);const i=n,l=Ns(t,n);let o=t._start;for(null!==l&&(o=l.p,0==(n-=l.index)&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));null!==o;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&us(e,Vo(o.id.client,o.id.clock+n));break}n-=o.length}return t._searchMarker&&Ps(t._searchMarker,i,r.length),Rs(e,t,o,r)},Us=(e,t,n,r)=>{if(0===r)return;const i=n,l=r,o=Ns(t,n);let s=t._start;for(null!==o&&(s=o.p,n-=o.index);null!==s&&n>0;s=s.right)!s.deleted&&s.countable&&(n<s.length&&us(e,Vo(s.id.client,s.id.clock+n)),n-=s.length);for(;r>0&&null!==s;)s.deleted||(r<s.length&&us(e,Vo(s.id.client,s.id.clock+r)),s.delete(e),r-=s.length),s=s.right;if(r>0)throw Ws();t._searchMarker&&Ps(t._searchMarker,i,-l+r)},js=(e,t,n)=>{const r=t._map.get(n);void 0!==r&&r.delete(e)},$s=(e,t,n,r)=>{const i=t._map.get(n)||null,l=e.doc,o=l.clientID;let s;if(null==r)s=new Ea([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:s=new Ea([r]);break;case Uint8Array:s=new ka(r);break;case Mo:s=new xa(r);break;default:if(!(r instanceof Os))throw new Error("Unexpected content type");s=new za(r)}new Ba(Vo(o,is(l.store,o)),i,i&&i.lastId,null,null,t,n,s).integrate(e,0)},Vs=(e,t)=>{const n=e._map.get(t);return void 0===n||n.deleted?void 0:n.content.getContent()[n.length-1]},Ks=e=>{const t={};return e._map.forEach(((e,n)=>{e.deleted||(t[n]=e.content.getContent()[e.length-1])})),t},Hs=(e,t)=>{const n=e._map.get(t);return void 0!==n&&!n.deleted},Qs=e=>{return t=e.entries(),n=e=>!e[1].deleted,vo((()=>{let e;do{e=t.next()}while(!e.done&&!n(e.value));return e}));var t,n};class Ys extends xs{}class qs extends Os{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const t=new qs;return t.push(e),t}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new qs}clone(){const e=new qs;return e.insert(0,this.toArray().map((e=>e instanceof Os?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}_callObserver(e,t){super._callObserver(e,t),Ls(this,e,new Ys(this,e))}insert(e,t){null!==this.doc?ys(this.doc,(n=>{Bs(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}push(e){null!==this.doc?ys(this.doc,(t=>{((e,t,n)=>{let r=(t._searchMarker||[]).reduce(((e,t)=>t.index>e.index?t:e),{index:0,p:t._start}).p;if(r)for(;r.right;)r=r.right;Rs(e,t,r,n)})(t,this,e)})):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,t=1){null!==this.doc?ys(this.doc,(n=>{Us(n,this,e,t)})):this._prelimContent.splice(e,t)}get(e){return As(this,e)}toArray(){return Ds(this)}slice(e=0,t=this.length){return Ms(this,e,t)}toJSON(){return this.map((e=>e instanceof Os?e.toJSON():e))}map(e){return Fs(this,e)}forEach(e){zs(this,e)}[Symbol.iterator](){return Is(this)}_write(e){e.writeTypeRef(Na)}}class Js extends xs{constructor(e,t,n){super(e,t),this.keysChanged=n}}class Xs extends Os{constructor(e){super(),this._prelimContent=null,this._prelimContent=void 0===e?new Map:new Map(e)}_integrate(e,t){super._integrate(e,t),this._prelimContent.forEach(((e,t)=>{this.set(t,e)})),this._prelimContent=null}_copy(){return new Xs}clone(){const e=new Xs;return this.forEach(((t,n)=>{e.set(n,t instanceof Os?t.clone():t)})),e}_callObserver(e,t){Ls(this,e,new Js(this,e,t))}toJSON(){const e={};return this._map.forEach(((t,n)=>{if(!t.deleted){const r=t.content.getContent()[t.length-1];e[n]=r instanceof Os?r.toJSON():r}})),e}get size(){return[...Qs(this._map)].length}keys(){return bo(Qs(this._map),(e=>e[0]))}values(){return bo(Qs(this._map),(e=>e[1].content.getContent()[e[1].length-1]))}entries(){return bo(Qs(this._map),(e=>[e[0],e[1].content.getContent()[e[1].length-1]]))}forEach(e){this._map.forEach(((t,n)=>{t.deleted||e(t.content.getContent()[t.length-1],n,this)}))}[Symbol.iterator](){return this.entries()}delete(e){null!==this.doc?ys(this.doc,(t=>{js(t,this,e)})):this._prelimContent.delete(e)}set(e,t){return null!==this.doc?ys(this.doc,(n=>{$s(n,this,e,t)})):this._prelimContent.set(e,t),t}get(e){return Vs(this,e)}has(e){return Hs(this,e)}clear(){null!==this.doc?ys(this.doc,(e=>{this.forEach((function(t,n,r){js(e,r,n)}))})):this._prelimContent.clear()}_write(e){e.writeTypeRef(Pa)}}const Gs=(e,t)=>e===t||"object"==typeof e&&"object"==typeof t&&e&&t&&((e,t)=>e===t||xo(e)===xo(t)&&((e,t)=>{for(const n in e)if(!t(e[n],n))return!1;return!0})(e,((e,n)=>(void 0!==e||((e,t)=>Object.prototype.hasOwnProperty.call(e,t))(t,n))&&t[n]===e)))(e,t);class Zs{constructor(e,t,n,r){this.left=e,this.right=t,this.index=n,this.currentAttributes=r}forward(){null===this.right&&Il(),this.right.content.constructor===Ca?this.right.deleted||ra(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const ea=(e,t,n)=>{for(;null!==t.right&&n>0;)t.right.content.constructor===Ca?t.right.deleted||ra(t.currentAttributes,t.right.content):t.right.deleted||(n<t.right.length&&us(e,Vo(t.right.id.client,t.right.id.clock+n)),t.index+=t.right.length,n-=t.right.length),t.left=t.right,t.right=t.right.right;return t},ta=(e,t,n,r)=>{const i=new Map,l=r?Ns(t,n):null;if(l){const t=new Zs(l.p.left,l.p,l.index,i);return ea(e,t,n-l.index)}{const r=new Zs(null,t._start,0,i);return ea(e,r,n)}},na=(e,t,n,r)=>{for(;null!==n.right&&(!0===n.right.deleted||n.right.content.constructor===Ca&&Gs(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=e.doc,l=i.clientID;r.forEach(((r,o)=>{const s=n.left,a=n.right,u=new Ba(Vo(l,is(i.store,l)),s,s&&s.lastId,a,a&&a.id,t,null,new Ca(o,r));u.integrate(e,0),n.right=u,n.forward()}))},ra=(e,t)=>{const{key:n,value:r}=t;null===r?e.delete(n):e.set(n,r)},ia=(e,t)=>{for(;null!==e.right&&(e.right.deleted||e.right.content.constructor===Ca&&Gs(t[e.right.content.key]??null,e.right.content.value));)e.forward()},la=(e,t,n,r)=>{const i=e.doc,l=i.clientID,o=new Map;for(const s in r){const a=r[s],u=n.currentAttributes.get(s)??null;if(!Gs(u,a)){o.set(s,u);const{left:r,right:c}=n;n.right=new Ba(Vo(l,is(i.store,l)),r,r&&r.lastId,c,c&&c.id,t,null,new Ca(s,a)),n.right.integrate(e,0),n.forward()}}return o},oa=(e,t,n,r,i)=>{n.currentAttributes.forEach(((e,t)=>{void 0===i[t]&&(i[t]=null)}));const l=e.doc,o=l.clientID;ia(n,i);const s=la(e,t,n,i),a=r.constructor===String?new Ta(r):r instanceof Os?new za(r):new Sa(r);let{left:u,right:c,index:d}=n;t._searchMarker&&Ps(t._searchMarker,n.index,a.getLength()),c=new Ba(Vo(o,is(l.store,o)),u,u&&u.lastId,c,c&&c.id,t,null,a),c.integrate(e,0),n.right=c,n.index=d,n.forward(),na(e,t,n,s)},sa=(e,t,n,r,i)=>{const l=e.doc,o=l.clientID;ia(n,i);const s=la(e,t,n,i);e:for(;null!==n.right&&(r>0||s.size>0&&(n.right.deleted||n.right.content.constructor===Ca));){if(!n.right.deleted)switch(n.right.content.constructor){case Ca:{const{key:t,value:l}=n.right.content,o=i[t];if(void 0!==o){if(Gs(o,l))s.delete(t);else{if(0===r)break e;s.set(t,l)}n.right.delete(e)}else n.currentAttributes.set(t,l);break}default:r<n.right.length&&us(e,Vo(n.right.id.client,n.right.id.clock+r)),r-=n.right.length}n.forward()}if(r>0){let i="";for(;r>0;r--)i+="\n";n.right=new Ba(Vo(o,is(l.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,t,null,new Ta(i)),n.right.integrate(e,0),n.forward()}na(e,t,n,s)},aa=(e,t,n,r,i)=>{let l=t;const o=$i();for(;l&&(!l.countable||l.deleted);){if(!l.deleted&&l.content.constructor===Ca){const e=l.content;o.set(e.key,e)}l=l.right}let s=0,a=!1;for(;t!==l;){if(n===t&&(a=!0),!t.deleted){const n=t.content;switch(n.constructor){case Ca:{const{key:l,value:u}=n,c=r.get(l)??null;o.get(l)===n&&c!==u||(t.delete(e),s++,a||(i.get(l)??null)!==u||c===u||(null===c?i.delete(l):i.set(l,c))),a||t.deleted||ra(i,n);break}}}t=t.right}return s},ua=e=>{let t=0;return ys(e.doc,(n=>{let r=e._start,i=e._start,l=$i();const o=Vi(l);for(;i;)!1===i.deleted&&(i.content.constructor===Ca?ra(o,i.content):(t+=aa(n,r,i,l,o),l=Vi(o),r=i)),i=i.right})),t},ca=e=>{const t=new Set,n=e.doc;for(const[r,i]of e.afterState.entries()){const l=e.beforeState.get(r)||0;i!==l&&ds(e,n.store.clients.get(r),l,i,(e=>{e.deleted||e.content.constructor!==Ca||e.constructor===ba||t.add(e.parent)}))}ys(n,(n=>{Eo(e,e.deleteSet,(e=>{if(e instanceof ba||!e.parent._hasFormatting||t.has(e.parent))return;const r=e.parent;e.content.constructor===Ca?t.add(r):((e,t)=>{for(;t&&t.right&&(t.right.deleted||!t.right.countable);)t=t.right;const n=new Set;for(;t&&(t.deleted||!t.countable);){if(!t.deleted&&t.content.constructor===Ca){const r=t.content.key;n.has(r)?t.delete(e):n.add(r)}t=t.left}})(n,e)}));for(const e of t)ua(e)}))},da=(e,t,n)=>{const r=n,i=Vi(t.currentAttributes),l=t.right;for(;n>0&&null!==t.right;){if(!1===t.right.deleted)switch(t.right.content.constructor){case za:case Sa:case Ta:n<t.right.length&&us(e,Vo(t.right.id.client,t.right.id.clock+n)),n-=t.right.length,t.right.delete(e)}t.forward()}l&&aa(e,l,t.right,i,t.currentAttributes);const o=(t.left||t.right).parent;return o._searchMarker&&Ps(o._searchMarker,t.index,-r+n),t};class fa extends xs{constructor(e,t,n){super(e,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach((e=>{null===e?this.childListChanged=!0:this.keysChanged.add(e)}))}get changes(){if(null===this._changes){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(null===this._delta){const e=this.target.doc,t=[];ys(e,(e=>{const n=new Map,r=new Map;let i=this.target._start,l=null;const o={};let s="",a=0,u=0;const c=()=>{if(null!==l){let e=null;switch(l){case"delete":u>0&&(e={delete:u}),u=0;break;case"insert":("object"==typeof s||s.length>0)&&(e={insert:s},n.size>0&&(e.attributes={},n.forEach(((t,n)=>{null!==t&&(e.attributes[n]=t)})))),s="";break;case"retain":a>0&&(e={retain:a},(e=>{for(const t in e)return!1;return!0})(o)||(e.attributes=ko({},o))),a=0}e&&t.push(e),l=null}};for(;null!==i;){switch(i.content.constructor){case za:case Sa:this.adds(i)?this.deletes(i)||(c(),l="insert",s=i.content.getContent()[0],c()):this.deletes(i)?("delete"!==l&&(c(),l="delete"),u+=1):i.deleted||("retain"!==l&&(c(),l="retain"),a+=1);break;case Ta:this.adds(i)?this.deletes(i)||("insert"!==l&&(c(),l="insert"),s+=i.content.str):this.deletes(i)?("delete"!==l&&(c(),l="delete"),u+=i.length):i.deleted||("retain"!==l&&(c(),l="retain"),a+=i.length);break;case Ca:{const{key:t,value:s}=i.content;if(this.adds(i)){if(!this.deletes(i)){const a=n.get(t)??null;Gs(a,s)?null!==s&&i.delete(e):("retain"===l&&c(),Gs(s,r.get(t)??null)?delete o[t]:o[t]=s)}}else if(this.deletes(i)){r.set(t,s);const e=n.get(t)??null;Gs(e,s)||("retain"===l&&c(),o[t]=e)}else if(!i.deleted){r.set(t,s);const n=o[t];void 0!==n&&(Gs(n,s)?null!==n&&i.delete(e):("retain"===l&&c(),null===s?delete o[t]:o[t]=s))}i.deleted||("insert"===l&&c(),ra(n,i.content));break}}i=i.right}for(c();t.length>0;){const e=t[t.length-1];if(void 0===e.retain||void 0!==e.attributes)break;t.pop()}})),this._delta=t}return this._delta}}class ha extends Os{constructor(e){super(),this._pending=void 0!==e?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this._length}_integrate(e,t){super._integrate(e,t);try{this._pending.forEach((e=>e()))}catch(e){console.error(e)}this._pending=null}_copy(){return new ha}clone(){const e=new ha;return e.applyDelta(this.toDelta()),e}_callObserver(e,t){super._callObserver(e,t);const n=new fa(this,e,t);Ls(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){let e="",t=this._start;for(;null!==t;)!t.deleted&&t.countable&&t.content.constructor===Ta&&(e+=t.content.str),t=t.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:t=!0}={}){null!==this.doc?ys(this.doc,(n=>{const r=new Zs(null,this._start,0,new Map);for(let i=0;i<e.length;i++){const l=e[i];if(void 0!==l.insert){const o=t||"string"!=typeof l.insert||i!==e.length-1||null!==r.right||"\n"!==l.insert.slice(-1)?l.insert:l.insert.slice(0,-1);("string"!=typeof o||o.length>0)&&oa(n,this,r,o,l.attributes||{})}else void 0!==l.retain?sa(n,this,r,l.retain,l.attributes||{}):void 0!==l.delete&&da(n,r,l.delete)}})):this._pending.push((()=>this.applyDelta(e)))}toDelta(e,t,n){const r=[],i=new Map,l=this.doc;let o="",s=this._start;function a(){if(o.length>0){const e={};let t=!1;i.forEach(((n,r)=>{t=!0,e[r]=n}));const n={insert:o};t&&(n.attributes=e),r.push(n),o=""}}const u=()=>{for(;null!==s;){if(es(s,e)||void 0!==t&&es(s,t))switch(s.content.constructor){case Ta:{const r=i.get("ychange");void 0===e||es(s,e)?void 0===t||es(s,t)?void 0!==r&&(a(),i.delete("ychange")):void 0!==r&&r.user===s.id.client&&"added"===r.type||(a(),i.set("ychange",n?n("added",s.id):{type:"added"})):void 0!==r&&r.user===s.id.client&&"removed"===r.type||(a(),i.set("ychange",n?n("removed",s.id):{type:"removed"})),o+=s.content.str;break}case za:case Sa:{a();const e={insert:s.content.getContent()[0]};if(i.size>0){const t={};e.attributes=t,i.forEach(((e,n)=>{t[n]=e}))}r.push(e);break}case Ca:es(s,e)&&(a(),ra(i,s.content))}s=s.right}a()};return e||t?ys(l,(n=>{e&&ts(n,e),t&&ts(n,t),u()}),"cleanup"):u(),r}insert(e,t,n){if(t.length<=0)return;const r=this.doc;null!==r?ys(r,(r=>{const i=ta(r,this,e,!n);n||(n={},i.currentAttributes.forEach(((e,t)=>{n[t]=e}))),oa(r,this,i,t,n)})):this._pending.push((()=>this.insert(e,t,n)))}insertEmbed(e,t,n){const r=this.doc;null!==r?ys(r,(r=>{const i=ta(r,this,e,!n);oa(r,this,i,t,n||{})})):this._pending.push((()=>this.insertEmbed(e,t,n||{})))}delete(e,t){if(0===t)return;const n=this.doc;null!==n?ys(n,(n=>{da(n,ta(n,this,e,!0),t)})):this._pending.push((()=>this.delete(e,t)))}format(e,t,n){if(0===t)return;const r=this.doc;null!==r?ys(r,(r=>{const i=ta(r,this,e,!1);null!==i.right&&sa(r,this,i,t,n)})):this._pending.push((()=>this.format(e,t,n)))}removeAttribute(e){null!==this.doc?ys(this.doc,(t=>{js(t,this,e)})):this._pending.push((()=>this.removeAttribute(e)))}setAttribute(e,t){null!==this.doc?ys(this.doc,(n=>{$s(n,this,e,t)})):this._pending.push((()=>this.setAttribute(e,t)))}getAttribute(e){return Vs(this,e)}getAttributes(){return Ks(this)}_write(e){e.writeTypeRef(La)}}class pa{constructor(e,t=()=>!0){this._filter=t,this._root=e,this._currentNode=e._start,this._firstCall=!0}[Symbol.iterator](){return this}next(){let e=this._currentNode,t=e&&e.content&&e.content.type;if(null!==e&&(!this._firstCall||e.deleted||!this._filter(t)))do{if(t=e.content.type,e.deleted||t.constructor!==ma&&t.constructor!==ga||null===t._start)for(;null!==e;){if(null!==e.right){e=e.right;break}e=e.parent===this._root?null:e.parent._item}else e=t._start}while(null!==e&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,null===e?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ga extends Os{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,t){super._integrate(e,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ga}clone(){const e=new ga;return e.insert(0,this.toArray().map((e=>e instanceof Os?e.clone():e))),e}get length(){return null===this._prelimContent?this._length:this._prelimContent.length}createTreeWalker(e){return new pa(this,e)}querySelector(e){e=e.toUpperCase();const t=new pa(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)).next();return t.done?null:t.value}querySelectorAll(e){return e=e.toUpperCase(),qi(new pa(this,(t=>t.nodeName&&t.nodeName.toUpperCase()===e)))}_callObserver(e,t){Ls(this,e,new ya(this,t,e))}toString(){return Fs(this,(e=>e.toString())).join("")}toJSON(){return this.toString()}toDOM(e=document,t={},n){const r=e.createDocumentFragment();return void 0!==n&&n._createAssociation(r,this),zs(this,(i=>{r.insertBefore(i.toDOM(e,t,n),null)})),r}insert(e,t){null!==this.doc?ys(this.doc,(n=>{Bs(n,this,e,t)})):this._prelimContent.splice(e,0,...t)}insertAfter(e,t){if(null!==this.doc)ys(this.doc,(n=>{const r=e&&e instanceof Os?e._item:e;Rs(n,this,r,t)}));else{const n=this._prelimContent,r=null===e?0:n.findIndex((t=>t===e))+1;if(0===r&&null!==e)throw zl("Reference item not found");n.splice(r,0,...t)}}delete(e,t=1){null!==this.doc?ys(this.doc,(n=>{Us(n,this,e,t)})):this._prelimContent.splice(e,t)}toArray(){return Ds(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return As(this,e)}slice(e=0,t=this.length){return Ms(this,e,t)}forEach(e){zs(this,e)}_write(e){e.writeTypeRef(Ma)}}class ma extends ga{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,t){super._integrate(e,t),this._prelimAttrs.forEach(((e,t)=>{this.setAttribute(t,e)})),this._prelimAttrs=null}_copy(){return new ma(this.nodeName)}clone(){const e=new ma(this.nodeName);return((e,t)=>{for(const n in e)t(e[n],n)})(this.getAttributes(),((t,n)=>{"string"==typeof t&&e.setAttribute(n,t)})),e.insert(0,this.toArray().map((e=>e instanceof Os?e.clone():e))),e}toString(){const e=this.getAttributes(),t=[],n=[];for(const t in e)n.push(t);n.sort();const r=n.length;for(let i=0;i<r;i++){const r=n[i];t.push(r+'="'+e[r]+'"')}const i=this.nodeName.toLocaleLowerCase();return`<${i}${t.length>0?" "+t.join(" "):""}>${super.toString()}</${i}>`}removeAttribute(e){null!==this.doc?ys(this.doc,(t=>{js(t,this,e)})):this._prelimAttrs.delete(e)}setAttribute(e,t){null!==this.doc?ys(this.doc,(n=>{$s(n,this,e,t)})):this._prelimAttrs.set(e,t)}getAttribute(e){return Vs(this,e)}hasAttribute(e){return Hs(this,e)}getAttributes(e){return e?((e,t)=>{const n={};return this._map.forEach(((e,r)=>{let i=e;for(;null!==i&&(!t.sv.has(i.id.client)||i.id.clock>=(t.sv.get(i.id.client)||0));)i=i.left;null!==i&&es(i,t)&&(n[r]=i.content.getContent()[i.length-1])})),n})(0,e):Ks(this)}toDOM(e=document,t={},n){const r=e.createElement(this.nodeName),i=this.getAttributes();for(const e in i){const t=i[e];"string"==typeof t&&r.setAttribute(e,t)}return zs(this,(i=>{r.appendChild(i.toDOM(e,t,n))})),void 0!==n&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(Oa),e.writeKey(this.nodeName)}}class ya extends xs{constructor(e,t,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach((e=>{null===e?this.childListChanged=!0:this.attributesChanged.add(e)}))}}class _a extends ha{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new _a}clone(){const e=new _a;return e.applyDelta(this.toDelta()),e}toDOM(e=document,t,n){const r=e.createTextNode(this.toString());return void 0!==n&&n._createAssociation(r,this),r}toString(){return this.toDelta().map((e=>{const t=[];for(const n in e.attributes){const r=[];for(const t in e.attributes[n])r.push({key:t,value:e.attributes[n][t]});r.sort(((e,t)=>e.key<t.key?-1:1)),t.push({nodeName:n,attrs:r})}t.sort(((e,t)=>e.nodeName<t.nodeName?-1:1));let n="";for(let e=0;e<t.length;e++){const r=t[e];n+=`<${r.nodeName}`;for(let e=0;e<r.attrs.length;e++){const t=r.attrs[e];n+=` ${t.key}="${t.value}"`}n+=">"}n+=e.insert;for(let e=t.length-1;e>=0;e--)n+=`</${t[e].nodeName}>`;return n})).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Da)}}class va{constructor(e,t){this.id=e,this.length=t}get deleted(){throw Fl()}mergeWith(e){return!1}write(e,t,n){throw Fl()}integrate(e,t){throw Fl()}}class ba extends va{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor===e.constructor&&(this.length+=e.length,!0)}integrate(e,t){t>0&&(this.id.clock+=t,this.length-=t),ls(e.doc.store,this)}write(e,t){e.writeInfo(0),e.writeLen(this.length-t)}getMissing(e,t){return null}}class ka{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new ka(this.content)}splice(e){throw Fl()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeBuf(this.content)}getRef(){return 3}}class wa{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new wa(this.len)}splice(e){const t=new wa(this.len-e);return this.len=e,t}mergeWith(e){return this.len+=e.len,!0}integrate(e,t){Lo(e.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(e){}gc(e){}write(e,t){e.writeLen(this.len-t)}getRef(){return 1}}class xa{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const t={};this.opts=t,e.gc||(t.gc=!1),e.autoLoad&&(t.autoLoad=!0),null!==e.meta&&(t.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new xa((e=this.doc.guid,t=this.opts,new Mo({guid:e,...t,shouldLoad:t.shouldLoad||t.autoLoad||!1})));var e,t}splice(e){throw Fl()}mergeWith(e){return!1}integrate(e,t){this.doc._item=t,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,t){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}class Sa{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Sa(this.embed)}splice(e){throw Fl()}mergeWith(e){return!1}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeJSON(this.embed)}getRef(){return 5}}class Ca{constructor(e,t){this.key=e,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Ca(this.key,this.value)}splice(e){throw Fl()}mergeWith(e){return!1}integrate(e,t){const n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,t){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}class Ea{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Ea(this.arr)}splice(e){const t=new Ea(this.arr.slice(e));return this.arr=this.arr.slice(0,e),t}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){const n=this.arr.length;e.writeLen(n-t);for(let r=t;r<n;r++){const t=this.arr[r];e.writeAny(t)}}getRef(){return 8}}class Ta{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new Ta(this.str)}splice(e){const t=new Ta(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"�",t.str="�"+t.str.slice(1)),t}mergeWith(e){return this.str+=e.str,!0}integrate(e,t){}delete(e){}gc(e){}write(e,t){e.writeString(0===t?this.str:this.str.slice(t))}getRef(){return 4}}const Na=0,Pa=1,La=2,Oa=3,Ma=4,Da=6;class za{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new za(this.type._copy())}splice(e){throw Fl()}mergeWith(e){return!1}integrate(e,t){this.type._integrate(e.doc,t)}delete(e){let t=this.type._start;for(;null!==t;)t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e),t=t.right;this.type._map.forEach((t=>{t.deleted?t.id.clock<(e.beforeState.get(t.id.client)||0)&&e._mergeStructs.push(t):t.delete(e)})),e.changed.delete(this.type)}gc(e){let t=this.type._start;for(;null!==t;)t.gc(e,!0),t=t.right;this.type._start=null,this.type._map.forEach((t=>{for(;null!==t;)t.gc(e,!0),t=t.left})),this.type._map=new Map}write(e,t){this.type._write(e)}getRef(){return 7}}const Fa=(e,t)=>{let n,r=t,i=0;do{i>0&&(r=Vo(r.client,r.clock+i)),n=ss(e,r),i=r.clock-n.id.clock,r=n.redone}while(null!==r&&n instanceof Ba);return{item:n,diff:i}},Ia=(e,t)=>{for(;null!==e&&e.keep!==t;)e.keep=t,e=e.parent._item},Aa=(e,t,n)=>{const{client:r,clock:i}=t.id,l=new Ba(Vo(r,i+n),t,Vo(r,i+n-1),t.right,t.rightOrigin,t.parent,t.parentSub,t.content.splice(n));return t.deleted&&l.markDeleted(),t.keep&&(l.keep=!0),null!==t.redone&&(l.redone=Vo(t.redone.client,t.redone.clock+n)),t.right=l,null!==l.right&&(l.right.left=l),e._mergeStructs.push(l),null!==l.parentSub&&null===l.right&&l.parent._map.set(l.parentSub,l),t.length=n,l},Ra=(e,t)=>((e,n)=>{for(let n=0;n<e.length;n++)if(r=e[n],To(r.deletions,t))return!0;var r;return!1})(e),Wa=(e,t,n,r,i,l)=>{const o=e.doc,s=o.store,a=o.clientID,u=t.redone;if(null!==u)return us(e,u);let c,d=t.parent._item,f=null;if(null!==d&&!0===d.deleted){if(null===d.redone&&(!n.has(d)||null===Wa(e,d,n,r,i,l)))return null;for(;null!==d.redone;)d=us(e,d.redone)}const h=null===d?t.parent:d.content.type;if(null===t.parentSub){for(f=t.left,c=t;null!==f;){let t=f;for(;null!==t&&t.parent._item!==d;)t=null===t.redone?null:us(e,t.redone);if(null!==t&&t.parent._item===d){f=t;break}f=f.left}for(;null!==c;){let t=c;for(;null!==t&&t.parent._item!==d;)t=null===t.redone?null:us(e,t.redone);if(null!==t&&t.parent._item===d){c=t;break}c=c.right}}else if(c=null,t.right&&!i){for(f=t;null!==f&&null!==f.right&&(f.right.redone||To(r,f.right.id)||Ra(l.undoStack,f.right.id)||Ra(l.redoStack,f.right.id));)for(f=f.right;f.redone;)f=us(e,f.redone);if(f&&null!==f.right)return null}else f=h._map.get(t.parentSub)||null;const p=is(s,a),g=Vo(a,p),m=new Ba(g,f,f&&f.lastId,c,c&&c.id,h,t.parentSub,t.content.copy());return t.redone=g,Ia(m,!0),m.integrate(e,0),m};class Ba extends va{constructor(e,t,n,r,i,l,o,s){super(e,s.getLength()),this.origin=n,this.left=t,this.right=r,this.rightOrigin=i,this.parent=l,this.parentSub=o,this.redone=null,this.content=s,this.info=this.content.isCountable()?2:0}set marker(e){(8&this.info)>0!==e&&(this.info^=8)}get marker(){return(8&this.info)>0}get keep(){return(1&this.info)>0}set keep(e){this.keep!==e&&(this.info^=1)}get countable(){return(2&this.info)>0}get deleted(){return(4&this.info)>0}set deleted(e){this.deleted!==e&&(this.info^=4)}markDeleted(){this.info|=4}getMissing(e,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=is(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=is(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===jo&&this.id.client!==this.parent.client&&this.parent.clock>=is(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=cs(e,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=us(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===ba||this.right&&this.right.constructor===ba)this.parent=null;else if(this.parent){if(this.parent.constructor===jo){const e=ss(t,this.parent);e.constructor===ba?this.parent=null:this.parent=e.content.type}}else this.left&&this.left.constructor===Ba&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Ba&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);return null}integrate(e,t){if(t>0&&(this.id.clock+=t,this.left=cs(e,e.doc.store,Vo(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||null!==this.right.left)||this.left&&this.left.right!==this.right){let t,n=this.left;if(null!==n)t=n.right;else if(null!==this.parentSub)for(t=this.parent._map.get(this.parentSub)||null;null!==t&&null!==t.left;)t=t.left;else t=this.parent._start;const r=new Set,i=new Set;for(;null!==t&&t!==this.right;){if(i.add(t),r.add(t),$o(this.origin,t.origin)){if(t.id.client<this.id.client)n=t,r.clear();else if($o(this.rightOrigin,t.rightOrigin))break}else{if(null===t.origin||!i.has(ss(e.doc.store,t.origin)))break;r.has(ss(e.doc.store,t.origin))||(n=t,r.clear())}t=t.right}this.left=n}if(null!==this.left){const e=this.left.right;this.right=e,this.left.right=this}else{let e;if(null!==this.parentSub)for(e=this.parent._map.get(this.parentSub)||null;null!==e&&null!==e.left;)e=e.left;else e=this.parent._start,this.parent._start=this;this.right=e}null!==this.right?this.right.left=this:null!==this.parentSub&&(this.parent._map.set(this.parentSub,this),null!==this.left&&this.left.delete(e)),null===this.parentSub&&this.countable&&!this.deleted&&(this.parent._length+=this.length),ls(e.doc.store,this),this.content.integrate(e,this),ps(e,this.parent,this.parentSub),(null!==this.parent._item&&this.parent._item.deleted||null!==this.parentSub&&null!==this.right)&&this.delete(e)}else new ba(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;null!==e&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;null!==e&&e.deleted;)e=e.left;return e}get lastId(){return 1===this.length?this.id:Vo(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&$o(e.origin,this.lastId)&&this.right===e&&$o(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&null===this.redone&&null===e.redone&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const t=this.parent._searchMarker;return t&&t.forEach((t=>{t.p===e&&(t.p=this,!this.deleted&&this.countable&&(t.index-=this.length))})),e.keep&&(this.keep=!0),this.right=e.right,null!==this.right&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const t=this.parent;this.countable&&null===this.parentSub&&(t._length-=this.length),this.markDeleted(),Lo(e.deleteSet,this.id.client,this.id.clock,this.length),ps(e,t,this.parentSub),this.content.delete(e)}}gc(e,t){if(!this.deleted)throw Il();this.content.gc(e),t?((e,t,n)=>{const r=e.clients.get(t.id.client);r[os(r,t.id.clock)]=n})(e,this,new ba(this.id,this.length)):this.content=new wa(this.length)}write(e,t){const n=t>0?Vo(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,i=this.parentSub,l=31&this.content.getRef()|(null===n?0:rl)|(null===r?0:64)|(null===i?0:32);if(e.writeInfo(l),null!==n&&e.writeLeftID(n),null!==r&&e.writeRightID(r),null===n&&null===r){const t=this.parent;if(void 0!==t._item){const n=t._item;if(null===n){const n=Ko(t);e.writeParentInfo(!0),e.writeString(n)}else e.writeParentInfo(!1),e.writeLeftID(n.id)}else t.constructor===String?(e.writeParentInfo(!0),e.writeString(t)):t.constructor===jo?(e.writeParentInfo(!1),e.writeLeftID(t)):Il();null!==i&&e.writeString(i)}this.content.write(e,t)}}const Ua="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},ja="__ $YJS$ __";!0===Ua[ja]&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Ua[ja]=!0;var $a=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));function Va(e,t){const n=[];let r=e.__first;for(;null!==r;){const e=null===t?ct(r):t.get(r);null==e&&$a(174),n.push(r),r=e.__next}return n}function Ka(e){let t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function Ha(e){const t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)})),new Map;var Qa=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));class Ya{constructor(e,t){this._key="",this._map=e,this._parent=t,this._type="linebreak"}getNode(){const e=ct(this._key);return ar(e)?e:null}getKey(){return this._key}getSharedType(){return this._map}getType(){return this._type}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}destroy(e){e.collabNodeMap.delete(this._key)}}function qa(e,t){const n=new Ya(e,t);return e._collabNode=n,n}class Ja{constructor(e,t,n,r){this._key="",this._map=e,this._parent=n,this._text=t,this._type=r,this._normalized=!1}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return Er(t)?t:null}getNode(){const e=ct(this._key);return Er(e)?e:null}getSharedType(){return this._map}getType(){return this._type}getKey(){return this._key}getSize(){return this._text.length+(this._normalized?0:1)}getOffset(){return this._parent.getChildOffset(this)}spliceText(e,t,n){const r=this._parent._xmlText,i=this.getOffset()+1+e;0!==t&&r.delete(i,t),""!==n&&r.insert(i,n)}syncPropertiesAndTextFromLexical(e,t,n){const r=this.getPrevNode(n),i=t.__text;if(au(e,this._map,r,t),null!==r){const e=r.__text;e!==i&&(function(e,t,n,r){const i=qr();let l=r.length;if(Ir(i)&&i.isCollapsed()){const e=i.anchor;e.key===t&&(l=e.offset)}const o=function(e,t,n){const r=e.length,i=t.length;let l=0,o=0;for(;l<r&&l<i&&e[l]===t[l]&&l<n;)l++;for(;o+l<r&&o+l<i&&e[r-o-1]===t[i-o-1];)o++;for(;o+l<r&&o+l<i&&e[l]===t[l];)l++;return{index:l,insert:t.slice(l,i-o),remove:r-l-o}}(n,r,l);e.spliceText(o.index,o.remove,o.insert)}(this,t.__key,e,i),this._text=i)}}syncPropertiesAndTextFromYjs(e,t){const n=this.getNode();null===n&&Qa(84),su(e,this._map,n,t);const r=this._text;n.__text!==r&&(n.getWritable().__text=r)}destroy(e){e.collabNodeMap.delete(this._key)}}function Xa(e,t,n,r){const i=new Ja(e,t,n,r);return e._collabNode=i,i}const Ga=new Set(["__key","__parent","__next","__prev"]),Za=new Set(["__first","__last","__size"]),eu=new Set(["__cachedText"]),tu=new Set(["__text"]);function nu(e,t,n){if(Ga.has(e))return!0;if(Er(t)){if(tu.has(e))return!0}else if(Ci(t)&&(Za.has(e)||Li(t)&&eu.has(e)))return!0;const r=t.constructor,i=n.excludedProperties.get(r);return null!=i&&i.has(e)}function ru(e){const t=ct(e);return null===t&&Qa(85),t}function iu(e,t,n){const r=t.__type;let i;if(Ci(t))i=yu(new _a,n,r),i.syncPropertiesFromLexical(e,t,null),i.syncChildrenFromLexical(e,t,null,null,null);else if(Er(t))i=Xa(new Xs,t.__text,n,r),i.syncPropertiesAndTextFromLexical(e,t,null);else if(ar(t)){const e=new Xs;e.set("__type","linebreak"),i=qa(e,n)}else Ni(t)?(i=gu(new ma,n,r),i.syncPropertiesFromLexical(e,t,null)):Qa(86);return i._key=t.__key,i}function lu(e,t,n){const r=t._collabNode;if(void 0===r){const r=e.editor._nodes,i=function(e){const t=e instanceof Xs?e.get("__type"):e.getAttribute("__type");return null==t&&Qa(87),t}(t);void 0===r.get(i)&&Qa(88,i);const l=t.parent,o=void 0===n&&null!==l?lu(e,l):n||null;if(o instanceof mu||Qa(89),t instanceof _a)return yu(t,o,i);if(t instanceof Xs)return"linebreak"===i?qa(t,o):Xa(t,"",o,i);if(t instanceof ma)return gu(t,o,i)}return r}function ou(e,t,n){const r=t.getType(),i=e.editor._nodes.get(r);void 0===i&&Qa(88,r);const l=new i.klass;if(l.__parent=n,t._key=l.__key,t instanceof mu){const n=t._xmlText;t.syncPropertiesFromYjs(e,null),t.applyChildrenYjsDelta(e,n.toDelta()),t.syncChildrenFromYjs(e)}else t instanceof Ja?t.syncPropertiesAndTextFromYjs(e,null):t instanceof pu&&t.syncPropertiesFromYjs(e,null);return e.collabNodeMap.set(l.__key,t),l}function su(e,t,n,r){const i=null===r?t instanceof Xs?Array.from(t.keys()):Object.keys(t.getAttributes()):Array.from(r);let l;for(let r=0;r<i.length;r++){const o=i[r];if(nu(o,n,e))continue;const s=n[o];let a=t instanceof Xs?t.get(o):t.getAttribute(o);if(s!==a){if(a instanceof Mo){const t=e.docMap;s instanceof Mo&&t.delete(s.guid);const n=Ui(),r=a.guid;n._key=r,t.set(r,a),a=n}void 0===l&&(l=n.getWritable()),l[o]=a}}}function au(e,t,n,r){const i=r.__type,l=e.nodeProperties;let o=l.get(i);void 0===o&&(o=Object.keys(r).filter((t=>!nu(t,r,e))),l.set(i,o));const s=e.editor.constructor;for(let i=0;i<o.length;i++){const l=o[i],a=null===n?void 0:n[l];let u=r[l];if(a!==u){if(u instanceof s){const t=e.docMap;let n;if(a instanceof s){const e=a._key;n=t.get(e),t.delete(e)}const i=n||new Mo,l=i.guid;u._key=l,t.set(l,i),u=i,e.editor.update((()=>{r.markDirty()}))}t instanceof Xs?t.set(l,u):t.setAttribute(l,u)}}}function uu(e,t,n,r){return e.slice(0,t)+r+e.slice(t+n)}function cu(e,t,n){let r=0,i=0;const l=e._children,o=l.length;for(;i<o;i++){const e=l[i],s=r;if(r+=e.getSize(),(n?r>=t:r>t)&&e instanceof Ja){let n=t-s-1;return n<0&&(n=0),{length:r-t,node:e,nodeIndex:i,offset:n}}if(r>t)return{length:0,node:e,nodeIndex:i,offset:s};if(i===o-1)return{length:0,node:null,nodeIndex:i+1,offset:s+1}}return{length:0,node:null,nodeIndex:0,offset:0}}function du(e){const t=e.anchor,n=e.focus;let r=!1;try{const e=t.getNode(),i=n.getNode();(!e.isAttached()||!i.isAttached()||Er(e)&&t.offset>e.getTextContentSize()||Er(i)&&n.offset>i.getTextContentSize())&&(r=!0)}catch(e){r=!0}return r}function fu(e){const t=e.getParent();if(null!==t){const n=e.getWritable(),r=t.getWritable(),i=e.getPreviousSibling(),l=e.getNextSibling();if(null===i)if(null!==l){const e=l.getWritable();r.__first=l.__key,e.__prev=null}else r.__first=null;else{const e=i.getWritable();if(null!==l){const t=l.getWritable();t.__prev=e.__key,e.__next=t.__key}else e.__next=null;n.__prev=null}if(null===l)if(null!==i){const e=i.getWritable();r.__last=i.__key,e.__next=null}else r.__last=null;else{const e=l.getWritable();if(null!==i){const t=i.getWritable();t.__next=e.__key,e.__prev=t.__key}else e.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function hu(e,t){const n=t._nodeMap.get(e);if(!n)return void gt().selectStart();const r=n.__prev;let i=null;r&&(i=ct(r)),null===i&&null!==n.__parent&&(i=ct(n.__parent)),null!==i?null!==i&&i.isAttached()?i.selectEnd():hu(i.__key,t):gt().selectStart()}class pu{constructor(e,t,n){this._key="",this._xmlElem=e,this._parent=t,this._type=n}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return Ni(t)?t:null}getNode(){const e=ct(this._key);return Ni(e)?e:null}getSharedType(){return this._xmlElem}getType(){return this._type}getKey(){return this._key}getSize(){return 1}getOffset(){return this._parent.getChildOffset(this)}syncPropertiesFromLexical(e,t,n){const r=this.getPrevNode(n);au(e,this._xmlElem,r,t)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&Qa(83),su(e,this._xmlElem,n,t)}destroy(e){e.collabNodeMap.delete(this._key)}}function gu(e,t,n){const r=new pu(e,t,n);return e._collabNode=r,r}class mu{constructor(e,t,n){this._key="",this._children=[],this._xmlText=e,this._type=n,this._parent=t}getPrevNode(e){if(null===e)return null;const t=e.get(this._key);return Ci(t)?t:null}getNode(){const e=ct(this._key);return Ci(e)?e:null}getSharedType(){return this._xmlText}getType(){return this._type}getKey(){return this._key}isEmpty(){return 0===this._children.length}getSize(){return 1}getOffset(){const e=this._parent;return null===e&&Qa(90),e.getChildOffset(this)}syncPropertiesFromYjs(e,t){const n=this.getNode();null===n&&Qa(91),su(e,this._xmlText,n,t)}applyChildrenYjsDelta(e,t){const n=this._children;let r=0;for(let i=0;i<t.length;i++){const l=t[i],o=l.insert,s=l.delete;if(null!=l.retain)r+=l.retain;else if("number"==typeof s){let e=s;for(;e>0;){const{node:t,nodeIndex:i,offset:l,length:o}=cu(this,r,!1);if(t instanceof mu||t instanceof Ya||t instanceof pu)n.splice(i,1),e-=1;else{if(!(t instanceof Ja))break;{const r=Math.min(e,o),s=0!==i?n[i-1]:null,a=t.getSize();0===l&&1===r&&i>0&&s instanceof Ja&&o===a&&0===Array.from(t._map.keys()).length?(s._text+=t._text,n.splice(i,1)):0===l&&r===a?n.splice(i,1):t._text=uu(t._text,l,r,""),e-=r}}}}else{if(null==o)throw new Error("Unexpected delta format");if("string"==typeof o){const{node:e,offset:t}=cu(this,r,!0);e instanceof Ja?e._text=uu(e._text,t,0,o):this._xmlText.delete(t,o.length),r+=o.length}else{const t=o,{nodeIndex:i}=cu(this,r,!1),l=lu(e,t,this);n.splice(i,0,l),r+=1}}}}syncChildrenFromYjs(e){const t=this.getNode();null===t&&Qa(92);const n=t.__key,r=Va(t,null),i=r.length,l=this._children,o=l.length,s=e.collabNodeMap,a=new Set;let u,c,d=0,f=null;o!==i&&(c=t.getWritable());for(let i=0;i<o;i++){const h=r[d],p=l[i],g=p.getNode(),m=p._key;if(null!==g&&h===m){const t=Er(g);if(a.add(h),t)if(p._key=h,p instanceof mu){const t=p._xmlText;p.syncPropertiesFromYjs(e,null),p.applyChildrenYjsDelta(e,t.toDelta()),p.syncChildrenFromYjs(e)}else p instanceof Ja?p.syncPropertiesAndTextFromYjs(e,null):p instanceof pu?p.syncPropertiesFromYjs(e,null):p instanceof Ya||Qa(93);f=g,d++}else{if(void 0===u){u=new Set;for(let e=0;e<o;e++){const t=l[e]._key;""!==t&&u.add(t)}}if(null!==g&&void 0!==h&&!u.has(h)){fu(ru(h)),i--,d++;continue}c=t.getWritable();const r=ou(e,p,n),a=r.__key;if(s.set(a,p),null===f){const e=c.getFirstChild();if(c.__first=a,null!==e){const t=e.getWritable();t.__prev=a,r.__next=t.__key}}else{const e=f.getWritable(),t=f.getNextSibling();if(e.__next=a,r.__prev=f.__key,null!==t){const e=t.getWritable();e.__prev=a,r.__next=e.__key}}i===o-1&&(c.__last=a),c.__size++,f=r}}for(let t=0;t<i;t++){const n=r[t];if(!a.has(n)){const t=ru(n),r=e.collabNodeMap.get(n);void 0!==r&&r.destroy(e),fu(t)}}}syncPropertiesFromLexical(e,t,n){au(e,this._xmlText,this.getPrevNode(n),t)}_syncChildFromLexical(e,t,n,r,i,l){const o=this._children[t],s=ru(n);o instanceof mu&&Ci(s)?(o.syncPropertiesFromLexical(e,s,r),o.syncChildrenFromLexical(e,s,r,i,l)):o instanceof Ja&&Er(s)?o.syncPropertiesAndTextFromLexical(e,s,r):o instanceof pu&&Ni(s)&&o.syncPropertiesFromLexical(e,s,r)}syncChildrenFromLexical(e,t,n,r,i){const l=this.getPrevNode(n),o=null===l?[]:Va(l,n),s=Va(t,null),a=o.length-1,u=s.length-1,c=e.collabNodeMap;let d,f,h=0,p=0;for(;h<=a&&p<=u;){const t=o[h],l=s[p];if(t===l)this._syncChildFromLexical(e,p,l,n,r,i),h++,p++;else{void 0===d&&(d=new Set(o)),void 0===f&&(f=new Set(s));const n=f.has(t),r=d.has(l);if(n){const t=iu(e,ru(l),this);c.set(l,t),r?(this.splice(e,p,1,t),h++,p++):(this.splice(e,p,0,t),p++)}else this.splice(e,p,1),h++}}const g=h>a,m=p>u;if(g&&!m)for(;p<=u;++p){const t=s[p],n=iu(e,ru(t),this);this.append(n),c.set(t,n)}else if(m&&!g)for(let t=this._children.length-1;t>=p;t--)this.splice(e,t,1)}append(e){const t=this._xmlText,n=this._children,r=n[n.length-1],i=void 0!==r?r.getOffset()+r.getSize():0;if(e instanceof mu)t.insertEmbed(i,e._xmlText);else if(e instanceof Ja){const n=e._map;null===n.parent&&t.insertEmbed(i,n),t.insert(i+1,e._text)}else e instanceof Ya?t.insertEmbed(i,e._map):e instanceof pu&&t.insertEmbed(i,e._xmlElem);this._children.push(e)}splice(e,t,n,r){const i=this._children,l=i[t];if(void 0===l)return void 0===r&&Qa(94),void this.append(r);const o=l.getOffset();-1===o&&Qa(95);const s=this._xmlText;if(0!==n&&s.delete(o,l.getSize()),r instanceof mu)s.insertEmbed(o,r._xmlText);else if(r instanceof Ja){const e=r._map;null===e.parent&&s.insertEmbed(o,e),s.insert(o+1,r._text)}else r instanceof Ya?s.insertEmbed(o,r._map):r instanceof pu&&s.insertEmbed(o,r._xmlElem);if(0!==n){const r=i.slice(t,t+n);for(let t=0;t<r.length;t++)r[t].destroy(e)}void 0!==r?i.splice(t,n,r):i.splice(t,n)}getChildOffset(e){let t=0;const n=this._children;for(let r=0;r<n.length;r++){const i=n[r];if(i===e)return t;t+=i.getSize()}return-1}destroy(e){const t=e.collabNodeMap,n=this._children;for(let t=0;t<n.length;t++)n[t].destroy(e);t.delete(this._key)}}function yu(e,t,n){const r=new mu(e,t,n);return e._collabNode=r,r}function _u(e,t){const n=t.collabNodeMap.get(e.key);if(void 0===n)return null;let r=e.offset,i=n.getSharedType();if(n instanceof Ja){i=n._parent._xmlText;const e=n.getOffset();if(-1===e)return null;r=e+1+r}else if(n instanceof mu&&"element"===e.type){const t=e.getNode();Ci(t)||Qa(184);let n=0,i=0,l=t.getFirstChild();for(;null!==l&&i++<r;)Er(l)?n+=l.getTextContentSize()+1:n++,l=l.getNextSibling();r=n}return Jo(i,r)}function vu(e,t){return Xo(e,t.doc)}function bu(e,t){if(null==e){if(null!=t)return!0}else if(null==t||!Go(e,t))return!0;return!1}function ku(e,t){return{color:t,name:e,selection:null}}function wu(e,t){const n=e.cursorsContainer;if(null!==n){const e=t.selections,r=e.length;for(let t=0;t<r;t++)n.removeChild(e[t])}}function xu(e,t){const n=t.selection;null!==n&&wu(e,n)}function Su(e,t,n,r,i){const l=e.color,o=document.createElement("span");o.style.cssText=`position:absolute;top:0;bottom:0;right:-1px;width:1px;background-color:${l};z-index:10;`;const s=document.createElement("span");return s.textContent=e.name,s.style.cssText=`position:absolute;left:-2px;top:-16px;background-color:${l};color:#fff;line-height:12px;font-size:12px;padding:2px;font-family:Arial;font-weight:bold;white-space:nowrap;`,o.appendChild(s),{anchor:{key:t,offset:n},caret:o,color:l,focus:{key:r,offset:i},name:s,selections:[]}}function Cu(e,t,n,r){const i=e.editor,l=i.getRootElement(),o=e.cursorsContainer;if(null===o||null===l)return;const s=o.offsetParent;if(null===s)return;const a=s.getBoundingClientRect(),u=t.selection;if(null===n)return null===u?void 0:(t.selection=null,void wu(e,u));t.selection=n;const c=n.caret,d=n.color,f=n.selections,h=n.anchor,p=n.focus,g=h.key,m=p.key,y=r.get(g),_=r.get(m);if(null==y||null==_)return;let v;if(y===_&&ar(y))v=[i.getElementByKey(g).getBoundingClientRect()];else{const e=function(e,t,n,r,i){const l=t.getKey(),o=r.getKey(),s=document.createRange();let a=e.getElementByKey(l),u=e.getElementByKey(o),c=n,d=i;if(Er(t)&&(a=Ka(a)),Er(r)&&(u=Ka(u)),void 0===t||void 0===r||null===a||null===u)return null;"BR"===a.nodeName&&([a,c]=Ha(a)),"BR"===u.nodeName&&([u,d]=Ha(u));const f=a.firstChild;a===u&&null!=f&&"BR"===f.nodeName&&0===c&&0===d&&(d=1);try{s.setStart(a,c),s.setEnd(u,d)}catch(e){return null}return!s.collapsed||c===d&&l===o||(s.setStart(u,d),s.setEnd(a,c)),s}(i,y,h.offset,_,p.offset);if(null===e)return;v=function(e,t){const n=e.getRootElement();if(null===n)return[];const r=n.getBoundingClientRect(),i=getComputedStyle(n),l=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),o=Array.from(t.getClientRects());let s,a=o.length;o.sort(((e,t)=>{const n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n}));for(let e=0;e<a;e++){const t=o[e],n=s&&s.top<=t.top&&s.top+s.height>t.top&&s.left+s.width>t.left,i=t.width+l===r.width;n||i?(o.splice(e--,1),a--):s=t}return o}(i,e)}const b=f.length,k=v.length;for(let e=0;e<k;e++){const t=v[e];let n=f[e];if(void 0===n){n=document.createElement("span"),f[e]=n;const t=document.createElement("span");n.appendChild(t),o.appendChild(n)}const r=`position:absolute;top:${t.top-a.top}px;left:${t.left-a.left}px;height:${t.height}px;width:${t.width}px;pointer-events:none;z-index:5;`;n.style.cssText=r,n.firstChild.style.cssText=`${r}left:0;top:0;background-color:${d};opacity:0.3;`,e===k-1&&c.parentNode!==n&&n.appendChild(c)}for(let e=b-1;e>=k;e--){const t=f[e];o.removeChild(t),f.pop()}}function Eu(e,t){const n=t.awareness.getLocalState();if(null===n)return;const r=n.anchorPos,i=n.focusPos;if(null!==r&&null!==i){const t=vu(r,e),n=vu(i,e);if(null!==t&&null!==n){const[e,r]=Nu(t.type,t.index),[i,l]=Nu(n.type,n.index);if(null!==e&&null!==i){const t=e.getKey(),n=i.getKey(),o=qr();if(!Ir(o))return;const s=o.anchor,a=o.focus;Tu(s,t,r),Tu(a,n,l)}}}}function Tu(e,t,n){if(e.key!==t||e.offset!==n){let r=ct(t);if(null!==r&&!Ci(r)&&!Er(r)){const e=r.getParentOrThrow();t=e.getKey(),n=r.getIndexWithinParent(),r=e}e.set(t,n,Ci(r)?"element":"text")}}function Nu(e,t){const n=e._collabNode;if(void 0===n)return[null,0];if(n instanceof mu){const{node:e,offset:r}=cu(n,t,!0);return null===e?[n,0]:[e,r]}return[null,0]}function Pu(e,t){const n=Array.from(t.awareness.getStates()),r=e.clientID,i=e.cursors,l=e.editor._editorState._nodeMap,o=new Set;for(let t=0;t<n.length;t++){const s=n[t],[a,u]=s;if(a!==r){o.add(a);const{anchorPos:t,focusPos:n,name:r,color:s,focusing:c}=u;let d=null,f=i.get(a);if(void 0===f&&(f=ku(r,s),i.set(a,f)),null!==t&&null!==n&&c){const r=vu(t,e),i=vu(n,e);if(null!==r&&null!==i){const[e,t]=Nu(r.type,r.index),[n,l]=Nu(i.type,i.index);if(null!==e&&null!==n){const r=e.getKey(),i=n.getKey();if(d=f.selection,null===d)d=Su(f,r,t,i,l);else{const e=d.anchor,n=d.focus;e.key=r,e.offset=t,n.key=i,n.offset=l}}}}Cu(e,f,d,l)}}const s=Array.from(i.keys());for(let t=0;t<s.length;t++){const n=s[t];if(!o.has(n)){const t=i.get(n);void 0!==t&&(xu(e,t),i.delete(n))}}}function Lu(e,t,n,r){const i=t.awareness,l=i.getLocalState();if(null===l)return;const{anchorPos:o,focusPos:s,name:a,color:u,focusing:c,awarenessData:d}=l;let f=null,h=null;(null!==r&&(null===o||r.is(n))||null!==n)&&(Ir(r)&&(f=_u(r.anchor,e),h=_u(r.focus,e)),(bu(o,f)||bu(s,h))&&i.setLocalState({anchorPos:f,awarenessData:d,color:u,focusPos:h,focusing:c,name:a}))}function Ou(e,t){const{target:n}=t,r=lu(e,n);if(r instanceof mu&&t instanceof fa){const{keysChanged:n,childListChanged:i,delta:l}=t;n.size>0&&r.syncPropertiesFromYjs(e,n),i&&(r.applyChildrenYjsDelta(e,l),r.syncChildrenFromYjs(e))}else if(r instanceof Ja&&t instanceof Js){const{keysChanged:n}=t;n.size>0&&r.syncPropertiesAndTextFromYjs(e,n)}else if(r instanceof pu&&t instanceof ya){const{attributesChanged:n}=t;n.size>0&&r.syncPropertiesFromYjs(e,n)}else Qa(82)}function Mu(e,t,n,r){const i=e.editor,l=i._editorState;n.forEach((e=>e.delta)),i.update((()=>{for(let t=0;t<n.length;t++){const r=n[t];Ou(e,r)}0===gt().getChildrenSize()&&gt().append(Ai());const r=qr();if(Ir(r))if(du(r)){const n=l._selection;Ir(n)&&(Eu(e,t),du(r))&&hu(r.anchor.key,l),Lu(e,t,n,qr())}else Eu(e,t)}),{onUpdate:()=>{Pu(e,t)},skipTransforms:!0,tag:r?"historic":"collaboration"})}const Du={},zu={};function Fu(e,t,n,r,i){const{awareness:l}=e;let o=l.getLocalState();null===o&&(o={anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:t}),o.focusing=r,l.setLocalState(o)}!function(e){e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")}((function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}));const Iu="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Au=Iu&&"documentMode"in document?document.documentMode:null;Iu&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Iu&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!Iu||!("InputEvent"in window)||Au)&&new window.InputEvent("input"),Iu&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Iu&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,Iu&&/Android/.test(navigator.userAgent),Iu&&/^(?=.*Chrome).*/i.test(navigator.userAgent);function Ru(...e){return()=>{for(let t=e.length-1;t>=0;t--)e[t]();e.length=0}}Iu&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);var Wu=n(961),Bu=n(4848);function Uu({id:e,providerFactory:t,shouldBootstrap:n,username:r,cursorColor:l,cursorsContainerRef:o,initialEditorState:a,excludedProperties:d,awarenessData:f}){const h=(0,i.useRef)(!1),p=(0,i.useRef)(!1),g=function(e,t){const n=(0,i.useContext)(s);return null!=e&&(n.name=e),null!=t&&(n.color=t),n}(r,l),{yjsDocMap:m,name:y,color:_}=g,[v]=function(){const e=(0,i.useContext)(c);return null==e&&u(8),e}();(0,i.useEffect)((()=>(g.isCollabActive=!0,()=>{null==v._parentEditor&&(g.isCollabActive=!1)})),[g,v]);const[b,k]=(0,i.useState)();(0,i.useEffect)((()=>{if(p.current)return;p.current=!0;const n=t(e,m);return k(n),()=>{n.disconnect()}}),[e,t,m]);const[w,x]=(0,i.useState)(m.get(e)),[S,C]=(0,i.useState)();return(0,i.useEffect)((()=>{if(!b)return;if(h.current)return;h.current=!0;const t=function(e,t,n,r,i,l){null==r&&Qa(81);const o=yu(r.get("root",_a),null,"root");return o._key="root",{clientID:r.clientID,collabNodeMap:new Map,cursors:new Map,cursorsContainer:null,doc:r,docMap:i,editor:e,excludedProperties:l||new Map,id:n,nodeProperties:new Map,root:o}}(v,0,e,w||m.get(e),m,d);return C(t),()=>{t.root.destroy(t)}}),[v,b,e,m,w,d]),b&&S?(0,Bu.jsx)(ju,{awarenessData:f,binding:S,collabContext:g,color:_,cursorsContainerRef:o,editor:v,id:e,initialEditorState:a,name:y,provider:b,setDoc:x,shouldBootstrap:n,yjsDocMap:m}):(0,Bu.jsx)(Bu.Fragment,{})}function ju({editor:e,id:t,provider:n,yjsDocMap:r,name:l,color:o,shouldBootstrap:s,cursorsContainerRef:a,initialEditorState:u,awarenessData:c,collabContext:d,binding:f,setDoc:h}){const p=function(e,t,n,r,l,o,s,a,u,c,d,f){const h=(0,i.useRef)(!1),p=(0,i.useCallback)((()=>{n.connect()}),[n]),g=(0,i.useCallback)((()=>{try{n.disconnect()}catch(e){}}),[n]);(0,i.useEffect)((()=>{const{root:i}=a,{awareness:c}=n,m=({status:t})=>{e.dispatchCommand(Du,"connected"===t)},y=t=>{s&&t&&i.isEmpty()&&0===i._xmlText._length&&!1===h.current&&function(e,t){e.update((()=>{const n=gt();if(n.isEmpty())if(t)switch(typeof t){case"string":{const n=e.parseEditorState(t);e.setEditorState(n,{tag:"history-merge"});break}case"object":e.setEditorState(t,{tag:"history-merge"});break;case"function":e.update((()=>{gt().isEmpty()&&t(e)}),{tag:"history-merge"})}else{const t=Ai();n.append(t);const{activeElement:r}=document;(null!==qr()||null!==r&&r===e.getRootElement())&&t.select()}}),{tag:"history-merge"})}(e,d),h.current=!1},_=()=>{Pu(a,n)},v=(e,t)=>{const r=t.origin;r!==a&&Mu(a,n,e,r instanceof ks)};!function(e,t,n,r,i){e.awareness.setLocalState({anchorPos:null,awarenessData:i,color:n,focusPos:null,focusing:r,name:t})}(n,l,o,document.activeElement===e.getRootElement(),f||{});const b=n=>{!function(e,t){if(e.update((()=>{const e=gt();e.clear(),e.select()}),{tag:"skip-collab"}),null==t.cursors)return;const n=t.cursors;if(null==n)return;const r=t.cursorsContainer;if(null==r)return;const i=Array.from(n.values());for(let e=0;e<i.length;e++){const t=i[e].selection;if(t&&null!=t.selections){const n=t.selections;for(let t=0;t<n.length;t++)r.removeChild(n[e])}}}(e,a),u(n),r.set(t,n),h.current=!0};n.on("reload",b),n.on("status",m),n.on("sync",y),c.on("update",_),i.getSharedType().observeDeep(v);const k=e.registerUpdateListener((({prevEditorState:e,editorState:t,dirtyLeaves:r,dirtyElements:i,normalizedNodes:l,tags:o})=>{!1===o.has("skip-collab")&&function(e,t,n,r,i,l,o,s){!function(e,t){e.doc.transact(t,e)}(e,(()=>{r.read((()=>{if(s.has("collaboration")||s.has("historic"))return void(o.size>0&&function(e,t){const n=Array.from(t),r=e.collabNodeMap,i=[];for(let e=0;e<n.length;e++){const t=n[e],l=ct(t),o=r.get(t);if(o instanceof Ja)if(Er(l))i.push([o,l.__text]);else{const e=o.getOffset();if(-1===e)continue;const n=o._parent;o._normalized=!0,n._xmlText.delete(e,1),r.delete(t);const i=n._children,l=i.indexOf(o);i.splice(l,1)}}for(let e=0;e<i.length;e++){const[t,n]=i[e];t instanceof Ja&&"string"==typeof n&&(t._text=n)}}(e,o));if(i.has("root")){const t=n._nodeMap,r=gt(),o=e.root;o.syncPropertiesFromLexical(e,r,t),o.syncChildrenFromLexical(e,r,t,i,l)}const r=qr(),a=n._selection;Lu(e,t,a,r)}))}))}(a,n,e,t,i,r,l,o)}));return p(),()=>{!1===h.current&&g(),n.off("sync",y),n.off("status",m),n.off("reload",b),c.off("update",_),i.getSharedType().unobserveDeep(v),r.delete(t),k()}}),[a,o,p,g,r,e,t,d,l,n,s,f,u]);const m=(0,i.useMemo)((()=>(0,Wu.createPortal)((0,Bu.jsx)("div",{ref:e=>{a.cursorsContainer=e}}),c&&c.current||document.body)),[a,c]);return(0,i.useEffect)((()=>e.registerCommand(zu,(e=>(void 0!==p&&void 0!==g&&(e?(console.log("Collaboration connected!"),p()):(console.log("Collaboration disconnected!"),g())),!0)),Wi)),[p,g,e]),m}(e,t,n,r,l,o,s,f,h,a,u,c);return d.clientID=f.clientID,function(e,t){const n=(0,i.useMemo)((()=>function(e,t){return new ks(t,{trackedOrigins:new Set([e,null])})}(t,t.root.getSharedType())),[t]);(0,i.useEffect)((()=>Ru(e.registerCommand(w,(()=>(n.undo(),!0)),Wi),e.registerCommand(x,(()=>(n.redo(),!0)),Wi))));const r=(0,i.useCallback)((()=>{n.clear()}),[n]);i.useEffect((()=>{const t=()=>{e.dispatchCommand(K,n.undoStack.length>0),e.dispatchCommand(V,n.redoStack.length>0)};return n.on("stack-item-added",t),n.on("stack-item-popped",t),n.on("stack-cleared",t),()=>{n.off("stack-item-added",t),n.off("stack-item-popped",t),n.off("stack-cleared",t)}}),[e,n])}(e,f),function(e,t,n,r,l){(0,i.useEffect)((()=>Ru(e.registerCommand(H,(()=>(Fu(t,n,r,!0,l||{}),!1)),Wi),e.registerCommand(Q,(()=>(Fu(t,n,r,!1,l||{}),!1)),Wi))),[r,e,n,t,l])}(e,n,l,o,c),p}return r})()));